/*! For license information please see search-index-esm-5.2.0.js.LICENSE.txt */
var t={296:(t,e,n)=>{var r=n(9691)("ArrayBuffer.prototype.byteLength",!0),i=n(4847);t.exports=function(t){return i(t)?r?r(t):t.byteLength:NaN}},2949:t=>{const e=async function(){}.constructor;t.exports=()=>e},4259:(t,e)=>{e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],c=o[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),h=0,l=c>0?s-4:s;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[h++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7313:(t,e,n)=>{const{AbstractLevel:r}=n(828),{Iterator:i}=n(7719),o=n(8209),s=n(1259),a=n(7781),c="level-js-",u=Symbol("idb"),h=Symbol("namePrefix"),l=Symbol("location"),f=Symbol("version"),p=Symbol("store"),y=Symbol("onComplete");class d extends r{constructor(t,e){const{prefix:n,version:r,...i}=e||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},i),"string"!=typeof t||""===t)throw new TypeError("The first argument 'location' must be a non-empty string");this[l]=t,this[h]=null==n?c:n,this[f]=parseInt(r||1,10),this[u]=null}get location(){return this[l]}get namePrefix(){return this[h]}get version(){return this[f]}get db(){return this[u]}get type(){return"browser-level"}async _open(t){const e=indexedDB.open(this[h]+this[l],this[f]);return e.onupgradeneeded=t=>{const e=t.target.result;e.objectStoreNames.contains(this[l])||e.createObjectStore(this[l])},new Promise(((t,n)=>{e.onerror=function(){n(e.error||new Error("unknown error"))},e.onsuccess=()=>{this[u]=e.result,t()}}))}[p](t){return this[u].transaction([this[l]],t).objectStore(this[l])}[y](t){const e=t.transaction;return new Promise((function(n,r){e.onabort=function(){r(e.error||new Error("aborted by user"))},e.oncomplete=function(){n(t.result)}}))}async _get(t,e){const n=this[p]("readonly").get(t),r=await this[y](n);return o(r)}async _getMany(t,e){const n=this[p]("readonly"),r=t.values(),i=Math.min(16,t.length),s=new Array(i),a=new Array(t.length);let c=0,u=!1;const h=async function(){try{for(const t of r){if(u)break;const e=c++,r=n.get(t);await new Promise((function(t,n){r.onsuccess=()=>{a[e]=o(r.result),t()},r.onerror=t=>{t.stopPropagation(),n(r.error)}}))}}catch(t){throw u=!0,t}};for(let t=0;t<i;t++)s[t]=h();return await Promise.allSettled(s),a}async _del(t,e){const n=this[p]("readwrite").delete(t);return this[y](n)}async _put(t,e,n){const r=this[p]("readwrite").put(e,t);return this[y](r)}_iterator(t){return new i(this,this[l],t)}async _batch(t,e){const n=this[p]("readwrite"),r=n.transaction;let i,o=0;const s=new Promise((function(t,e){r.onabort=function(){e(i||r.error||new Error("aborted by user"))},r.oncomplete=t}));return function e(){const s=t[o++],a=s.key;let c;try{c="del"===s.type?n.delete(a):n.put(s.value,a)}catch(t){return i=t,void r.abort()}o<t.length?c.onsuccess=e:"function"==typeof r.commit&&r.commit()}(),s}async _clear(t){let e;try{e=a(t)}catch(t){return}if(t.limit>=0)return s(this,this[l],e,t);const n=this[p]("readwrite"),r=e?n.delete(e):n.clear();return this[y](r)}async _close(){this[u].close()}}d.destroy=async function(t,e){null==e&&(e=c);const n=indexedDB.deleteDatabase(e+t);return new Promise((function(t,e){n.onsuccess=t,n.onerror=e}))},e.Z=d},7719:(t,e,n)=>{const{AbstractIterator:r}=n(828),i=n(7781),o=n(8209),s=Symbol("cache"),a=Symbol("finished"),c=Symbol("options"),u=Symbol("currentOptions"),h=Symbol("position"),l=Symbol("location"),f=Symbol("first"),p={};function y(t){"function"==typeof t.commit&&t.commit()}e.Iterator=class extends r{constructor(t,e,n){super(t,n),this[s]=[],this[a]=0===this.limit,this[c]=n,this[u]={...n},this[h]=void 0,this[l]=e,this[f]=!0}async _nextv(t,e){if(this[f]=!1,this[a])return[];if(this[s].length>0)return t=Math.min(t,this[s].length),this[s].splice(0,t);let n;void 0!==this[h]&&(this[c].reverse?(this[u].lt=this[h],this[u].lte=void 0):(this[u].gt=this[h],this[u].gte=void 0));try{n=i(this[u])}catch(t){return this[a]=!0,[]}const r=this.db.db.transaction([this[l]],"readonly"),p=r.objectStore(this[l]),d=[],g=new Promise((function(t,e){r.onabort=()=>{e(r.error||new Error("aborted by user"))},r.oncomplete=()=>{t(d)}}));if(this[c].reverse)p[!this[c].values&&p.openKeyCursor?"openKeyCursor":"openCursor"](n,"prev").onsuccess=e=>{const n=e.target.result;if(n){const{key:e,value:i}=n;this[h]=e,d.push([this[c].keys&&void 0!==e?o(e):void 0,this[c].values&&void 0!==i?o(i):void 0]),d.length<t?n.continue():y(r)}else this[a]=!0};else{let e,i;const s=()=>{if(void 0===e||void 0===i)return;const n=Math.max(e.length,i.length);0===n||t===1/0?this[a]=!0:this[h]=e[n-1],d.length=n;for(let t=0;t<n;t++){const n=e[t],r=i[t];d[t]=[this[c].keys?o(n):void 0,this[c].values?o(r):void 0]}y(r)};this[c].keys||t<1/0?p.getAllKeys(n,t<1/0?t:void 0).onsuccess=t=>{e=t.target.result,s()}:(e=[],s()),this[c].values?p.getAll(n,t<1/0?t:void 0).onsuccess=t=>{i=t.target.result,s()}:(i=[],s())}return g}async _next(){if(this[s].length>0)return this[s].shift();if(!this[a]){let t=Math.min(100,this.limit-this.count);return this[f]&&(this[f]=!1,t=1),this[s]=await this._nextv(t,p),this[s].shift()}}async _all(t){this[f]=!1;const e=this[s].splice(0,this[s].length),n=this.limit-this.count-e.length;if(n<=0)return e;let r=await this._nextv(n,p);return e.length>0&&(r=e.concat(r)),r}_seek(t,e){let n;this[f]=!0,this[s]=[],this[a]=!1,this[h]=void 0,this[u]={...this[c]};try{n=i(this[c])}catch(t){return void(this[a]=!0)}null===n||n.includes(t)?this[c].reverse?this[u].lte=t:this[u].gte=t:this[a]=!0}}},1344:(t,e,n)=>{const r=n(3646),i=n(5205),{getOptions:o,emptyOptions:s,noop:a}=n(5451),{prefixDescendantKey:c,isDescendant:u}=n(3846),{PrewriteBatch:h}=n(3003),l=Symbol("status"),f=Symbol("publicOperations"),p=Symbol("legacyOperations"),y=Symbol("privateOperations"),d=Symbol("closePromise"),g=Symbol("length"),b=Symbol("prewriteRun"),m=Symbol("prewriteBatch"),v=Symbol("prewriteData"),w=Symbol("addMode"),E=function(t){let e;return t[d]=new Promise(((n,r)=>{e=()=>{A(t).then(n,r)}})),e},A=async function(t){t[l]="closing",await t._close(),t.db.detachResource(t)};class S{constructor(t,e){this[y]=t,this[f]=e}get length(){return this[y].length}clear(){for(const t of[f,y]){const e=this[t];null!==e&&e.splice(0,e.length)}}}const T=function(t){if("open"!==t[l])throw new i("Batch is not open: cannot change operations after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});if("open"!==t.db.status)throw new i("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})};e.AbstractChainedBatch=class{constructor(t,e){if("object"!=typeof t||null===t)throw new TypeError("The first argument must be an abstract-level database, received "+(null===t?"null":typeof t));const n=t.listenerCount("write")>0,r=!t.hooks.prewrite.noop;if(this[f]=n?[]:null,this[p]=n||r?null:[],this[g]=0,this[l]="open",this[d]=null,this[w]=!0===o(e,s).add,r){const e=new S([],n?[]:null);this[v]=e,this[m]=new h(t,e[y],e[f]),this[b]=t.hooks.prewrite.run}else this[v]=null,this[m]=null,this[b]=null;this.db=t,this.db.attachResource(this)}get length(){return null!==this[v]?this[g]+this[v].length:this[g]}put(t,e,n){T(this);const r=null!=(n=o(n,s)).sublevel,a=r?n.sublevel:this.db,h=n,l=a._checkKey(t),y=a._checkValue(e);if(null!=l)throw l;if(null!=y)throw y;const d=Object.assign({},n,{type:"put",key:t,value:e,keyEncoding:a.keyEncoding(n.keyEncoding),valueEncoding:a.valueEncoding(n.valueEncoding)});if(null!==this[b])try{this[b](d,this[m]),d.keyEncoding=a.keyEncoding(d.keyEncoding),d.valueEncoding=a.valueEncoding(d.valueEncoding)}catch(t){throw new i("The prewrite hook failed on batch.put()",{code:"LEVEL_HOOK_ERROR",cause:t})}const v=d.keyEncoding,E=v.encode(d.key),A=v.format,S=r&&!u(d.sublevel,this.db)&&d.sublevel!==this.db,O=r&&!S?c(E,A,a,this.db):E,_=d.valueEncoding,I=_.encode(d.value),L=_.format;if(r&&!S&&(d.sublevel=null),null===this[f]||S){if(null!==this[p]&&!S){const n=Object.assign({},h);n.type="put",n.key=t,n.value=e,this[p].push(n)}}else{const t=Object.assign({},d);t.encodedKey=O,t.encodedValue=I,r&&(t.key=O,t.value=I,t.keyEncoding=this.db.keyEncoding(A),t.valueEncoding=this.db.valueEncoding(L)),this[f].push(t)}return d.key=S?O:this.db.prefixKey(O,A,!0),d.value=I,d.keyEncoding=A,d.valueEncoding=L,this[w]?this._add(d):this._put(d.key,I,d),this[g]++,this}_put(t,e,n){}del(t,e){T(this);const n=null!=(e=o(e,s)).sublevel,r=n?e.sublevel:this.db,a=e,u=r._checkKey(t);if(null!=u)throw u;const h=Object.assign({},e,{type:"del",key:t,keyEncoding:r.keyEncoding(e.keyEncoding)});if(null!==this[b])try{this[b](h,this[m]),h.keyEncoding=r.keyEncoding(h.keyEncoding)}catch(t){throw new i("The prewrite hook failed on batch.del()",{code:"LEVEL_HOOK_ERROR",cause:t})}const l=h.keyEncoding,y=l.encode(h.key),d=l.format,v=n?c(y,d,r,this.db):y;if(n&&(h.sublevel=null),null!==this[f]){const t=Object.assign({},h);t.encodedKey=v,n&&(t.key=v,t.keyEncoding=this.db.keyEncoding(d)),this[f].push(t)}else if(null!==this[p]){const e=Object.assign({},a);e.type="del",e.key=t,this[p].push(e)}return h.key=this.db.prefixKey(v,d,!0),h.keyEncoding=d,this[w]?this._add(h):this._del(h.key,h),this[g]++,this}_del(t,e){}_add(t){}clear(){return T(this),this._clear(),null!==this[f]&&(this[f]=[]),null!==this[p]&&(this[p]=[]),null!==this[v]&&this[v].clear(),this[g]=0,this}_clear(){}async write(t){if(T(this),t=o(t),0===this[g])return this.close();{this[l]="writing";const e=E(this);try{if(null!==this[v]){const t=this[v][f],e=this[v][y],n=this[v].length;for(let t=0;t<n;t++){const n=e[t];this[w]?this._add(n):"put"===n.type?this._put(n.key,n.value,n):this._del(n.key,n)}null!==t&&0!==n&&(this[f]=this[f].concat(t))}await this._write(t)}catch(t){e();try{await this[d]}catch(e){t=r([t,e])}throw t}return e(),null!==this[f]?this.db.emit("write",this[f]):null!==this[p]&&this.db.emit("batch",this[p]),this[d]}}async _write(t){}async close(){return null!==this[d]?this[d].catch(a):(E(this)(),this[d])}async _close(){}}},5499:(t,e,n)=>{const r=n(5205),i=n(3646),{getOptions:o,emptyOptions:s,noop:a}=n(5451),{AbortError:c}=n(1977),u=Symbol("working"),h=Symbol("decodeOne"),l=Symbol("decodeMany"),f=Symbol("signal"),p=Symbol("pendingClose"),y=Symbol("closingPromise"),d=Symbol("keyEncoding"),g=Symbol("valueEncoding"),b=Symbol("keys"),m=Symbol("values"),v=Symbol("limit"),w=Symbol("count"),E=Symbol("ended");class A{constructor(t,e){if("object"!=typeof t||null===t)throw new TypeError("The first argument must be an abstract-level database, received "+(null===t?"null":typeof t));if("object"!=typeof e||null===e)throw new TypeError("The second argument must be an options object");this[u]=!1,this[p]=null,this[y]=null,this[d]=e[d],this[g]=e[g],this[v]=Number.isInteger(e.limit)&&e.limit>=0?e.limit:1/0,this[w]=0,this[f]=null!=e.signal?e.signal:null,this[E]=!1,this.db=t,this.db.attachResource(this)}get count(){return this[w]}get limit(){return this[v]}async next(){O(this);try{if(this[E]||this[w]>=this[v])return void(this[E]=!0);let t=await this._next();if(void 0===t)return void(this[E]=!0);try{t=this[h](t)}catch(t){throw new T(t)}return this[w]++,t}finally{_(this)}}async _next(){}async nextv(t,e){if(!Number.isInteger(t))throw new TypeError("The first argument 'size' must be an integer");e=o(e,s),t<1&&(t=1),this[v]<1/0&&(t=Math.min(t,this[v]-this[w])),O(this);try{if(this[E]||t<=0)return this[E]=!0,[];const n=await this._nextv(t,e);if(0===n.length)return this[E]=!0,n;try{this[l](n)}catch(t){throw new T(t)}return this[w]+=n.length,n}finally{_(this)}}async _nextv(t,e){const n=[];for(;n.length<t;){const t=await this._next(e);if(void 0===t){this[E]=!0;break}n.push(t)}return n}async all(t){t=o(t,s),O(this);try{if(this[E]||this[w]>=this[v])return[];const e=await this._all(t);try{this[l](e)}catch(t){throw new T(t)}return this[w]+=e.length,e}catch(t){_(this),await L(this,t)}finally{this[E]=!0,this[u]&&(_(this),await this.close())}}async _all(t){let e=this[w];const n=[];for(;;){const r=this[v]<1/0?Math.min(1e3,this[v]-e):1e3;if(r<=0)return n;const i=await this._nextv(r,t);if(0===i.length)return n;n.push.apply(n,i),e+=i.length}}seek(t,e){if(e=o(e,s),null!==this[y]);else{if(this[u])throw new r("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const n=this.db.keyEncoding(e.keyEncoding||this[d]),r=n.format;e.keyEncoding!==r&&(e={...e,keyEncoding:r});const i=this.db.prefixKey(n.encode(t),r,!1);this._seek(i,e),this[E]=!1}}}_seek(t,e){throw new r("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}async close(){return null!==this[y]?this[y].catch(a):(this[y]=new Promise(((t,e)=>{this[p]=()=>{this[p]=null,I(this).then(t,e)}})),this[u]||this[p](),this[y])}async _close(){}async*[Symbol.asyncIterator](){try{let t;for(;void 0!==(t=await this.next());)yield t}catch(t){await L(this,t)}finally{await this.close()}}}class S extends A{constructor(t,e){super(t,e),this[b]=!1!==e.keys,this[m]=!1!==e.values}[h](t){const e=t[0],n=t[1];return void 0!==e&&(t[0]=this[b]?this[d].decode(e):void 0),void 0!==n&&(t[1]=this[m]?this[g].decode(n):void 0),t}[l](t){const e=this[d],n=this[g];for(const r of t){const t=r[0],i=r[1];void 0!==t&&(r[0]=this[b]?e.decode(t):void 0),void 0!==i&&(r[1]=this[m]?n.decode(i):void 0)}}}class T extends r{constructor(t){super("Iterator could not decode data",{code:"LEVEL_DECODE_ERROR",cause:t})}}const O=function(t){if(null!==t[y])throw new r("Iterator is not open: cannot read after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"});if(t[u])throw new r("Iterator is busy: cannot read until previous read has completed",{code:"LEVEL_ITERATOR_BUSY"});if(null!==t[f]&&t[f].aborted)throw new c;t[u]=!0},_=function(t){t[u]=!1,null!==t[p]&&t[p]()},I=async function(t){await t._close(),t.db.detachResource(t)},L=async function(t,e){try{await t.close()}catch(t){throw i([e,t])}throw e};S.keyEncoding=d,S.valueEncoding=g,e.AbstractIterator=S,e.AbstractKeyIterator=class extends A{[h](t){return this[d].decode(t)}[l](t){const e=this[d];for(let n=0;n<t.length;n++){const r=t[n];void 0!==r&&(t[n]=e.decode(r))}}},e.AbstractValueIterator=class extends A{[h](t){return this[g].decode(t)}[l](t){const e=this[g];for(let n=0;n<t.length;n++){const r=t[n];void 0!==r&&(t[n]=e.decode(r))}}}},3475:(t,e,n)=>{const{supports:r}=n(6072),{Transcoder:i}=n(9120),{EventEmitter:o}=n(7042),s=n(5205),a=n(3646),{AbstractIterator:c}=n(5499),{DefaultKeyIterator:u,DefaultValueIterator:h}=n(5766),{DeferredIterator:l,DeferredKeyIterator:f,DeferredValueIterator:p}=n(7396),{DefaultChainedBatch:y}=n(5433),{DatabaseHooks:d}=n(1472),{PrewriteBatch:g}=n(3003),{EventMonitor:b}=n(8047),{getOptions:m,noop:v,emptyOptions:w,resolvedPromise:E}=n(5451),{prefixDescendantKey:A,isDescendant:S}=n(3846),{DeferredQueue:T}=n(8023),O=n(2190),_=Symbol("resources"),I=Symbol("closeResources"),L=Symbol("queue"),x=Symbol("deferOpen"),k=Symbol("options"),B=Symbol("status"),R=Symbol("statusChange"),U=Symbol("statusLocked"),N=Symbol("defaultOptions"),C=Symbol("transcoder"),D=Symbol("keyEncoding"),j=Symbol("valueEncoding"),P=Symbol("eventMonitor"),F=Symbol("arrayBatch");class M extends o{constructor(t,e){if(super(),"object"!=typeof t||null===t)throw new TypeError("The first argument 'manifest' must be an object");e=m(e);const{keyEncoding:n,valueEncoding:o,passive:s,...a}=e;this[_]=new Set,this[L]=new T,this[x]=!0,this[k]=a,this[B]="opening",this[R]=null,this[U]=!1,this.hooks=new d,this.supports=r(t,{deferredOpen:!0,snapshots:!1!==t.snapshots,permanence:!1!==t.permanence,encodings:t.encodings||{},events:Object.assign({},t.events,{opening:!0,open:!0,closing:!0,closed:!0,write:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[P]=new b(this,[{name:"write"},{name:"put",deprecated:!0,alt:"write"},{name:"del",deprecated:!0,alt:"write"},{name:"batch",deprecated:!0,alt:"write"}]),this[C]=new i(G(this)),this[D]=this[C].encoding(n||"utf8"),this[j]=this[C].encoding(o||"utf8");for(const t of this[C].encodings())this.supports.encodings[t.commonName]||(this.supports.encodings[t.commonName]=!0);this[N]={empty:w,entry:Object.freeze({keyEncoding:this[D].commonName,valueEncoding:this[j].commonName}),entryFormat:Object.freeze({keyEncoding:this[D].format,valueEncoding:this[j].format}),key:Object.freeze({keyEncoding:this[D].commonName}),keyFormat:Object.freeze({keyEncoding:this[D].format})},queueMicrotask((()=>{this[x]&&this.open({passive:!1}).catch(v)}))}get status(){return this[B]}get parent(){return null}keyEncoding(t){return this[C].encoding(null!=t?t:this[D])}valueEncoding(t){return this[C].encoding(null!=t?t:this[j])}async open(t){(t={...this[k],...m(t)}).createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists;const e=this.hooks.postopen.noop?null:this.hooks.postopen.run,n=t.passive;for(n&&this[x]&&await void 0,z(this);null!==this[R];)await this[R].catch(v);if(z(this),n){if("open"!==this[B])throw new H}else if("closed"===this[B]||this[x]){this[x]=!1,this[R]=E,this[R]=(async()=>{this[B]="opening";try{this.emit("opening"),await this._open(t)}catch(t){this[B]="closed",this[L].drain();try{await this[I]()}catch(e){t=a([t,e])}throw new H(t)}if(this[B]="open",null!==e){let n;try{this[U]=!0,await e(t)}catch(t){n=W(t)}finally{this[U]=!1}if(n){this[B]="closing",this[L].drain();try{await this[I](),await this._close()}catch(t){this[U]=!0,n=a([n,t])}throw this[B]="closed",new s("The postopen hook failed on open()",{code:"LEVEL_HOOK_ERROR",cause:n})}}this[L].drain(),this.emit("open")})();try{await this[R]}finally{this[R]=null}}else if("open"!==this[B])throw new H}async _open(t){}async close(){for(z(this);null!==this[R];)await this[R].catch(v);if(z(this),"open"===this[B]||this[x]){const t=this[x];this[x]=!1,this[R]=E,this[R]=(async()=>{this[B]="closing",this[L].drain();try{this.emit("closing"),await this[I](),t||await this._close()}catch(t){throw this[B]="open",this[L].drain(),new q(t)}this[B]="closed",this[L].drain(),this.emit("closed")})();try{await this[R]}finally{this[R]=null}}else if("closed"!==this[B])throw new q}async[I](){if(0===this[_].size)return;const t=Array.from(this[_]),e=t.map(K);return Promise.allSettled(e).then((async e=>{const n=[];for(let r=0;r<e.length;r++)"fulfilled"===e[r].status?this[_].delete(t[r]):n.push(W(e[r].reason));if(n.length>0)throw a(n)}))}async _close(){}async get(t,e){if(e=m(e,this[N].entry),"opening"===this[B])return this.deferAsync((()=>this.get(t,e)));$(this);const n=this._checkKey(t);if(n)throw n;const r=this.keyEncoding(e.keyEncoding),i=this.valueEncoding(e.valueEncoding),o=r.format,a=i.format;e.keyEncoding===o&&e.valueEncoding===a||(e=Object.assign({},e,{keyEncoding:o,valueEncoding:a}));const c=r.encode(t),u=await this._get(this.prefixKey(c,o,!0),e);try{return void 0===u?u:i.decode(u)}catch(n){throw new s("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:n})}}async _get(t,e){}async getMany(t,e){if(e=m(e,this[N].entry),"opening"===this[B])return this.deferAsync((()=>this.getMany(t,e)));if($(this),!Array.isArray(t))throw new TypeError("The first argument 'keys' must be an array");if(0===t.length)return[];const n=this.keyEncoding(e.keyEncoding),r=this.valueEncoding(e.valueEncoding),i=n.format,o=r.format;e.keyEncoding===i&&e.valueEncoding===o||(e=Object.assign({},e,{keyEncoding:i,valueEncoding:o}));const a=new Array(t.length);for(let e=0;e<t.length;e++){const r=t[e],o=this._checkKey(r);if(o)throw o;a[e]=this.prefixKey(n.encode(r),i,!0)}const c=await this._getMany(a,e);try{for(let t=0;t<c.length;t++)void 0!==c[t]&&(c[t]=r.decode(c[t]))}catch(t){throw new s(`Could not decode one or more of ${c.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:t})}return c}async _getMany(t,e){return new Array(t.length).fill(void 0)}async put(t,e,n){if(!this.hooks.prewrite.noop)return this.batch([{type:"put",key:t,value:e}],n);if(n=m(n,this[N].entry),"opening"===this[B])return this.deferAsync((()=>this.put(t,e,n)));$(this);const r=this._checkKey(t)||this._checkValue(e);if(r)throw r;const i=this.keyEncoding(n.keyEncoding),o=this.valueEncoding(n.valueEncoding),s=i.format,a=o.format,c=this[P].write,u=n;n===this[N].entry?n=this[N].entryFormat:n.keyEncoding===s&&n.valueEncoding===a||(n=Object.assign({},n,{keyEncoding:s,valueEncoding:a}));const h=i.encode(t),l=this.prefixKey(h,s,!0),f=o.encode(e);if(await this._put(l,f,n),c){const n=Object.assign({},u,{type:"put",key:t,value:e,keyEncoding:i,valueEncoding:o,encodedKey:h,encodedValue:f});this.emit("write",[n])}else this.emit("put",t,e)}async _put(t,e,n){}async del(t,e){if(!this.hooks.prewrite.noop)return this.batch([{type:"del",key:t}],e);if(e=m(e,this[N].key),"opening"===this[B])return this.deferAsync((()=>this.del(t,e)));$(this);const n=this._checkKey(t);if(n)throw n;const r=this.keyEncoding(e.keyEncoding),i=r.format,o=this[P].write,s=e;e===this[N].key?e=this[N].keyFormat:e.keyEncoding!==i&&(e=Object.assign({},e,{keyEncoding:i}));const a=r.encode(t),c=this.prefixKey(a,i,!0);if(await this._del(c,e),o){const e=Object.assign({},s,{type:"del",key:t,keyEncoding:r,encodedKey:a});this.emit("write",[e])}else this.emit("del",t)}async _del(t,e){}batch(t,e){return arguments.length?(e=m(e,this[N].empty),this[F](t,e)):($(this),this._chainedBatch())}async[F](t,e){if("opening"===this[B])return this.deferAsync((()=>this[F](t,e)));if($(this),!Array.isArray(t))throw new TypeError("The first argument 'operations' must be an array");if(0===t.length)return;const n=t.length,r=!this.hooks.prewrite.noop,i=this[P].write,o=i?new Array(n):null,a=new Array(n),c=r?new g(this,a,o):null;for(let u=0;u<n;u++){const n=Object.assign({},e,t[u]),h="put"===n.type,l=null!=n.sublevel,f=l?n.sublevel:this,p=f._checkKey(n.key);if(null!=p)throw p;if(n.keyEncoding=f.keyEncoding(n.keyEncoding),h){const t=f._checkValue(n.value);if(null!=t)throw t;n.valueEncoding=f.valueEncoding(n.valueEncoding)}else if("del"!==n.type)throw new TypeError("A batch operation must have a type property that is 'put' or 'del'");if(r)try{this.hooks.prewrite.run(n,c),n.keyEncoding=f.keyEncoding(n.keyEncoding),h&&(n.valueEncoding=f.valueEncoding(n.valueEncoding))}catch(t){throw new s("The prewrite hook failed on batch()",{code:"LEVEL_HOOK_ERROR",cause:t})}const y=n.keyEncoding,d=y.encode(n.key),g=y.format,b=l&&!S(n.sublevel,this)&&n.sublevel!==this,m=l&&!b?A(d,g,f,this):d;l&&!b&&(n.sublevel=null);let v=null;if(i&&!b&&(v=Object.assign({},n),v.encodedKey=m,l&&(v.key=m,v.keyEncoding=this.keyEncoding(g)),o[u]=v),n.key=b?m:this.prefixKey(m,g,!0),n.keyEncoding=g,h){const t=n.valueEncoding,e=t.encode(n.value),r=t.format;n.value=e,n.valueEncoding=r,i&&!b&&(v.encodedValue=e,l&&(v.value=e,v.valueEncoding=this.valueEncoding(r)))}a[u]=n}await this._batch(a,e),i?this.emit("write",o):r||this.emit("batch",t)}async _batch(t,e){}sublevel(t,e){const n=V.defaults(e),r=this._sublevel(t,n);if(!this.hooks.newsub.noop)try{this.hooks.newsub.run(r,n)}catch(t){throw new s("The newsub hook failed on sublevel()",{code:"LEVEL_HOOK_ERROR",cause:t})}return r}_sublevel(t,e){return new V(this,t,e)}prefixKey(t,e,n){return t}async clear(t){if(t=m(t,this[N].empty),"opening"===this[B])return this.deferAsync((()=>this.clear(t)));$(this);const e=t,n=this.keyEncoding(t.keyEncoding);(t=O(t,n)).keyEncoding=n.format,0!==t.limit&&(await this._clear(t),this.emit("clear",e))}async _clear(t){}iterator(t){const e=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);return(t=O(t,e)).keys=!1!==t.keys,t.values=!1!==t.values,t[c.keyEncoding]=e,t[c.valueEncoding]=n,t.keyEncoding=e.format,t.valueEncoding=n.format,"opening"===this[B]?new l(this,t):($(this),this._iterator(t))}_iterator(t){return new c(this,t)}keys(t){const e=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);return(t=O(t,e))[c.keyEncoding]=e,t[c.valueEncoding]=n,t.keyEncoding=e.format,t.valueEncoding=n.format,"opening"===this[B]?new f(this,t):($(this),this._keys(t))}_keys(t){return new u(this,t)}values(t){const e=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);return(t=O(t,e))[c.keyEncoding]=e,t[c.valueEncoding]=n,t.keyEncoding=e.format,t.valueEncoding=n.format,"opening"===this[B]?new p(this,t):($(this),this._values(t))}_values(t){return new h(this,t)}defer(t,e){if("function"!=typeof t)throw new TypeError("The first argument must be a function");this[L].add((function(e){e||t()}),e)}deferAsync(t,e){if("function"!=typeof t)throw new TypeError("The first argument must be a function");return new Promise(((n,r)=>{this[L].add((function(e){e?r(e):t().then(n,r)}),e)}))}attachResource(t){if("object"!=typeof t||null===t||"function"!=typeof t.close)throw new TypeError("The first argument must be a resource object");this[_].add(t)}detachResource(t){this[_].delete(t)}_chainedBatch(){return new y(this)}_checkKey(t){if(null==t)return new s("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(t){if(null==t)return new s("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}const{AbstractSublevel:V}=n(625)({AbstractLevel:M});e.AbstractLevel=M,e.AbstractSublevel=V;const $=function(t){if("open"!==t[B])throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})},z=function(t){if(t[U])throw new s("Database status is locked",{code:"LEVEL_STATUS_LOCKED"})},G=function(t){return Object.keys(t.supports.encodings).filter((e=>!!t.supports.encodings[e]))},K=function(t){return t.close()},W=function(t){return t instanceof Error||"[object Error]"===Object.prototype.toString.call(t)?t:new TypeError("Promise rejection reason must be an Error, received "+(null===t?"null":typeof t))};class H extends s{constructor(t){super("Database failed to open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:t})}}class q extends s{constructor(t){super("Database failed to close",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:t})}}},828:(t,e,n)=>{e.AbstractLevel=n(3475).AbstractLevel,e.AbstractSublevel=n(3475).AbstractSublevel,e.AbstractIterator=n(5499).AbstractIterator,e.AbstractKeyIterator=n(5499).AbstractKeyIterator,e.AbstractValueIterator=n(5499).AbstractValueIterator,e.AbstractChainedBatch=n(1344).AbstractChainedBatch},8944:(t,e,n)=>{const{AbstractIterator:r,AbstractKeyIterator:i,AbstractValueIterator:o}=n(5499),s=Symbol("unfix"),a=Symbol("iterator");class c extends r{constructor(t,e,n,r){super(t,e),this[a]=n,this[s]=r}async _next(){const t=await this[a].next();if(void 0!==t){const e=t[0];void 0!==e&&(t[0]=this[s](e))}return t}async _nextv(t,e){const n=await this[a].nextv(t,e),r=this[s];for(const t of n){const e=t[0];void 0!==e&&(t[0]=r(e))}return n}async _all(t){const e=await this[a].all(t),n=this[s];for(const t of e){const e=t[0];void 0!==e&&(t[0]=n(e))}return e}}class u extends i{constructor(t,e,n,r){super(t,e),this[a]=n,this[s]=r}async _next(){const t=await this[a].next();return void 0===t?t:this[s](t)}async _nextv(t,e){const n=await this[a].nextv(t,e),r=this[s];for(let t=0;t<n.length;t++){const e=n[t];void 0!==e&&(n[t]=r(e))}return n}async _all(t){const e=await this[a].all(t),n=this[s];for(let t=0;t<e.length;t++){const r=e[t];void 0!==r&&(e[t]=n(r))}return e}}class h extends o{constructor(t,e,n){super(t,e),this[a]=n}async _next(){return this[a].next()}async _nextv(t,e){return this[a].nextv(t,e)}async _all(t){return this[a].all(t)}}for(const t of[c,u,h])t.prototype._seek=function(t,e){this[a].seek(t,e)},t.prototype._close=async function(){return this[a].close()};e.AbstractSublevelIterator=c,e.AbstractSublevelKeyIterator=u,e.AbstractSublevelValueIterator=h},625:(t,e,n)=>{const r=n(5205),{Buffer:i}=n(5324)||{},{AbstractSublevelIterator:o,AbstractSublevelKeyIterator:s,AbstractSublevelValueIterator:a}=n(8944),c=Symbol("prefix"),u=Symbol("localPrefix"),h=Symbol("localPath"),l=Symbol("globalPath"),f=Symbol("upperBound"),p=Symbol("prefixRange"),y=Symbol("root"),d=Symbol("parent"),g=Symbol("unfix"),b=new TextEncoder,m={separator:"!"};t.exports=function({AbstractLevel:t}){class e extends t{static defaults(t){return null==t?m:t.separator?t:{...t,separator:"!"}}constructor(t,n,i){const{separator:o,manifest:s,...a}=e.defaults(i),p=[].concat(n).map((t=>S(t,o))),m=o.charCodeAt(0)+1,w=t[y]||t;if(!p.every((t=>b.encode(t).every((t=>t>m&&t<127)))))throw new r(`Sublevel name must use bytes > ${m} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(v(t,s),a);const T=p.map((t=>o+t+o)).join(""),O=(t.prefix||"")+T,_=O.slice(0,-1)+String.fromCharCode(m);this[y]=w,this[d]=t,this[h]=p,this[l]=t.prefix?t.path().concat(p):p,this[c]=new E(O),this[f]=new E(_),this[u]=new E(T),this[g]=new A}prefixKey(t,e,n){const r=n?this[u]:this[c];if("utf8"===e)return r.utf8+t;if(0===t.byteLength)return r[e];if("view"===e){const e=r.view,n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}{const e=r.buffer;return i.concat([e,t],e.byteLength+t.byteLength)}}[p](t,e){void 0!==t.gte?t.gte=this.prefixKey(t.gte,e,!1):void 0!==t.gt?t.gt=this.prefixKey(t.gt,e,!1):t.gte=this[c][e],void 0!==t.lte?t.lte=this.prefixKey(t.lte,e,!1):void 0!==t.lt?t.lt=this.prefixKey(t.lt,e,!1):t.lte=this[f][e]}get prefix(){return this[c].utf8}get db(){return this[y]}get parent(){return this[d]}path(t=!1){return t?this[h]:this[l]}async _open(t){return this[d].open({passive:!0})}async _put(t,e,n){return this[d].put(t,e,n)}async _get(t,e){return this[d].get(t,e)}async _getMany(t,e){return this[d].getMany(t,e)}async _del(t,e){return this[d].del(t,e)}async _batch(t,e){return this[d].batch(t,e)}async _clear(t){return this[p](t,t.keyEncoding),this[y].clear(t)}_iterator(t){this[p](t,t.keyEncoding);const e=this[y].iterator(t),n=this[g].get(this[c].utf8.length,t.keyEncoding);return new o(this,t,e,n)}_keys(t){this[p](t,t.keyEncoding);const e=this[y].keys(t),n=this[g].get(this[c].utf8.length,t.keyEncoding);return new s(this,t,e,n)}_values(t){this[p](t,t.keyEncoding);const e=this[y].values(t);return new a(this,t,e)}}return{AbstractSublevel:e}};const v=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:w(t,"utf8"),buffer:w(t,"buffer"),view:w(t,"view")}}},w=function(t,e){return!!t.supports.encodings[e]&&t.keyEncoding(e).name===e};class E{constructor(t){this.utf8=t,this.view=b.encode(t),this.buffer=i?i.from(this.view.buffer,0,this.view.byteLength):{}}}class A{constructor(){this.cache=new Map}get(t,e){let n=this.cache.get(e);return void 0===n&&(n="view"===e?function(t,e){return e.subarray(t)}.bind(null,t):function(t,e){return e.slice(t)}.bind(null,t),this.cache.set(e,n)),n}}const S=function(t,e){let n=0,r=t.length;for(;n<r&&t[n]===e;)n++;for(;r>n&&t[r-1]===e;)r--;return t.slice(n,r)}},5451:(t,e,n)=>{const r=n(5205),i=new Set;e.getOptions=function(t,e){return"object"==typeof t&&null!==t?t:void 0!==e?e:{}},e.emptyOptions=Object.freeze({}),e.noop=function(){},e.resolvedPromise=Promise.resolve(),e.deprecate=function(t){if(!i.has(t)){i.add(t);const e=globalThis.console;void 0!==e&&"function"==typeof e.warn&&e.warn(new r(t,{code:"LEVEL_LEGACY"}))}}},5433:(t,e,n)=>{const{AbstractChainedBatch:r}=n(1344),i=Symbol("encoded");e.DefaultChainedBatch=class extends r{constructor(t){super(t,{add:!0}),this[i]=[]}_add(t){this[i].push(t)}_clear(){this[i]=[]}async _write(t){return this.db._batch(this[i],t)}}},5766:(t,e,n)=>{const{AbstractKeyIterator:r,AbstractValueIterator:i}=n(5499),o=Symbol("iterator"),s=Symbol("handleOne"),a=Symbol("handleMany");class c extends r{constructor(t,e){super(t,e),this[o]=t.iterator({...e,keys:!0,values:!1})}[s](t){return t[0]}[a](t){for(let e=0;e<t.length;e++)t[e]=t[e][0]}}class u extends i{constructor(t,e){super(t,e),this[o]=t.iterator({...e,keys:!1,values:!0})}[s](t){return t[1]}[a](t){for(let e=0;e<t.length;e++)t[e]=t[e][1]}}for(const t of[c,u])t.prototype._next=async function(){const t=await this[o].next();return void 0===t?t:this[s](t)},t.prototype._nextv=async function(t,e){const n=await this[o].nextv(t,e);return this[a](n),n},t.prototype._all=async function(t){const e=await this[o].all(t);return this[a](e),e},t.prototype._seek=function(t,e){this[o].seek(t,e)},t.prototype._close=async function(){return this[o].close()};e.DefaultKeyIterator=c,e.DefaultValueIterator=u},7396:(t,e,n)=>{const{AbstractIterator:r,AbstractKeyIterator:i,AbstractValueIterator:o}=n(5499),s=n(5205),a=Symbol("nut"),c=Symbol("undefer"),u=Symbol("factory"),h=Symbol("signalOptions");class l extends r{constructor(t,e){super(t,e),this[a]=null,this[u]=()=>t.iterator(e),this[h]={signal:e.signal},this.db.defer((()=>this[c]()),this[h])}}class f extends i{constructor(t,e){super(t,e),this[a]=null,this[u]=()=>t.keys(e),this[h]={signal:e.signal},this.db.defer((()=>this[c]()),this[h])}}class p extends o{constructor(t,e){super(t,e),this[a]=null,this[u]=()=>t.values(e),this[h]={signal:e.signal},this.db.defer((()=>this[c]()),this[h])}}for(const t of[l,f,p])t.prototype[c]=function(){"open"===this.db.status&&(this[a]=this[u]())},t.prototype._next=async function(){if(null!==this[a])return this[a].next();if("opening"===this.db.status)return this.db.deferAsync((()=>this._next()),this[h]);throw new s("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})},t.prototype._nextv=async function(t,e){if(null!==this[a])return this[a].nextv(t,e);if("opening"===this.db.status)return this.db.deferAsync((()=>this._nextv(t,e)),this[h]);throw new s("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})},t.prototype._all=async function(t){if(null!==this[a])return this[a].all();if("opening"===this.db.status)return this.db.deferAsync((()=>this._all(t)),this[h]);throw new s("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})},t.prototype._seek=function(t,e){null!==this[a]?this[a]._seek(t,e):"opening"===this.db.status&&this.db.defer((()=>this._seek(t,e)),this[h])},t.prototype._close=async function(){return null!==this[a]?this[a].close():"opening"===this.db.status?this.db.deferAsync((()=>this._close())):void 0};e.DeferredIterator=l,e.DeferredKeyIterator=f,e.DeferredValueIterator=p},8023:(t,e,n)=>{const{getOptions:r,emptyOptions:i}=n(5451),{AbortError:o}=n(1977),s=Symbol("operations"),a=Symbol("signals"),c=Symbol("handleAbort");class u{constructor(t,e){this.fn=t,this.signal=e}}e.DeferredQueue=class{constructor(){this[s]=[],this[a]=new Set,this[c]=this[c].bind(this)}add(t,e){const n=(e=r(e,i)).signal;null!=n?n.aborted?t(new o):(this[a].has(n)||(this[a].add(n),n.addEventListener("abort",this[c],{once:!0})),this[s].push(new u(t,n))):this[s].push(new u(t,null))}drain(){const t=this[s],e=this[a];this[s]=[],this[a]=new Set;for(const t of e)t.removeEventListener("abort",this[c]);for(const e of t)e.fn.call(null)}[c](t){const e=t.target,n=new o,r=[];this[s]=this[s].filter((function(t){return null===t.signal||t.signal!==e||(r.push(t),!1)})),this[a].delete(e);for(const t of r)t.fn.call(null,n)}}},1977:(t,e,n)=>{const r=n(5205);e.AbortError=class extends r{constructor(t){super("Operation has been aborted",{code:"LEVEL_ABORTED",cause:t})}get name(){return"AbortError"}}},8047:(t,e,n)=>{const{deprecate:r}=n(5451);e.EventMonitor=class{constructor(t,e){for(const t of e)this[t.name]=!1,t.deprecated&&(t.message=`The '${t.name}' event is deprecated in favor of '${t.alt}' and will be removed in a future version of abstract-level`);const n=new Map(e.map((t=>[t.name,t]))),i=this;t.on("newListener",(function(t){const e=n.get(t);void 0!==e&&(i[t]=!0,e.deprecated&&r(e.message))})),t.on("removeListener",(function(t){n.has(t)&&(i[t]=this.listenerCount(t)>0)}))}}},1472:(t,e,n)=>{const{noop:r}=n(5451),i=Symbol("functions"),o=Symbol("async");class s{constructor(t){this[o]=t.async,this[i]=new Set,this.noop=!0,this.run=c(this)}add(t){a(t),this[i].add(t),this.noop=!1,this.run=c(this)}delete(t){a(t),this[i].delete(t),this.noop=0===this[i].size,this.run=c(this)}}const a=function(t){if("function"!=typeof t)throw new TypeError("The first argument must be a function, received "+(null===t?"null":typeof t))},c=function(t){if(t.noop)return r;if(1===t[i].size){const[e]=t[i];return e}return t[o]?async function(t,...e){for(const n of t)await n(...e)}.bind(null,Array.from(t[i])):function(t,...e){for(const n of t)n(...e)}.bind(null,Array.from(t[i]))};e.DatabaseHooks=class{constructor(){this.postopen=new s({async:!0}),this.prewrite=new s({async:!1}),this.newsub=new s({async:!1})}}},3846:(t,e)=>{e.prefixDescendantKey=function(t,e,n,r){for(;null!==n&&n!==r;)t=n.prefixKey(t,e,!0),n=n.parent;return t},e.isDescendant=function(t,e){for(;;){if(null==t.parent)return!1;if(t.parent===e)return!0;t=t.parent}}},3003:(t,e,n)=>{const{prefixDescendantKey:r,isDescendant:i}=n(3846),o=Symbol("db"),s=Symbol("privateOperations"),a=Symbol("publicOperations");e.PrewriteBatch=class{constructor(t,e,n){this[o]=t,this[s]=e,this[a]=n}add(t){const e="put"===t.type,n=null!=t.sublevel,c=n?t.sublevel:this[o],u=c._checkKey(t.key);if(null!=u)throw u;if(t.keyEncoding=c.keyEncoding(t.keyEncoding),e){const e=c._checkValue(t.value);if(null!=e)throw e;t.valueEncoding=c.valueEncoding(t.valueEncoding)}else if("del"!==t.type)throw new TypeError("A batch operation must have a type property that is 'put' or 'del'");const h=t.keyEncoding,l=h.encode(t.key),f=h.format,p=n&&!i(t.sublevel,this[o])&&t.sublevel!==this[o],y=n&&!p?r(l,f,c,this[o]):l;n&&!p&&(t.sublevel=null);let d=null;if(null===this[a]||p||(d=Object.assign({},t),d.encodedKey=y,n&&(d.key=y,d.keyEncoding=this[o].keyEncoding(f)),this[a].push(d)),t.key=p?y:this[o].prefixKey(y,f,!0),t.keyEncoding=f,e){const e=t.valueEncoding,r=e.encode(t.value),i=e.format;t.value=r,t.valueEncoding=i,null!==d&&(d.encodedValue=r,n&&(d.value=r,d.valueEncoding=this[o].valueEncoding(i)))}return this[s].push(t),this}}},2190:t=>{const e=Object.prototype.hasOwnProperty,n=new Set(["lt","lte","gt","gte"]);t.exports=function(t,r){const i={};for(const o in t)e.call(t,o)&&"keyEncoding"!==o&&"valueEncoding"!==o&&(n.has(o)?i[o]=r.encode(t[o]):i[o]=t[o]);return i.reverse=!!i.reverse,i.limit=Number.isInteger(i.limit)&&i.limit>=0?i.limit:-1,i}},6072:(t,e)=>{e.supports=function(...t){const e=t.reduce(((t,e)=>Object.assign(t,e)),{}),n=e.implicitSnapshots||e.snapshots||!1,r=e.explicitSnapshots||!1;return Object.assign(e,{implicitSnapshots:n,explicitSnapshots:r,snapshots:n,has:e.has||!1,permanence:e.permanence||!1,seek:e.seek||!1,createIfMissing:e.createIfMissing||!1,errorIfExists:e.errorIfExists||!1,deferredOpen:e.deferredOpen||!1,streams:e.streams||!1,encodings:Object.assign({},e.encodings),events:Object.assign({},e.events),additionalMethods:Object.assign({},e.additionalMethods),signals:Object.assign({},e.signals)})}},1259:t=>{t.exports=async function(t,e,n,r){if(0===r.limit)return;const i=t.db.transaction([e],"readwrite"),o=i.objectStore(e);let s=0;const a=new Promise((function(t,e){i.oncomplete=t,i.onabort=function(){e(i.error||new Error("aborted by user"))}})),c=o.openKeyCursor?"openKeyCursor":"openCursor",u=r.reverse?"prev":"next";return o[c](n,u).onsuccess=function(t){const e=t.target.result;e&&(o.delete(e.key).onsuccess=function(){(r.limit<=0||++s<r.limit)&&e.continue()})},a}},8209:t=>{const e=new TextEncoder;t.exports=function(t){return void 0===t||t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):e.encode(t)}},7781:t=>{t.exports=function(t){const e=void 0!==t.gte?t.gte:void 0!==t.gt?t.gt:void 0,n=void 0!==t.lte?t.lte:void 0!==t.lt?t.lt:void 0,r=void 0===t.gte,i=void 0===t.lte;return void 0!==e&&void 0!==n?IDBKeyRange.bound(e,n,r,i):void 0!==e?IDBKeyRange.lowerBound(e,r):void 0!==n?IDBKeyRange.upperBound(n,i):null}},5324:(t,e,n)=>{const r=n(4259),i=n(3650),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|d(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|y(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return h(t),a(t<0?0:0|y(t))}function f(t){const e=t.length<0?0:0|y(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function y(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(i)return r?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return _(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function w(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(J(r))return s;t[n+s]=r}return s}function E(t,e,n,r){return q(W(e,t.length-n),t,n,r)}function A(t,e,n,r){return q(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return q(H(e),t,n,r)}function T(t,e,n,r){return q(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function _(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return h(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return l(t)},c.allocUnsafeSlow=function(t){return l(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(r,i),h=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==h[t]){o=u[t],s=h[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return A(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function L(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function x(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=X[t[r]];return i}function B(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r,i){$(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function C(t,e,n,r,i){$(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||U(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||U(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Q((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Q((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const F={};function M(t,e,n){F[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function $(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||G(e,t.length-(n+1))}(r,i,o)}function z(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},6241:(t,e,n)=>{var r=n(9942),i=n(8739),o=n(1863),s=n(4448);t.exports=s||r.call(o,i)},1376:(t,e,n)=>{var r=n(9942),i=n(8739),o=n(6241);t.exports=function(){return o(r,i,arguments)}},8739:t=>{t.exports=Function.prototype.apply},1863:t=>{t.exports=Function.prototype.call},8771:(t,e,n)=>{var r=n(9942),i=n(3736),o=n(1863),s=n(6241);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new i("a function is required");return s(r,o,t)}},4448:t=>{t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},8918:(t,e,n)=>{var r=n(6356),i=n(4774),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},4774:(t,e,n)=>{var r=n(240),i=n(3144),o=n(8771),s=n(1376);t.exports=function(t){var e=o(arguments),n=t.length-(arguments.length-1);return r(e,1+(n>0?n:0),!0)},i?i(t.exports,"apply",{value:s}):t.exports.apply=s},9691:(t,e,n)=>{var r=n(6356),i=n(8771),o=i([r("%String.prototype.indexOf%")]);t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i([n]):n}},8406:(t,e)=>{function n(t){for(var e="",n=0;n<t.length;n++){var r=t[n];isNaN(Number(r))||" "===r?"-"!==r&&(e+=r):e+=String(9-Number(r))}return e}e.encode=function(t){if(isNaN(t))return"DaN";if(0===t)return"FE  0M0";if(t===1/0)return"FF";if(t===-1/0)return"DD";var e,r=t.toExponential().split("e"),i=Number(r[1])+500,o=r[0]+(-1===r[0].indexOf(".")?".":"")+"0".repeat(20),s="E"+(e=String(i)," ".repeat(3-e.length).substr(0,3)+e+"M")+String(o);return t>0?"F"+s:"D"+n(s)},e.decode=function(t){if("DaN"===t)return NaN;if("FF"===t)return 1/0;if("DD"===t)return-1/0;var e="D"===t[0],r=(e?n(t):t).slice(2).split("M");return Number((e?"-":"")+r[1]+"e"+String(Number(r[0])-500))}},4544:(t,e)=>{var n={"?":"?@","!":"??",'"':"?%"},r={"?@":"?","??":"!","?%":'"'};e.factory=function(t){return{encode:e,decode:function(e){if("A"===e)return null;if("K!"===e)return[];for(var n,i=e.split('"'),o=[[]],s=0,a=i.length,c=0;c<a;c++){for(var u=i[c],h=u.length,l=0;"K"==u[l];)l++;for(var f=0;"!"==u[h-f-1];)f++;for(var p=u.slice(l,h-f),y=s+l,d=s;d<y;d++)o[d+1]=[],o[d].push(o[d+1]),n=o[s=y];for(0!==p.length&&n.push(t.decode(/\?[%\?@]/.test(g=p)?g.replace(/\?[%\?@]/g,(function(t){return r[t]})):g)),d=y=s-f;d<s;d++)o[d+1]=[],n=o[s=y]}var g;return o[0][0]}};function e(t){if(null===t)return"A";if(!Array.isArray(t))throw new Error("can only encode arrays");var e=t.length;if(0==e)return"K!";for(var n=i(t[0]),r=1;r<e;r++)n+='"'+i(t[r]);return"K"+n+"!"}function i(r){return"object"==typeof r?e(r):(i=t.encode(r),/[!"]/.test(i)?i.replace(/[\?!"]/g,(function(t){return n[t]})):i);var i}}},602:(t,e,n)=>{var r=n(8406),i=n(4544);e.flip=function(t){var e=t.toString(),n="";for(var r in e)n+="."==e[r]?".":9-+e[r];return n},e.number=r,e.string={encode:function(t){return/\x00|\x01/.test(t)?"J"+t.replace(/\x01/g,"").replace(/\x00/g,""):"J"+t},decode:function(t){if("J"===t[0])return t.substring(1)}},e.encode=function(t){return e[typeof t].encode(t)},e.decode=function(t){if(""===t)return t;if(!o[t[0]])throw new Error("no decoder for:"+JSON.stringify(t));return o[t[0]](t)},e.object=i.factory(e),e.boolean={encode:function(t){return t?"C":"B"},decode:function(t){return"C"===t}},e.undefined={encode:function(t){return"L"},decode:function(){}};var o={A:e.object.decode,B:e.boolean.decode,C:e.boolean.decode,D:e.number.decode,F:e.number.decode,J:e.string.decode,K:e.object.decode,L:e.undefined.decode};e.buffer=!1,e.type="charwise"},2690:(t,e,n)=>{var r=n(3144),i=n(7855),o=n(3736),s=n(6996);t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new o("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,h=arguments.length>6&&arguments[6],l=!!s&&s(t,e);if(r)r(t,e,{configurable:null===u&&l?l.configurable:!u,enumerable:null===a&&l?l.enumerable:!a,value:n,writable:null===c&&l?l.writable:!c});else{if(!h&&(a||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},2845:(t,e,n)=>{var r=n(2528),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=n(2690),c=n(9507)(),u=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())return;var i;c?a(t,e,n,!0):a(t,e,n)},h=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)u(t,o[a],e[o[a]],n[o[a]])};h.supportsDescriptors=!!c,t.exports=h},1187:(t,e,n)=>{var r,i=n(8771),o=n(6996);try{r=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var s=!!r&&o&&o(Object.prototype,"__proto__"),a=Object,c=a.getPrototypeOf;t.exports=s&&"function"==typeof s.get?i([s.get]):"function"==typeof c&&function(t){return c(null==t?t:a(t))}},3144:t=>{var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}t.exports=e},2490:t=>{t.exports=EvalError},9242:t=>{t.exports=Error},4815:t=>{t.exports=RangeError},2819:t=>{t.exports=ReferenceError},7855:t=>{t.exports=SyntaxError},3736:t=>{t.exports=TypeError},3592:t=>{t.exports=URIError},6511:(t,e,n)=>{var r=n(3736);t.exports=function(t){if(null==t)throw new r(arguments.length>0&&arguments[1]||"Cannot call method on "+t);return t}},4817:t=>{t.exports=Object},7882:(t,e,n)=>{var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=n(4335),o=n(8757),s=n(8715),a=n(669);t.exports=function(t){if(i(t))return t;var e,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?e=function(t,e){var n=t[e];if(null!=n){if(!o(n))throw new TypeError(n+" returned for property "+String(e)+" of object "+t+" is not a function");return n}}(t,Symbol.toPrimitive):a(t)&&(e=Symbol.prototype.valueOf)),void 0!==e){var c=e.call(t,n);if(i(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(s(t)||a(t))&&(n="string"),function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var n,r,s,a="string"===e?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(n=t[a[s]],o(n)&&(r=n.call(t),i(r)))return r;throw new TypeError("No default value")}(t,"default"===n?"number":n)}},4335:t=>{t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},7042:t=>{var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}d(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&d(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,n,r){var i,o,s,u;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=s.length,u=h,console&&console.warn&&console.warn(u)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):y(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function d(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else{var u=c.length,h=y(c,u);for(n=0;n<u;++n)r(h[n],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,l(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,l(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},325:(t,e,n)=>{var r=n(8757),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),"[object Array]"===i.call(t)?function(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s):"string"==typeof t?function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}(t,e,s):function(t,e,n){for(var r in t)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s)}},8782:t=>{var e=Object.prototype.toString,n=Math.max,r=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(t){for(var e=[],n=1,r=0;n<t.length;n+=1,r+=1)e[r]=t[n];return e}(arguments),a=n(0,i.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(t){for(var e="",n=0;n<t.length;n+=1)e+=t[n],n+1<t.length&&(e+=",");return e}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var e=i.apply(this,r(s,arguments));return Object(e)===e?e:this}return i.apply(t,r(s,arguments))})),i.prototype){var h=function(){};h.prototype=i.prototype,o.prototype=new h,h.prototype=null}return o}},9942:(t,e,n)=>{var r=n(8782);t.exports=Function.prototype.bind||r},6713:(t,e,n)=>{var r=n(8757),i=n(6406),o=n(4045)(),s=n(9691),a=s("Function.prototype.toString"),c=s("String.prototype.match"),u=s("Object.prototype.toString"),h=/^class /,l=/\s*function\s+([^(\s]*)\s*/,f=!(0 in[,]),p=Function.prototype,y=function(){return!1};if("object"==typeof document){var d=document.all;u(d)===u(document.all)&&(y=function(t){if((f||!t)&&(void 0===t||"object"==typeof t))try{var e=u(t);return("[object HTMLAllCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=function(){if(y(this)||!function(t){if(r(t))return!1;if("function"!=typeof t)return!1;try{return!!c(a(t),h)}catch(t){}return!1}(this)&&!r(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(o&&i(this,"name"))return this.name;if(this===p)return"";var t=a(this),e=c(t,l);return e&&e[1]}},327:(t,e,n)=>{var r=n(2845),i=n(4774),o=n(6713),s=n(1308),a=n(1174),c=i(o);r(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},1308:(t,e,n)=>{var r=n(6713);t.exports=function(){return r}},1174:(t,e,n)=>{var r=n(2845).supportsDescriptors,i=n(4045)(),o=n(1308),s=Object.defineProperty,a=TypeError;t.exports=function(){var t=o();if(i)return t;if(!r)throw new a("Shimming Function.prototype.name support requires ES5 property descriptor support.");var e=Function.prototype;return s(e,"name",{configurable:!0,enumerable:!1,get:function(){var n=t.call(this);return this!==e&&s(this,"name",{configurable:!0,enumerable:!1,value:n,writable:!1}),n}}),t}},4045:t=>{var e=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(t){n=null}e.functionsHaveConfigurableNames=function(){if(!e()||!n)return!1;var t=n((function(){}),"name");return!!t&&!!t.configurable};var r=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof r&&""!==function(){}.bind().name},t.exports=e},6356:(t,e,n)=>{var r,i=n(4817),o=n(9242),s=n(2490),a=n(4815),c=n(2819),u=n(7855),h=n(3736),l=n(3592),f=n(9187),p=n(1685),y=n(8701),d=n(247),g=n(9485),b=n(4379),m=n(9726),v=Function,w=function(t){try{return v('"use strict"; return ('+t+").constructor;")()}catch(t){}},E=n(6996),A=n(3144),S=function(){throw new h},T=E?function(){try{return S}catch(t){try{return E(arguments,"callee").get}catch(t){return S}}}():S,O=n(8322)(),_=n(3861),I=n(941),L=n(743),x=n(8739),k=n(1863),B={},R="undefined"!=typeof Uint8Array&&_?_(Uint8Array):r,U={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":O&&_?_([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":B,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":O&&_?_(_([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&O&&_?_((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&O&&_?_((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":O&&_?_(""[Symbol.iterator]()):r,"%Symbol%":O?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":T,"%TypedArray%":R,"%TypeError%":h,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":k,"%Function.prototype.apply%":x,"%Object.defineProperty%":A,"%Object.getPrototypeOf%":I,"%Math.abs%":f,"%Math.floor%":p,"%Math.max%":y,"%Math.min%":d,"%Math.pow%":g,"%Math.round%":b,"%Math.sign%":m,"%Reflect.getPrototypeOf%":L};if(_)try{null.error}catch(t){var N=_(_(t));U["%Error.prototype%"]=N}var C=function t(e){var n;if("%AsyncFunction%"===e)n=w("async function () {}");else if("%GeneratorFunction%"===e)n=w("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=w("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&_&&(n=_(i.prototype))}return U[e]=n,n},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j=n(9942),P=n(6406),F=j.call(k,Array.prototype.concat),M=j.call(x,Array.prototype.splice),V=j.call(k,String.prototype.replace),$=j.call(k,String.prototype.slice),z=j.call(k,RegExp.prototype.exec),G=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,K=/\\(\\)?/g,W=function(t,e){var n,r=t;if(P(D,r)&&(r="%"+(n=D[r])[0]+"%"),P(U,r)){var i=U[r];if(i===B&&(i=C(r)),void 0===i&&!e)throw new h("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new u("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new h('"allowMissing" argument must be a boolean');if(null===z(/^%?[^%]*%?$/,t))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=$(t,0,1),n=$(t,-1);if("%"===e&&"%"!==n)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new u("invalid intrinsic syntax, expected opening `%`");var r=[];return V(t,G,(function(t,e,n,i){r[r.length]=n?V(i,K,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=W("%"+r+"%",e),o=i.name,s=i.value,a=!1,c=i.alias;c&&(r=c[0],M(n,F([0,1],c)));for(var l=1,f=!0;l<n.length;l+=1){var p=n[l],y=$(p,0,1),d=$(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===d||"'"===d||"`"===d)&&y!==d)throw new u("property names with quotes must have matching quotes");if("constructor"!==p&&f||(a=!0),P(U,o="%"+(r+="."+p)+"%"))s=U[o];else if(null!=s){if(!(p in s)){if(!e)throw new h("base intrinsic for "+t+" exists, but the property is not available.");return}if(E&&l+1>=n.length){var g=E(s,p);s=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[p]}else f=P(s,p),s=s[p];f&&!a&&(U[o]=s)}}return s}},941:(t,e,n)=>{var r=n(4817);t.exports=r.getPrototypeOf||null},743:t=>{t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},3861:(t,e,n)=>{var r=n(743),i=n(941),o=n(1187);t.exports=r?function(t){return r(t)}:i?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return i(t)}:o?function(t){return o(t)}:null},1888:t=>{t.exports=Object.getOwnPropertyDescriptor},6996:(t,e,n)=>{var r=n(1888);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},1183:t=>{var e="undefined"!=typeof BigInt&&BigInt;t.exports=function(){return"function"==typeof e&&"function"==typeof BigInt&&"bigint"==typeof e(42)&&"bigint"==typeof BigInt(42)}},9507:(t,e,n)=>{var r=n(3144),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},8322:(t,e,n)=>{var r="undefined"!=typeof Symbol&&Symbol,i=n(9912);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},9912:t=>{t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},4837:(t,e,n)=>{var r=n(9912);t.exports=function(){return r()&&!!Symbol.toStringTag}},6406:(t,e,n)=>{var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(9942);t.exports=o.call(r,i)},3650:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?i-1:0,f=n?-1:1,p=t[e+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,h=(1<<u)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*c-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=y,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+p]=255&s,p+=y,s/=256,u-=8);t[n+p-y]|=128*d}},4847:(t,e,n)=>{var r=n(4774),i=n(9691),o=n(6356)("%ArrayBuffer%",!0),s=i("ArrayBuffer.prototype.byteLength",!0),a=i("Object.prototype.toString"),c=!!o&&!s&&new o(0).slice,u=!!c&&r(c);t.exports=s||u?function(t){if(!t||"object"!=typeof t)return!1;try{return s?s(t):u(t,0),!0}catch(t){return!1}}:o?function(t){return"[object ArrayBuffer]"===a(t)}:function(t){return!1}},2714:(t,e,n)=>{var r=n(9691),i=n(400),o=r("Object.prototype.toString"),s=r("Function.prototype.toString"),a=i(/^\s*async(?:\s+function(?:\s+|\()|\s*\()/),c=n(4837)(),u=n(3861),h=n(2949);t.exports=function(t){if("function"!=typeof t)return!1;if(a(s(t)))return!0;if(!c)return"[object AsyncFunction]"===o(t);if(!u)return!1;var e=h();return e&&e.prototype===u(t)}},8458:(t,e,n)=>{if(n(1183)()){var r=BigInt.prototype.valueOf;t.exports=function(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function(t){try{return r.call(t),!0}catch(t){}return!1}(t))}}else t.exports=function(t){return!1}},1033:(t,e,n)=>{var r=n(9691),i=r("Boolean.prototype.toString"),o=r("Object.prototype.toString"),s=n(4837)();t.exports=function(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(s?function(t){try{return i(t),!0}catch(t){return!1}}(t):"[object Boolean]"===o(t))}},8757:t=>{var e,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,e)}catch(t){t!==n&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(t){try{var e=r.call(t);return o.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(r.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,h=!(0 in[,]),l=function(){return!1};if("object"==typeof document){var f=document.all;c.call(f)===c.call(document.all)&&(l=function(t){if((h||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(l(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==n)return!1}return!s(t)&&a(t)}:function(t){if(l(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(u)return a(t);if(s(t))return!1;var e=c.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},8715:(t,e,n)=>{var r=n(9691),i=r("Date.prototype.getDay"),o=r("Object.prototype.toString"),s=n(4837)();t.exports=function(t){return"object"==typeof t&&null!==t&&(s?function(t){try{return i(t),!0}catch(t){return!1}}(t):"[object Date]"===o(t))}},8798:(t,e,n)=>{var r=n(9691)("FinalizationRegistry.prototype.register",!0);t.exports=r?function(t){if(!t||"object"!=typeof t)return!1;try{return r(t,{},null),!0}catch(t){return!1}}:function(t){return!1}},3773:(t,e,n)=>{var r,i=n(9691),o=n(400)(/^\s*(?:function)?\*/),s=n(4837)(),a=n(3861),c=i("Object.prototype.toString"),u=i("Function.prototype.toString");t.exports=function(t){if("function"!=typeof t)return!1;if(o(u(t)))return!0;if(!s)return"[object GeneratorFunction]"===c(t);if(!a)return!1;if(void 0===r){var e=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(t){}}();r=!!e&&a(e)}return a(t)===r}},9389:t=>{var e,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;n||(e=function(t){return!1});var i=n?Map.prototype.has:null,o=r?Set.prototype.has:null;e||i||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t),o)try{o.call(t)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},1304:(t,e,n)=>{var r=n(9691),i=r("Number.prototype.toString"),o=r("Object.prototype.toString"),s=n(4837)();t.exports=function(t){return"number"==typeof t||!(!t||"object"!=typeof t)&&(s?function(t){try{return i(t),!0}catch(t){return!1}}(t):"[object Number]"===o(t))}},2388:(t,e,n)=>{var r,i=n(9691),o=n(4837)(),s=n(6406),a=n(6996);if(o){var c=i("RegExp.prototype.exec"),u={},h=function(){throw u},l={toString:h,valueOf:h};"symbol"==typeof Symbol.toPrimitive&&(l[Symbol.toPrimitive]=h),r=function(t){if(!t||"object"!=typeof t)return!1;var e=a(t,"lastIndex");if(!e||!s(e,"value"))return!1;try{c(t,l)}catch(t){return t===u}}}else{var f=i("Object.prototype.toString");r=function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===f(t)}}t.exports=r},883:t=>{var e,n="function"==typeof Map&&Map.prototype?Map:null,r="function"==typeof Set&&Set.prototype?Set:null;r||(e=function(t){return!1});var i=n?Map.prototype.has:null,o=r?Set.prototype.has:null;e||o||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(o.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof r}catch(t){}return!1}},3025:(t,e,n)=>{var r=n(9691)("SharedArrayBuffer.prototype.byteLength",!0);t.exports=r?function(t){if(!t||"object"!=typeof t)return!1;try{return r(t),!0}catch(t){return!1}}:function(t){return!1}},3940:(t,e,n)=>{var r=n(9691),i=r("String.prototype.valueOf"),o=r("Object.prototype.toString"),s=n(4837)();t.exports=function(t){return"string"==typeof t||!(!t||"object"!=typeof t)&&(s?function(t){try{return i(t),!0}catch(t){return!1}}(t):"[object String]"===o(t))}},669:(t,e,n)=>{var r=n(9691),i=r("Object.prototype.toString"),o=n(8322)(),s=n(400);if(o){var a=r("Symbol.prototype.toString"),c=s(/^Symbol\(.*\)$/);t.exports=function(t){if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||"[object Symbol]"!==i(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&c(a(t))}(t)}catch(t){return!1}}}else t.exports=function(t){return!1}},7827:(t,e,n)=>{var r=n(2838);t.exports=function(t){return!!r(t)}},1993:t=>{var e,n="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,r="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;n||(e=function(t){return!1});var i=n?n.prototype.has:null,o=r?r.prototype.has:null;e||i||(e=function(t){return!1}),t.exports=e||function(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t,i),o)try{o.call(t,o)}catch(t){return!0}return t instanceof n}catch(t){}return!1}},1430:(t,e,n)=>{var r=n(9691)("WeakRef.prototype.deref",!0);t.exports="undefined"==typeof WeakRef?function(t){return!1}:function(t){if(!t||"object"!=typeof t)return!1;try{return r(t),!0}catch(t){return!1}}},8567:(t,e,n)=>{var r=n(6356),i=n(8918),o=r("%WeakSet%",!0),s=i("WeakSet.prototype.has",!0);if(s){var a=i("WeakMap.prototype.has",!0);t.exports=function(t){if(!t||"object"!=typeof t)return!1;try{if(s(t,s),a)try{a(t,a)}catch(t){return!0}return t instanceof o}catch(t){}return!1}}else t.exports=function(t){return!1}},43:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},9120:(t,e,n)=>{const r=n(5205),i=n(2142),{Encoding:o}=n(363),{BufferFormat:s,ViewFormat:a,UTF8Format:c}=n(2852),u=Symbol("formats"),h=Symbol("encodings"),l=new Set(["buffer","view","utf8"]);e.Transcoder=class{constructor(t){if(!Array.isArray(t))throw new TypeError("The first argument 'formats' must be an array");if(!t.every((t=>l.has(t))))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[h]=new Map,this[u]=new Set(t);for(const t in i)try{this.encoding(t)}catch(t){if("LEVEL_ENCODING_NOT_SUPPORTED"!==t.code)throw t}}encodings(){return Array.from(new Set(this[h].values()))}encoding(t){let e=this[h].get(t);if(void 0===e){if("string"==typeof t&&""!==t){if(e=p[t],!e)throw new r(`Encoding '${t}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof t||null===t)throw new TypeError("First argument 'encoding' must be a string or object");e=function(t){if(t instanceof o)return t;const e="type"in t&&"string"==typeof t.type?t.type:void 0,n=t.name||e||"anonymous-"+y++;switch(function(t){return"format"in t&&void 0!==t.format?t.format:"buffer"in t&&"boolean"==typeof t.buffer?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}(t)){case"view":return new a({...t,name:n});case"utf8":return new c({...t,name:n});case"buffer":return new s({...t,name:n});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(t)}const{name:n,format:i}=e;if(!this[u].has(i))if(this[u].has("view"))e=e.createViewTranscoder();else if(this[u].has("buffer"))e=e.createBufferTranscoder();else{if(!this[u].has("utf8"))throw new r(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});e=e.createUTF8Transcoder()}for(const r of[t,n,e.name,e.commonName])this[h].set(r,e)}return e}};const f={binary:i.buffer,"utf-8":i.utf8},p={...i,...f};let y=0},363:(t,e,n)=>{const r=n(5205),i=new Set(["buffer","view","utf8"]);e.Encoding=class{constructor(t){if(this.encode=t.encode||this.encode,this.decode=t.decode||this.decode,this.name=t.name||this.name,this.format=t.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!i.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");t.createViewTranscoder&&(this.createViewTranscoder=t.createViewTranscoder),t.createBufferTranscoder&&(this.createBufferTranscoder=t.createBufferTranscoder),t.createUTF8Transcoder&&(this.createUTF8Transcoder=t.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},2142:(t,e,n)=>{const{Buffer:r}=n(5324)||{Buffer:{isBuffer:()=>!1}},{textEncoder:i,textDecoder:o}=n(3181)(),{BufferFormat:s,ViewFormat:a,UTF8Format:c}=n(2852),u=t=>t;e.utf8=new c({encode:function(t){return r.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?o.decode(t):String(t)},decode:u,name:"utf8",createViewTranscoder(){return new a({encode:function(t){return ArrayBuffer.isView(t)?t:i.encode(t)},decode:function(t){return o.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new s({encode:function(t){return r.isBuffer(t)?t:ArrayBuffer.isView(t)?r.from(t.buffer,t.byteOffset,t.byteLength):r.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}}),e.json=new c({encode:JSON.stringify,decode:JSON.parse,name:"json"}),e.buffer=new s({encode:function(t){return r.isBuffer(t)?t:ArrayBuffer.isView(t)?r.from(t.buffer,t.byteOffset,t.byteLength):r.from(String(t),"utf8")},decode:u,name:"buffer",createViewTranscoder(){return new a({encode:function(t){return ArrayBuffer.isView(t)?t:r.from(String(t),"utf8")},decode:function(t){return r.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}}),e.view=new a({encode:function(t){return ArrayBuffer.isView(t)?t:i.encode(t)},decode:u,name:"view",createBufferTranscoder(){return new s({encode:function(t){return r.isBuffer(t)?t:ArrayBuffer.isView(t)?r.from(t.buffer,t.byteOffset,t.byteLength):r.from(String(t),"utf8")},decode:u,name:`${this.name}+buffer`})}}),e.hex=new s({encode:function(t){return r.isBuffer(t)?t:r.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"}),e.base64=new s({encode:function(t){return r.isBuffer(t)?t:r.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})},2852:(t,e,n)=>{const{Buffer:r}=n(5324)||{},{Encoding:i}=n(363),o=n(3181);class s extends i{constructor(t){super({...t,format:"buffer"})}createViewTranscoder(){return new a({encode:this.encode,decode:t=>this.decode(r.from(t.buffer,t.byteOffset,t.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class a extends i{constructor(t){super({...t,format:"view"})}createBufferTranscoder(){return new s({encode:t=>{const e=this.encode(t);return r.from(e.buffer,e.byteOffset,e.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}e.BufferFormat=s,e.ViewFormat=a,e.UTF8Format=class extends i{constructor(t){super({...t,format:"utf8"})}createBufferTranscoder(){return new s({encode:t=>r.from(this.encode(t),"utf8"),decode:t=>this.decode(t.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:t,textDecoder:e}=o();return new a({encode:e=>t.encode(this.encode(e)),decode:t=>this.decode(e.decode(t)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},3181:t=>{let e=null;t.exports=function(){return null===e&&(e={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),e}},9187:t=>{t.exports=Math.abs},1685:t=>{t.exports=Math.floor},2208:(t,e,n)=>{var r=n(2874);t.exports=function(t){return("number"==typeof t||"bigint"==typeof t)&&!r(t)&&t!==1/0&&t!==-1/0}},5193:(t,e,n)=>{var r=n(9187),i=n(1685),o=n(2874),s=n(2208);t.exports=function(t){if("number"!=typeof t||o(t)||!s(t))return!1;var e=r(t);return i(e)===e}},2874:t=>{t.exports=Number.isNaN||function(t){return t!=t}},6838:t=>{t.exports=function(t){return 0===t&&1/t==-1/0}},8701:t=>{t.exports=Math.max},247:t=>{t.exports=Math.min},2191:(t,e,n)=>{var r=n(1685);t.exports=function(t,e){var n=t%e;return r(n>=0?n:n+e)}},9485:t=>{t.exports=Math.pow},4379:t=>{t.exports=Math.round},9726:(t,e,n)=>{var r=n(2874);t.exports=function(t){return r(t)||0===t?t:t<0?-1:1}},3646:t=>{const e=Symbol("kErrors");t.exports=function(t){if(0!==(t=t.filter(o)).length)return 1===t.length?t[0]:new n(t)};class n extends Error{constructor(t){const n=new Set(t.map(s).filter(Boolean));super(Array.from(n).join("; ")),r(this,"name","CombinedError"),r(this,e,t),i(this,"stack",(()=>t.map(a).join("\n\n"))),i(this,"transient",(()=>t.length>0&&t.every(c))),i(this,"expected",(()=>t.length>0&&t.every(u)))}[Symbol.iterator](){return this[e][Symbol.iterator]()}}function r(t,e,n){Object.defineProperty(t,e,{value:n})}function i(t,e,n){Object.defineProperty(t,e,{get:n})}function o(t){return null!=t}function s(t){return t.message}function a(t){return t.stack}function c(t){return!0===t.transient}function u(t){return!0===t.expected}},5205:t=>{t.exports=class extends Error{constructor(t,e){super(t||""),"object"==typeof e&&null!==e&&(e.code&&(this.code=String(e.code)),e.expected&&(this.expected=!0),e.transient&&(this.transient=!0),e.cause&&(this.cause=e.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},8e3:(t,e,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,s=r&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,h=a&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,d=Object.prototype.toString,g=Function.prototype.toString,b=String.prototype.match,m=String.prototype.slice,v=String.prototype.replace,w=String.prototype.toUpperCase,E=String.prototype.toLowerCase,A=RegExp.prototype.test,S=Array.prototype.concat,T=Array.prototype.join,O=Array.prototype.slice,_=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,L=Object.getOwnPropertySymbols,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,B="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,U=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function N(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||A.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-_(-t):_(t);if(r!==t){var i=String(r),o=m.call(e,i.length+1);return v.call(i,n,"$&_")+"."+v.call(v.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(e,n,"$&_")}var C=n(5585),D=C.custom,j=K(D)?D:null,P={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function M(t,e,n){var r=n.quoteStyle||e,i=P[r];return i+t+i}function V(t){return v.call(String(t),/"/g,"&quot;")}function $(t){return!B||!("object"==typeof t&&(B in t||void 0!==t[B]))}function z(t){return"[object Array]"===q(t)&&$(t)}function G(t){return"[object RegExp]"===q(t)&&$(t)}function K(t){if(k)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!x)return!1;try{return x.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,i,a){var c=r||{};if(H(c,"quoteStyle")&&!H(P,c.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!H(c,"customInspect")||c.customInspect;if("boolean"!=typeof d&&"symbol"!==d)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return J(e,c);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var A=String(e);return w?N(e,A):A}if("bigint"==typeof e){var _=String(e)+"n";return w?N(e,_):_}var L=void 0===c.depth?5:c.depth;if(void 0===i&&(i=0),i>=L&&L>0&&"object"==typeof e)return z(e)?"[Array]":"[Object]";var D,F=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=T.call(Array(t.indent+1)," ")}return{base:n,prev:T.call(Array(e+1),n)}}(c,i);if(void 0===a)a=[];else if(Y(a,e)>=0)return"[Circular]";function W(e,n,r){if(n&&(a=O.call(a)).push(n),r){var o={depth:c.depth};return H(c,"quoteStyle")&&(o.quoteStyle=c.quoteStyle),t(e,o,i+1,a)}return t(e,c,i+1,a)}if("function"==typeof e&&!G(e)){var X=function(t){if(t.name)return t.name;var e=b.call(g.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),rt=nt(e,W);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(rt.length>0?" { "+T.call(rt,", ")+" }":"")}if(K(e)){var it=k?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):x.call(e);return"object"!=typeof e||k?it:Q(it)}if((D=e)&&"object"==typeof D&&("undefined"!=typeof HTMLElement&&D instanceof HTMLElement||"string"==typeof D.nodeName&&"function"==typeof D.getAttribute)){for(var ot="<"+E.call(String(e.nodeName)),st=e.attributes||[],at=0;at<st.length;at++)ot+=" "+st[at].name+"="+M(V(st[at].value),"double",c);return ot+=">",e.childNodes&&e.childNodes.length&&(ot+="..."),ot+"</"+E.call(String(e.nodeName))+">"}if(z(e)){if(0===e.length)return"[]";var ct=nt(e,W);return F&&!function(t){for(var e=0;e<t.length;e++)if(Y(t[e],"\n")>=0)return!1;return!0}(ct)?"["+et(ct,F)+"]":"[ "+T.call(ct,", ")+" ]"}if(function(t){return"[object Error]"===q(t)&&$(t)}(e)){var ut=nt(e,W);return"cause"in Error.prototype||!("cause"in e)||R.call(e,"cause")?0===ut.length?"["+String(e)+"]":"{ ["+String(e)+"] "+T.call(ut,", ")+" }":"{ ["+String(e)+"] "+T.call(S.call("[cause]: "+W(e.cause),ut),", ")+" }"}if("object"==typeof e&&d){if(j&&"function"==typeof e[j]&&C)return C(e,{depth:L-i});if("symbol"!==d&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ht=[];return s&&s.call(e,(function(t,n){ht.push(W(n,e,!0)+" => "+W(t,e))})),tt("Map",o.call(e),ht,F)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var lt=[];return h&&h.call(e,(function(t){lt.push(W(t,e))})),tt("Set",u.call(e),lt,F)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t,l);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Z("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{l.call(t,l)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Z("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return Z("WeakRef");if(function(t){return"[object Number]"===q(t)&&$(t)}(e))return Q(W(Number(e)));if(function(t){if(!t||"object"!=typeof t||!I)return!1;try{return I.call(t),!0}catch(t){}return!1}(e))return Q(W(I.call(e)));if(function(t){return"[object Boolean]"===q(t)&&$(t)}(e))return Q(y.call(e));if(function(t){return"[object String]"===q(t)&&$(t)}(e))return Q(W(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==n.g&&e===n.g)return"{ [object globalThis] }";if(!function(t){return"[object Date]"===q(t)&&$(t)}(e)&&!G(e)){var ft=nt(e,W),pt=U?U(e)===Object.prototype:e instanceof Object||e.constructor===Object,yt=e instanceof Object?"":"null prototype",dt=!pt&&B&&Object(e)===e&&B in e?m.call(q(e),8,-1):yt?"Object":"",gt=(pt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(dt||yt?"["+T.call(S.call([],dt||[],yt||[]),": ")+"] ":"");return 0===ft.length?gt+"{}":F?gt+"{"+et(ft,F)+"}":gt+"{ "+T.call(ft,", ")+" }"}return String(e)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function H(t,e){return W.call(t,e)}function q(t){return d.call(t)}function Y(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function J(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return J(m.call(t,0,e.maxStringLength),e)+r}var i=F[e.quoteStyle||"single"];return i.lastIndex=0,M(v.call(v.call(t,i,"\\$1"),/[\x00-\x1f]/g,X),"single",e)}function X(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function Q(t){return"Object("+t+")"}function Z(t){return t+" { ? }"}function tt(t,e,n,r){return t+" ("+e+") {"+(r?et(n,r):T.call(n,", "))+"}"}function et(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+T.call(t,","+n)+"\n"+e.prev}function nt(t,e){var n=z(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=H(t,i)?e(t[i],t):""}var o,s="function"==typeof L?L(t):[];if(k){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)H(t,c)&&(n&&String(Number(c))===c&&c<t.length||k&&o["$"+c]instanceof Symbol||(A.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t))));if("function"==typeof L)for(var u=0;u<s.length;u++)R.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}},4084:(t,e,n)=>{var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(3316),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{l(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var y=u&&n;if(a&&t.length>0&&!i.call(t,0))for(var d=0;d<t.length;++d)f.push(String(d));if(r&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var b in t)y&&"prototype"===b||!i.call(t,b)||f.push(String(b));if(c)for(var m=function(t){if("undefined"==typeof window||!p)return l(t);try{return l(t)}catch(t){return!1}}(t),v=0;v<h.length;++v)m&&"constructor"===h[v]||!i.call(t,h[v])||f.push(h[v]);return f}}t.exports=r},2528:(t,e,n)=>{var r=Array.prototype.slice,i=n(3316),o=Object.keys,s=o?function(t){return o(t)}:n(4084),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},3316:t=>{var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},1425:t=>{t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},8770:(t,e,n)=>{var r=n(6356)("%Array.prototype.concat%"),i=n(4774),o=n(9691)("Array.prototype.slice"),s=n(9912)()&&Symbol.isConcatSpreadable,a=[],c=s?i.apply(r,a):null,u=s?n(43):null;t.exports=s?function(t){for(var e=0;e<arguments.length;e+=1){var n=arguments[e];if(n&&"object"==typeof n&&"boolean"==typeof n[s]){a[s]||(a[s]=!0);var r=u(n)?o(n):[n];r[s]=!0,arguments[e]=r}}return c(arguments)}:i(r,a)},400:(t,e,n)=>{var r=n(9691),i=n(2388),o=r("RegExp.prototype.exec"),s=n(3736);t.exports=function(t){if(!i(t))throw new s("`regex` must be a RegExp");return function(e){return null!==o(t,e)}}},240:(t,e,n)=>{var r=n(6356),i=n(2690),o=n(9507)(),s=n(6996),a=n(3736),c=r("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||c(e)!==e)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,u=!0;if("length"in t&&s){var h=s(t,"length");h&&!h.configurable&&(r=!1),h&&!h.writable&&(u=!1)}return(r||u||!n)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},6269:(t,e,n)=>{var r=n(6511),i=n(1735),o=n(9691)("String.prototype.replace"),s=/^\s$/.test("᠎"),a=s?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,c=s?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=i(r(this));return o(o(t,a,""),c,"")}},4219:(t,e,n)=>{var r=n(4774),i=n(2845),o=n(6511),s=n(6269),a=n(488),c=n(866),u=r(a()),h=function(t){return o(t),u(t)};i(h,{getPolyfill:a,implementation:s,shim:c}),t.exports=h},488:(t,e,n)=>{var r=n(6269);t.exports=function(){return String.prototype.trim&&"​"==="​".trim()&&"᠎"==="᠎".trim()&&"_᠎"==="_᠎".trim()&&"᠎_"==="᠎_".trim()?String.prototype.trim:r}},866:(t,e,n)=>{var r=n(9507)(),i=n(2690),o=n(488);t.exports=function(){var t=o();return String.prototype.trim!==t&&(r?i(String.prototype,"trim",t,!0):i(String.prototype,"trim",t)),t}},4504:(t,e,n)=>{var r=n(2838),i=n(2707),o=n(6996);function s(t){return Object.prototype.toString.call(t)}var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function c(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)}var u=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},h=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols;function f(t){var e=u(t);if(l)for(var n=l(t),r=0;r<n.length;r++)h.call(t,n[r])&&e.push(n[r]);return e}var p=Object.prototype.hasOwnProperty||function(t,e){return e in t};function y(t,e){if("object"==typeof t&&null!==t){var n;if(a(t))n=[];else if("[object Date]"===s(t))n=new Date(t.getTime?t.getTime():t);else if("[object RegExp]"===s(t))n=new RegExp(t);else if(function(t){return"[object Error]"===s(t)}(t))n={message:t.message};else if(function(t){return"[object Boolean]"===s(t)}(t)||function(t){return"[object Number]"===s(t)}(t)||function(t){return"[object String]"===s(t)}(t))n=Object(t);else{if(r(t))return i(t);if(Object.create&&Object.getPrototypeOf)n=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)n={};else{var o=t.constructor&&t.constructor.prototype||t.__proto__||{},h=function(){};h.prototype=o,n=new h}}return c((e.includeSymbols?f:u)(t),(function(e){n[e]=t[e]})),n}return t}var d={__proto__:null};function g(t,e){var n=[],r=[],i=!0,s=arguments.length>2?arguments[2]:d,h=s.includeSymbols?f:u,l=!!s.immutable;return function t(u){var f=l?y(u,s):u,d={},g=!0,b={node:f,node_:u,path:[].concat(n),parent:r[r.length-1],parents:r,key:n[n.length-1],isRoot:0===n.length,level:n.length,circular:null,update:function(t,e){b.isRoot||(b.parent.node[b.key]=t),b.node=t,e&&(g=!1)},delete:function(t){delete b.parent.node[b.key],t&&(g=!1)},remove:function(t){a(b.parent.node)?b.parent.node.splice(b.key,1):delete b.parent.node[b.key],t&&(g=!1)},keys:null,before:function(t){d.before=t},after:function(t){d.after=t},pre:function(t){d.pre=t},post:function(t){d.post=t},stop:function(){i=!1},block:function(){g=!1}};if(!i)return b;function m(){if("object"==typeof b.node&&null!==b.node){b.keys&&b.node_===b.node||(b.keys=h(b.node)),b.isLeaf=0===b.keys.length;for(var t=0;t<r.length;t++)if(r[t].node_===u){b.circular=r[t];break}}else b.isLeaf=!0,b.keys=null;b.notLeaf=!b.isLeaf,b.notRoot=!b.isRoot}m();var v=e.call(b,b.node);return void 0!==v&&b.update&&b.update(v),d.before&&d.before.call(b,b.node),g?("object"!=typeof b.node||null===b.node||b.circular||(r.push(b),m(),c(b.keys,(function(e,r){n.push(e),d.pre&&d.pre.call(b,b.node[e],e);var i=t(b.node[e]);l&&p.call(b.node,e)&&!function(t,e){return"function"!=typeof o||!o(t,e).writable}(b.node,e)&&(b.node[e]=i.node),i.isLast=r===b.keys.length-1,i.isFirst=0===r,d.post&&d.post.call(b,i),n.pop()})),r.pop()),d.after&&d.after.call(b,b.node),b):b}(t).node}function b(t){this.options=arguments.length>1?arguments[1]:d,this.value=t}function m(t){return new b(t,arguments.length>1?arguments[1]:d)}b.prototype.get=function(t){for(var e=this.value,n=0;e&&n<t.length;n++){var r=t[n];if(!p.call(e,r)||!this.options.includeSymbols&&"symbol"==typeof r)return;e=e[r]}return e},b.prototype.has=function(t){for(var e=this.value,n=0;e&&n<t.length;n++){var r=t[n];if(!p.call(e,r)||!this.options.includeSymbols&&"symbol"==typeof r)return!1;e=e[r]}return!0},b.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var i=t[r];p.call(n,i)||(n[i]={}),n=n[i]}return n[t[r]]=e,e},b.prototype.map=function(t){return g(this.value,t,{__proto__:null,immutable:!0,includeSymbols:!!this.options.includeSymbols})},b.prototype.forEach=function(t){return this.value=g(this.value,t,this.options),this.value},b.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach((function(e){this.isRoot&&n||(r=t.call(this,r,e))})),r},b.prototype.paths=function(){var t=[];return this.forEach((function(){t.push(this.path)})),t},b.prototype.nodes=function(){var t=[];return this.forEach((function(){t.push(this.node)})),t},b.prototype.clone=function(){var t=[],e=[],n=this.options;return r(this.value)?i(this.value):function r(i){for(var o=0;o<t.length;o++)if(t[o]===i)return e[o];if("object"==typeof i&&null!==i){var s=y(i,n);return t.push(i),e.push(s),c((n.includeSymbols?f:u)(i),(function(t){s[t]=r(i[t])})),t.pop(),e.pop(),s}return i}(this.value)},c(f(b.prototype),(function(t){m[t]=function(e){var n=[].slice.call(arguments,1),r=new b(e);return r[t].apply(r,n)}})),t.exports=m},2539:(t,e,n)=>{var r=n(3736),i=n(9691)("TypedArray.prototype.buffer",!0),o=n(7827);t.exports=i||function(t){if(!o(t))throw new r("Not a Typed Array");return t.buffer}},8141:(t,e,n)=>{var r=n(325),i=n(4774),o=n(8872)(),s=n(6746)(),a={__proto__:null},c=n(6996),u=Object.defineProperty;if(c){var h=function(t){return t.byteOffset};r(s,(function(t){if("function"==typeof n.g[t]||"object"==typeof n.g[t]){var e=n.g[t].prototype,r=c(e,"byteOffset");if(!r){var s=o(e);r=c(s,"byteOffset")}if(r&&r.get)a[t]=i(r.get);else if(u){var l=new n.g[t](2);(r=c(l,"byteOffset"))&&r.configurable&&u(l,"length",{value:3}),2===l.length&&(a[t]=h)}}}))}var l=n(7827);t.exports=function(t){return!!l(t)&&function(t){var e;return r(a,(function(n){if("number"!=typeof e)try{var r=n(t);"number"==typeof r&&(e=r)}catch(t){}})),e}(t)}},4969:(t,e,n)=>{var r=n(4774),i=n(325),o=n(6996),s=n(7827),a=n(1425),c=n(8872)(),u={__proto__:null},h=Object.defineProperty;if(o){var l=function(t){return t.length};i(a,(function(t){var e=n.g[t];if("function"==typeof e||"object"==typeof e){var i=e.prototype,s=o(i,"length");if(!s){var a=c(i);s=o(a,"length")}if(s&&s.get)u["$"+t]=r(s.get);else if(h){var f=new n.g[t](2);(s=o(f,"length"))&&s.configurable&&h(f,"length",{value:3}),2===f.length&&(u["$"+t]=l)}}}))}t.exports=function(t){return!!s(t)&&function(t){var e;return i(u,(function(n){if("number"!=typeof e)try{var r=n(t);"number"==typeof r&&(e=r)}catch(t){}})),e}(t)}},6229:(t,e,n)=>{var r=n(3736),i=n(8975),o=n(9564),s=n(7475),a=n(565),c=n(207),u=n(203),h=n(4767),l=n(1783),f=n(1735),p=n(697),y=n(7412),d=n(4106),g=n(2408),b=n(2539),m=n(8141);t.exports=function(t,e){var n=this;g(n,"SEQ-CST");var v,w=n.length,E=l(t);v=E===-1/0?0:E<0?a(w+E,0):c(E,w);var A,S=void 0===e?w:l(e);A=S===-1/0?0:S<0?a(w+S,0):c(S,w);var T=a(A-v,0),O=d(n,[T]);if(T>0){if(s(b(n)))throw new r("Cannot use a Typed Array with an underlying ArrayBuffer that is detached");if(y(n)===y(O))for(var _=b(n),I=b(O),L=p(n),x=v*L+m(n),k=m(O),B=k+T*L;k<B;){var R=o(_,x,"UINT8",!0,"UNORDERED");h(I,k,"UINT8",R,!0,"UNORDERED"),x+=1,k+=1}else for(var U=0;v<A;){var N=f(v),C=i(n,N);u(O,f(U),C,!0),v+=1,U+=1}}return O}},2707:(t,e,n)=>{var r=n(2845),i=n(4774),o=n(6229),s=n(7072),a=n(5114),c=i(s());r(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},7072:(t,e,n)=>{var r=n(6229);t.exports=function(){return"function"==typeof Uint8Array&&Uint8Array.prototype.slice||r}},5114:(t,e,n)=>{var r=n(2845),i=n(5504),o=n(7072);t.exports=function(){if("function"==typeof Uint8Array){var t=o(),e=i(Uint8Array.prototype);r(e,{slice:t},{slice:function(){return e.slice!==t}})}return t}},5858:(t,e,n)=>{var r=n(3940),i=n(1304),o=n(1033),s=n(669),a=n(8458);t.exports=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:r(t)?"String":i(t)?"Number":o(t)?"Boolean":s(t)?"Symbol":a(t)?"BigInt":void 0}},860:(t,e,n)=>{var r=n(5858),i=n(2098),o=n(2838),s=n(43),a=n(8715),c=n(2388),u=n(1430),h=n(8798),l=n(327),f=n(3773),p=n(2714),y=n(9691),d=n(4837)()&&Symbol.toStringTag,g=Object,b=y("Promise.prototype.then",!0),m=function(t){return!!t&&"BigInt"!==t&&"Boolean"!==t&&"Null"!==t&&"Number"!==t&&"String"!==t&&"Symbol"!==t&&"Undefined"!==t&&"Math"!==t&&"JSON"!==t&&"Reflect"!==t&&"Atomics"!==t&&"Map"!==t&&"Set"!==t&&"WeakMap"!==t&&"WeakSet"!==t&&"BigInt64Array"!==t&&"BigUint64Array"!==t&&"Float32Array"!==t&&"Float64Array"!==t&&"Int16Array"!==t&&"Int32Array"!==t&&"Int8Array"!==t&&"Uint16Array"!==t&&"Uint32Array"!==t&&"Uint8Array"!==t&&"Uint8ClampedArray"!==t&&"Array"!==t&&"Date"!==t&&"FinalizationRegistry"!==t&&"Promise"!==t&&"RegExp"!==t&&"WeakRef"!==t&&"Function"!==t&&"GeneratorFunction"!==t&&"AsyncFunction"!==t};t.exports=function(t){if(null==t)return t;var e=r(g(t))||i(t)||o(t);if(e)return e;if(s(t))return"Array";if(a(t))return"Date";if(c(t))return"RegExp";if(u(t))return"WeakRef";if(h(t))return"FinalizationRegistry";if("function"==typeof t)return f(t)?"GeneratorFunction":p(t)?"AsyncFunction":"Function";if(function(t){if(!t||"object"!=typeof t||!b)return!1;try{return b(t,null,(function(){})),!0}catch(t){}return!1}(t))return"Promise";if(d&&d in t){var n=t[d];if(m(n))return n}if("function"==typeof t.constructor){var y=l(t.constructor);if(m(y))return y}return"Object"}},2098:(t,e,n)=>{var r=n(9389),i=n(883),o=n(1993),s=n(8567);t.exports=function(t){if(t&&"object"==typeof t){if(r(t))return"Map";if(i(t))return"Set";if(o(t))return"WeakMap";if(s(t))return"WeakSet"}return!1}},2838:(t,e,n)=>{var r=n(325),i=n(6746),o=n(4774),s=n(9691),a=n(6996),c=s("Object.prototype.toString"),u=n(4837)(),h="undefined"==typeof globalThis?n.g:globalThis,l=i(),f=s("String.prototype.slice"),p=Object.getPrototypeOf,y=s("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},d={__proto__:null};r(l,u&&a&&p?function(t){var e=new h[t];if(Symbol.toStringTag in e){var n=p(e),r=a(n,Symbol.toStringTag);if(!r){var i=p(n);r=a(i,Symbol.toStringTag)}d["$"+t]=o(r.get)}}:function(t){var e=new h[t],n=e.slice||e.set;n&&(d["$"+t]=o(n))}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!u){var e=f(c(t),8,-1);return y(l,e)>-1?e:"Object"===e&&function(t){var e=!1;return r(d,(function(n,r){if(!e)try{n(t),e=f(r,1)}catch(t){}})),e}(t)}return a?function(t){var e=!1;return r(d,(function(n,r){if(!e)try{"$"+n(t)===r&&(e=f(r,1))}catch(t){}})),e}(t):null}},7526:(t,e)=>{e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],c=o[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),h=0,l=c>0?s-4:s;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[h++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9148:(t,e,n)=>{const{AbstractLevel:r}=n(5545),{Iterator:i}=n(6296),o=n(5222),s=n(3452),a=n(7766),c="level-js-",u=Symbol("idb"),h=Symbol("namePrefix"),l=Symbol("location"),f=Symbol("version"),p=Symbol("store"),y=Symbol("onComplete");class d extends r{constructor(t,e){const{prefix:n,version:r,...i}=e||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},i),"string"!=typeof t||""===t)throw new TypeError("The first argument 'location' must be a non-empty string");this[l]=t,this[h]=null==n?c:n,this[f]=parseInt(r||1,10),this[u]=null}get location(){return this[l]}get namePrefix(){return this[h]}get version(){return this[f]}get db(){return this[u]}get type(){return"browser-level"}async _open(t){const e=indexedDB.open(this[h]+this[l],this[f]);return e.onupgradeneeded=t=>{const e=t.target.result;e.objectStoreNames.contains(this[l])||e.createObjectStore(this[l])},new Promise(((t,n)=>{e.onerror=function(){n(e.error||new Error("unknown error"))},e.onsuccess=()=>{this[u]=e.result,t()}}))}[p](t){return this[u].transaction([this[l]],t).objectStore(this[l])}[y](t){const e=t.transaction;return new Promise((function(n,r){e.onabort=function(){r(e.error||new Error("aborted by user"))},e.oncomplete=function(){n(t.result)}}))}async _get(t,e){const n=this[p]("readonly").get(t),r=await this[y](n);return o(r)}async _getMany(t,e){const n=this[p]("readonly"),r=t.values(),i=Math.min(16,t.length),s=new Array(i),a=new Array(t.length);let c=0,u=!1;const h=async function(){try{for(const t of r){if(u)break;const e=c++,r=n.get(t);await new Promise((function(t,n){r.onsuccess=()=>{a[e]=o(r.result),t()},r.onerror=t=>{t.stopPropagation(),n(r.error)}}))}}catch(t){throw u=!0,t}};for(let t=0;t<i;t++)s[t]=h();return await Promise.allSettled(s),a}async _del(t,e){const n=this[p]("readwrite").delete(t);return this[y](n)}async _put(t,e,n){const r=this[p]("readwrite").put(e,t);return this[y](r)}_iterator(t){return new i(this,this[l],t)}async _batch(t,e){const n=this[p]("readwrite"),r=n.transaction;let i,o=0;const s=new Promise((function(t,e){r.onabort=function(){e(i||r.error||new Error("aborted by user"))},r.oncomplete=t}));return function e(){const s=t[o++],a=s.key;let c;try{c="del"===s.type?n.delete(a):n.put(s.value,a)}catch(t){return i=t,void r.abort()}o<t.length?c.onsuccess=e:"function"==typeof r.commit&&r.commit()}(),s}async _clear(t){let e;try{e=a(t)}catch(t){return}if(t.limit>=0)return s(this,this[l],e,t);const n=this[p]("readwrite"),r=e?n.delete(e):n.clear();return this[y](r)}async _close(){this[u].close()}}d.destroy=async function(t,e){null==e&&(e=c);const n=indexedDB.deleteDatabase(e+t);return new Promise((function(t,e){n.onsuccess=t,n.onerror=e}))},e.Z=d},6296:(t,e,n)=>{const{AbstractIterator:r}=n(5545),i=n(7766),o=n(5222),s=Symbol("cache"),a=Symbol("finished"),c=Symbol("options"),u=Symbol("currentOptions"),h=Symbol("position"),l=Symbol("location"),f=Symbol("first"),p={};function y(t){"function"==typeof t.commit&&t.commit()}e.Iterator=class extends r{constructor(t,e,n){super(t,n),this[s]=[],this[a]=0===this.limit,this[c]=n,this[u]={...n},this[h]=void 0,this[l]=e,this[f]=!0}async _nextv(t,e){if(this[f]=!1,this[a])return[];if(this[s].length>0)return t=Math.min(t,this[s].length),this[s].splice(0,t);let n;void 0!==this[h]&&(this[c].reverse?(this[u].lt=this[h],this[u].lte=void 0):(this[u].gt=this[h],this[u].gte=void 0));try{n=i(this[u])}catch(t){return this[a]=!0,[]}const r=this.db.db.transaction([this[l]],"readonly"),p=r.objectStore(this[l]),d=[],g=new Promise((function(t,e){r.onabort=()=>{e(r.error||new Error("aborted by user"))},r.oncomplete=()=>{t(d)}}));if(this[c].reverse)p[!this[c].values&&p.openKeyCursor?"openKeyCursor":"openCursor"](n,"prev").onsuccess=e=>{const n=e.target.result;if(n){const{key:e,value:i}=n;this[h]=e,d.push([this[c].keys&&void 0!==e?o(e):void 0,this[c].values&&void 0!==i?o(i):void 0]),d.length<t?n.continue():y(r)}else this[a]=!0};else{let e,i;const s=()=>{if(void 0===e||void 0===i)return;const n=Math.max(e.length,i.length);0===n||t===1/0?this[a]=!0:this[h]=e[n-1],d.length=n;for(let t=0;t<n;t++){const n=e[t],r=i[t];d[t]=[this[c].keys?o(n):void 0,this[c].values?o(r):void 0]}y(r)};this[c].keys||t<1/0?p.getAllKeys(n,t<1/0?t:void 0).onsuccess=t=>{e=t.target.result,s()}:(e=[],s()),this[c].values?p.getAll(n,t<1/0?t:void 0).onsuccess=t=>{i=t.target.result,s()}:(i=[],s())}return g}async _next(){if(this[s].length>0)return this[s].shift();if(!this[a]){let t=Math.min(100,this.limit-this.count);return this[f]&&(this[f]=!1,t=1),this[s]=await this._nextv(t,p),this[s].shift()}}async _all(t){this[f]=!1;const e=this[s].splice(0,this[s].length),n=this.limit-this.count-e.length;if(n<=0)return e;let r=await this._nextv(n,p);return e.length>0&&(r=e.concat(r)),r}_seek(t,e){let n;this[f]=!0,this[s]=[],this[a]=!1,this[h]=void 0,this[u]={...this[c]};try{n=i(this[c])}catch(t){return void(this[a]=!0)}null===n||n.includes(t)?this[c].reverse?this[u].lte=t:this[u].gte=t:this[a]=!0}}},2343:(t,e,n)=>{const r=n(9121),i=n(266),{getOptions:o,emptyOptions:s,noop:a}=n(3464),{prefixDescendantKey:c,isDescendant:u}=n(257),{PrewriteBatch:h}=n(1548),l=Symbol("status"),f=Symbol("publicOperations"),p=Symbol("legacyOperations"),y=Symbol("privateOperations"),d=Symbol("closePromise"),g=Symbol("length"),b=Symbol("prewriteRun"),m=Symbol("prewriteBatch"),v=Symbol("prewriteData"),w=Symbol("addMode"),E=function(t){let e;return t[d]=new Promise(((n,r)=>{e=()=>{A(t).then(n,r)}})),e},A=async function(t){t[l]="closing",await t._close(),t.db.detachResource(t)};class S{constructor(t,e){this[y]=t,this[f]=e}get length(){return this[y].length}clear(){for(const t of[f,y]){const e=this[t];null!==e&&e.splice(0,e.length)}}}const T=function(t){if("open"!==t[l])throw new i("Batch is not open: cannot change operations after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});if("open"!==t.db.status)throw new i("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})};e.AbstractChainedBatch=class{constructor(t,e){if("object"!=typeof t||null===t)throw new TypeError("The first argument must be an abstract-level database, received "+(null===t?"null":typeof t));const n=t.listenerCount("write")>0,r=!t.hooks.prewrite.noop;if(this[f]=n?[]:null,this[p]=n||r?null:[],this[g]=0,this[l]="open",this[d]=null,this[w]=!0===o(e,s).add,r){const e=new S([],n?[]:null);this[v]=e,this[m]=new h(t,e[y],e[f]),this[b]=t.hooks.prewrite.run}else this[v]=null,this[m]=null,this[b]=null;this.db=t,this.db.attachResource(this)}get length(){return null!==this[v]?this[g]+this[v].length:this[g]}put(t,e,n){T(this);const r=null!=(n=o(n,s)).sublevel,a=r?n.sublevel:this.db,h=n,l=a._checkKey(t),y=a._checkValue(e);if(null!=l)throw l;if(null!=y)throw y;const d=Object.assign({},n,{type:"put",key:t,value:e,keyEncoding:a.keyEncoding(n.keyEncoding),valueEncoding:a.valueEncoding(n.valueEncoding)});if(null!==this[b])try{this[b](d,this[m]),d.keyEncoding=a.keyEncoding(d.keyEncoding),d.valueEncoding=a.valueEncoding(d.valueEncoding)}catch(t){throw new i("The prewrite hook failed on batch.put()",{code:"LEVEL_HOOK_ERROR",cause:t})}const v=d.keyEncoding,E=v.encode(d.key),A=v.format,S=r&&!u(d.sublevel,this.db)&&d.sublevel!==this.db,O=r&&!S?c(E,A,a,this.db):E,_=d.valueEncoding,I=_.encode(d.value),L=_.format;if(r&&!S&&(d.sublevel=null),null===this[f]||S){if(null!==this[p]&&!S){const n=Object.assign({},h);n.type="put",n.key=t,n.value=e,this[p].push(n)}}else{const t=Object.assign({},d);t.encodedKey=O,t.encodedValue=I,r&&(t.key=O,t.value=I,t.keyEncoding=this.db.keyEncoding(A),t.valueEncoding=this.db.valueEncoding(L)),this[f].push(t)}return d.key=S?O:this.db.prefixKey(O,A,!0),d.value=I,d.keyEncoding=A,d.valueEncoding=L,this[w]?this._add(d):this._put(d.key,I,d),this[g]++,this}_put(t,e,n){}del(t,e){T(this);const n=null!=(e=o(e,s)).sublevel,r=n?e.sublevel:this.db,a=e,u=r._checkKey(t);if(null!=u)throw u;const h=Object.assign({},e,{type:"del",key:t,keyEncoding:r.keyEncoding(e.keyEncoding)});if(null!==this[b])try{this[b](h,this[m]),h.keyEncoding=r.keyEncoding(h.keyEncoding)}catch(t){throw new i("The prewrite hook failed on batch.del()",{code:"LEVEL_HOOK_ERROR",cause:t})}const l=h.keyEncoding,y=l.encode(h.key),d=l.format,v=n?c(y,d,r,this.db):y;if(n&&(h.sublevel=null),null!==this[f]){const t=Object.assign({},h);t.encodedKey=v,n&&(t.key=v,t.keyEncoding=this.db.keyEncoding(d)),this[f].push(t)}else if(null!==this[p]){const e=Object.assign({},a);e.type="del",e.key=t,this[p].push(e)}return h.key=this.db.prefixKey(v,d,!0),h.keyEncoding=d,this[w]?this._add(h):this._del(h.key,h),this[g]++,this}_del(t,e){}_add(t){}clear(){return T(this),this._clear(),null!==this[f]&&(this[f]=[]),null!==this[p]&&(this[p]=[]),null!==this[v]&&this[v].clear(),this[g]=0,this}_clear(){}async write(t){if(T(this),t=o(t),0===this[g])return this.close();{this[l]="writing";const e=E(this);try{if(null!==this[v]){const t=this[v][f],e=this[v][y],n=this[v].length;for(let t=0;t<n;t++){const n=e[t];this[w]?this._add(n):"put"===n.type?this._put(n.key,n.value,n):this._del(n.key,n)}null!==t&&0!==n&&(this[f]=this[f].concat(t))}await this._write(t)}catch(t){e();try{await this[d]}catch(e){t=r([t,e])}throw t}return e(),null!==this[f]?this.db.emit("write",this[f]):null!==this[p]&&this.db.emit("batch",this[p]),this[d]}}async _write(t){}async close(){return null!==this[d]?this[d].catch(a):(E(this)(),this[d])}async _close(){}}},9438:(t,e,n)=>{const r=n(266),i=n(9121),{getOptions:o,emptyOptions:s,noop:a}=n(3464),{AbortError:c}=n(1718),u=Symbol("working"),h=Symbol("decodeOne"),l=Symbol("decodeMany"),f=Symbol("signal"),p=Symbol("pendingClose"),y=Symbol("closingPromise"),d=Symbol("keyEncoding"),g=Symbol("valueEncoding"),b=Symbol("keys"),m=Symbol("values"),v=Symbol("limit"),w=Symbol("count"),E=Symbol("ended");class A{constructor(t,e){if("object"!=typeof t||null===t)throw new TypeError("The first argument must be an abstract-level database, received "+(null===t?"null":typeof t));if("object"!=typeof e||null===e)throw new TypeError("The second argument must be an options object");this[u]=!1,this[p]=null,this[y]=null,this[d]=e[d],this[g]=e[g],this[v]=Number.isInteger(e.limit)&&e.limit>=0?e.limit:1/0,this[w]=0,this[f]=null!=e.signal?e.signal:null,this[E]=!1,this.db=t,this.db.attachResource(this)}get count(){return this[w]}get limit(){return this[v]}async next(){O(this);try{if(this[E]||this[w]>=this[v])return void(this[E]=!0);let t=await this._next();if(void 0===t)return void(this[E]=!0);try{t=this[h](t)}catch(t){throw new T(t)}return this[w]++,t}finally{_(this)}}async _next(){}async nextv(t,e){if(!Number.isInteger(t))throw new TypeError("The first argument 'size' must be an integer");e=o(e,s),t<1&&(t=1),this[v]<1/0&&(t=Math.min(t,this[v]-this[w])),O(this);try{if(this[E]||t<=0)return this[E]=!0,[];const n=await this._nextv(t,e);if(0===n.length)return this[E]=!0,n;try{this[l](n)}catch(t){throw new T(t)}return this[w]+=n.length,n}finally{_(this)}}async _nextv(t,e){const n=[];for(;n.length<t;){const t=await this._next(e);if(void 0===t){this[E]=!0;break}n.push(t)}return n}async all(t){t=o(t,s),O(this);try{if(this[E]||this[w]>=this[v])return[];const e=await this._all(t);try{this[l](e)}catch(t){throw new T(t)}return this[w]+=e.length,e}catch(t){_(this),await L(this,t)}finally{this[E]=!0,this[u]&&(_(this),await this.close())}}async _all(t){let e=this[w];const n=[];for(;;){const r=this[v]<1/0?Math.min(1e3,this[v]-e):1e3;if(r<=0)return n;const i=await this._nextv(r,t);if(0===i.length)return n;n.push.apply(n,i),e+=i.length}}seek(t,e){if(e=o(e,s),null!==this[y]);else{if(this[u])throw new r("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const n=this.db.keyEncoding(e.keyEncoding||this[d]),r=n.format;e.keyEncoding!==r&&(e={...e,keyEncoding:r});const i=this.db.prefixKey(n.encode(t),r,!1);this._seek(i,e),this[E]=!1}}}_seek(t,e){throw new r("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}async close(){return null!==this[y]?this[y].catch(a):(this[y]=new Promise(((t,e)=>{this[p]=()=>{this[p]=null,I(this).then(t,e)}})),this[u]||this[p](),this[y])}async _close(){}async*[Symbol.asyncIterator](){try{let t;for(;void 0!==(t=await this.next());)yield t}catch(t){await L(this,t)}finally{await this.close()}}}class S extends A{constructor(t,e){super(t,e),this[b]=!1!==e.keys,this[m]=!1!==e.values}[h](t){const e=t[0],n=t[1];return void 0!==e&&(t[0]=this[b]?this[d].decode(e):void 0),void 0!==n&&(t[1]=this[m]?this[g].decode(n):void 0),t}[l](t){const e=this[d],n=this[g];for(const r of t){const t=r[0],i=r[1];void 0!==t&&(r[0]=this[b]?e.decode(t):void 0),void 0!==i&&(r[1]=this[m]?n.decode(i):void 0)}}}class T extends r{constructor(t){super("Iterator could not decode data",{code:"LEVEL_DECODE_ERROR",cause:t})}}const O=function(t){if(null!==t[y])throw new r("Iterator is not open: cannot read after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"});if(t[u])throw new r("Iterator is busy: cannot read until previous read has completed",{code:"LEVEL_ITERATOR_BUSY"});if(null!==t[f]&&t[f].aborted)throw new c;t[u]=!0},_=function(t){t[u]=!1,null!==t[p]&&t[p]()},I=async function(t){await t._close(),t.db.detachResource(t)},L=async function(t,e){try{await t.close()}catch(t){throw i([e,t])}throw e};S.keyEncoding=d,S.valueEncoding=g,e.AbstractIterator=S,e.AbstractKeyIterator=class extends A{[h](t){return this[d].decode(t)}[l](t){const e=this[d];for(let n=0;n<t.length;n++){const r=t[n];void 0!==r&&(t[n]=e.decode(r))}}},e.AbstractValueIterator=class extends A{[h](t){return this[g].decode(t)}[l](t){const e=this[g];for(let n=0;n<t.length;n++){const r=t[n];void 0!==r&&(t[n]=e.decode(r))}}}},1748:(t,e,n)=>{const{supports:r}=n(5356),{Transcoder:i}=n(6035),{EventEmitter:o}=n(7007),s=n(266),a=n(9121),{AbstractIterator:c}=n(9438),{DefaultKeyIterator:u,DefaultValueIterator:h}=n(3263),{DeferredIterator:l,DeferredKeyIterator:f,DeferredValueIterator:p}=n(7545),{DefaultChainedBatch:y}=n(7872),{DatabaseHooks:d}=n(8485),{PrewriteBatch:g}=n(1548),{EventMonitor:b}=n(5806),{getOptions:m,noop:v,emptyOptions:w,resolvedPromise:E}=n(3464),{prefixDescendantKey:A,isDescendant:S}=n(257),{DeferredQueue:T}=n(5336),O=n(8095),_=Symbol("resources"),I=Symbol("closeResources"),L=Symbol("queue"),x=Symbol("deferOpen"),k=Symbol("options"),B=Symbol("status"),R=Symbol("statusChange"),U=Symbol("statusLocked"),N=Symbol("defaultOptions"),C=Symbol("transcoder"),D=Symbol("keyEncoding"),j=Symbol("valueEncoding"),P=Symbol("eventMonitor"),F=Symbol("arrayBatch");class M extends o{constructor(t,e){if(super(),"object"!=typeof t||null===t)throw new TypeError("The first argument 'manifest' must be an object");e=m(e);const{keyEncoding:n,valueEncoding:o,passive:s,...a}=e;this[_]=new Set,this[L]=new T,this[x]=!0,this[k]=a,this[B]="opening",this[R]=null,this[U]=!1,this.hooks=new d,this.supports=r(t,{deferredOpen:!0,snapshots:!1!==t.snapshots,permanence:!1!==t.permanence,encodings:t.encodings||{},events:Object.assign({},t.events,{opening:!0,open:!0,closing:!0,closed:!0,write:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[P]=new b(this,[{name:"write"},{name:"put",deprecated:!0,alt:"write"},{name:"del",deprecated:!0,alt:"write"},{name:"batch",deprecated:!0,alt:"write"}]),this[C]=new i(G(this)),this[D]=this[C].encoding(n||"utf8"),this[j]=this[C].encoding(o||"utf8");for(const t of this[C].encodings())this.supports.encodings[t.commonName]||(this.supports.encodings[t.commonName]=!0);this[N]={empty:w,entry:Object.freeze({keyEncoding:this[D].commonName,valueEncoding:this[j].commonName}),entryFormat:Object.freeze({keyEncoding:this[D].format,valueEncoding:this[j].format}),key:Object.freeze({keyEncoding:this[D].commonName}),keyFormat:Object.freeze({keyEncoding:this[D].format})},queueMicrotask((()=>{this[x]&&this.open({passive:!1}).catch(v)}))}get status(){return this[B]}get parent(){return null}keyEncoding(t){return this[C].encoding(null!=t?t:this[D])}valueEncoding(t){return this[C].encoding(null!=t?t:this[j])}async open(t){(t={...this[k],...m(t)}).createIfMissing=!1!==t.createIfMissing,t.errorIfExists=!!t.errorIfExists;const e=this.hooks.postopen.noop?null:this.hooks.postopen.run,n=t.passive;for(n&&this[x]&&await void 0,z(this);null!==this[R];)await this[R].catch(v);if(z(this),n){if("open"!==this[B])throw new H}else if("closed"===this[B]||this[x]){this[x]=!1,this[R]=E,this[R]=(async()=>{this[B]="opening";try{this.emit("opening"),await this._open(t)}catch(t){this[B]="closed",this[L].drain();try{await this[I]()}catch(e){t=a([t,e])}throw new H(t)}if(this[B]="open",null!==e){let n;try{this[U]=!0,await e(t)}catch(t){n=W(t)}finally{this[U]=!1}if(n){this[B]="closing",this[L].drain();try{await this[I](),await this._close()}catch(t){this[U]=!0,n=a([n,t])}throw this[B]="closed",new s("The postopen hook failed on open()",{code:"LEVEL_HOOK_ERROR",cause:n})}}this[L].drain(),this.emit("open")})();try{await this[R]}finally{this[R]=null}}else if("open"!==this[B])throw new H}async _open(t){}async close(){for(z(this);null!==this[R];)await this[R].catch(v);if(z(this),"open"===this[B]||this[x]){const t=this[x];this[x]=!1,this[R]=E,this[R]=(async()=>{this[B]="closing",this[L].drain();try{this.emit("closing"),await this[I](),t||await this._close()}catch(t){throw this[B]="open",this[L].drain(),new q(t)}this[B]="closed",this[L].drain(),this.emit("closed")})();try{await this[R]}finally{this[R]=null}}else if("closed"!==this[B])throw new q}async[I](){if(0===this[_].size)return;const t=Array.from(this[_]),e=t.map(K);return Promise.allSettled(e).then((async e=>{const n=[];for(let r=0;r<e.length;r++)"fulfilled"===e[r].status?this[_].delete(t[r]):n.push(W(e[r].reason));if(n.length>0)throw a(n)}))}async _close(){}async get(t,e){if(e=m(e,this[N].entry),"opening"===this[B])return this.deferAsync((()=>this.get(t,e)));$(this);const n=this._checkKey(t);if(n)throw n;const r=this.keyEncoding(e.keyEncoding),i=this.valueEncoding(e.valueEncoding),o=r.format,a=i.format;e.keyEncoding===o&&e.valueEncoding===a||(e=Object.assign({},e,{keyEncoding:o,valueEncoding:a}));const c=r.encode(t),u=await this._get(this.prefixKey(c,o,!0),e);try{return void 0===u?u:i.decode(u)}catch(n){throw new s("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:n})}}async _get(t,e){}async getMany(t,e){if(e=m(e,this[N].entry),"opening"===this[B])return this.deferAsync((()=>this.getMany(t,e)));if($(this),!Array.isArray(t))throw new TypeError("The first argument 'keys' must be an array");if(0===t.length)return[];const n=this.keyEncoding(e.keyEncoding),r=this.valueEncoding(e.valueEncoding),i=n.format,o=r.format;e.keyEncoding===i&&e.valueEncoding===o||(e=Object.assign({},e,{keyEncoding:i,valueEncoding:o}));const a=new Array(t.length);for(let e=0;e<t.length;e++){const r=t[e],o=this._checkKey(r);if(o)throw o;a[e]=this.prefixKey(n.encode(r),i,!0)}const c=await this._getMany(a,e);try{for(let t=0;t<c.length;t++)void 0!==c[t]&&(c[t]=r.decode(c[t]))}catch(t){throw new s(`Could not decode one or more of ${c.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:t})}return c}async _getMany(t,e){return new Array(t.length).fill(void 0)}async put(t,e,n){if(!this.hooks.prewrite.noop)return this.batch([{type:"put",key:t,value:e}],n);if(n=m(n,this[N].entry),"opening"===this[B])return this.deferAsync((()=>this.put(t,e,n)));$(this);const r=this._checkKey(t)||this._checkValue(e);if(r)throw r;const i=this.keyEncoding(n.keyEncoding),o=this.valueEncoding(n.valueEncoding),s=i.format,a=o.format,c=this[P].write,u=n;n===this[N].entry?n=this[N].entryFormat:n.keyEncoding===s&&n.valueEncoding===a||(n=Object.assign({},n,{keyEncoding:s,valueEncoding:a}));const h=i.encode(t),l=this.prefixKey(h,s,!0),f=o.encode(e);if(await this._put(l,f,n),c){const n=Object.assign({},u,{type:"put",key:t,value:e,keyEncoding:i,valueEncoding:o,encodedKey:h,encodedValue:f});this.emit("write",[n])}else this.emit("put",t,e)}async _put(t,e,n){}async del(t,e){if(!this.hooks.prewrite.noop)return this.batch([{type:"del",key:t}],e);if(e=m(e,this[N].key),"opening"===this[B])return this.deferAsync((()=>this.del(t,e)));$(this);const n=this._checkKey(t);if(n)throw n;const r=this.keyEncoding(e.keyEncoding),i=r.format,o=this[P].write,s=e;e===this[N].key?e=this[N].keyFormat:e.keyEncoding!==i&&(e=Object.assign({},e,{keyEncoding:i}));const a=r.encode(t),c=this.prefixKey(a,i,!0);if(await this._del(c,e),o){const e=Object.assign({},s,{type:"del",key:t,keyEncoding:r,encodedKey:a});this.emit("write",[e])}else this.emit("del",t)}async _del(t,e){}batch(t,e){return arguments.length?(e=m(e,this[N].empty),this[F](t,e)):($(this),this._chainedBatch())}async[F](t,e){if("opening"===this[B])return this.deferAsync((()=>this[F](t,e)));if($(this),!Array.isArray(t))throw new TypeError("The first argument 'operations' must be an array");if(0===t.length)return;const n=t.length,r=!this.hooks.prewrite.noop,i=this[P].write,o=i?new Array(n):null,a=new Array(n),c=r?new g(this,a,o):null;for(let u=0;u<n;u++){const n=Object.assign({},e,t[u]),h="put"===n.type,l=null!=n.sublevel,f=l?n.sublevel:this,p=f._checkKey(n.key);if(null!=p)throw p;if(n.keyEncoding=f.keyEncoding(n.keyEncoding),h){const t=f._checkValue(n.value);if(null!=t)throw t;n.valueEncoding=f.valueEncoding(n.valueEncoding)}else if("del"!==n.type)throw new TypeError("A batch operation must have a type property that is 'put' or 'del'");if(r)try{this.hooks.prewrite.run(n,c),n.keyEncoding=f.keyEncoding(n.keyEncoding),h&&(n.valueEncoding=f.valueEncoding(n.valueEncoding))}catch(t){throw new s("The prewrite hook failed on batch()",{code:"LEVEL_HOOK_ERROR",cause:t})}const y=n.keyEncoding,d=y.encode(n.key),g=y.format,b=l&&!S(n.sublevel,this)&&n.sublevel!==this,m=l&&!b?A(d,g,f,this):d;l&&!b&&(n.sublevel=null);let v=null;if(i&&!b&&(v=Object.assign({},n),v.encodedKey=m,l&&(v.key=m,v.keyEncoding=this.keyEncoding(g)),o[u]=v),n.key=b?m:this.prefixKey(m,g,!0),n.keyEncoding=g,h){const t=n.valueEncoding,e=t.encode(n.value),r=t.format;n.value=e,n.valueEncoding=r,i&&!b&&(v.encodedValue=e,l&&(v.value=e,v.valueEncoding=this.valueEncoding(r)))}a[u]=n}await this._batch(a,e),i?this.emit("write",o):r||this.emit("batch",t)}async _batch(t,e){}sublevel(t,e){const n=V.defaults(e),r=this._sublevel(t,n);if(!this.hooks.newsub.noop)try{this.hooks.newsub.run(r,n)}catch(t){throw new s("The newsub hook failed on sublevel()",{code:"LEVEL_HOOK_ERROR",cause:t})}return r}_sublevel(t,e){return new V(this,t,e)}prefixKey(t,e,n){return t}async clear(t){if(t=m(t,this[N].empty),"opening"===this[B])return this.deferAsync((()=>this.clear(t)));$(this);const e=t,n=this.keyEncoding(t.keyEncoding);(t=O(t,n)).keyEncoding=n.format,0!==t.limit&&(await this._clear(t),this.emit("clear",e))}async _clear(t){}iterator(t){const e=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);return(t=O(t,e)).keys=!1!==t.keys,t.values=!1!==t.values,t[c.keyEncoding]=e,t[c.valueEncoding]=n,t.keyEncoding=e.format,t.valueEncoding=n.format,"opening"===this[B]?new l(this,t):($(this),this._iterator(t))}_iterator(t){return new c(this,t)}keys(t){const e=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);return(t=O(t,e))[c.keyEncoding]=e,t[c.valueEncoding]=n,t.keyEncoding=e.format,t.valueEncoding=n.format,"opening"===this[B]?new f(this,t):($(this),this._keys(t))}_keys(t){return new u(this,t)}values(t){const e=this.keyEncoding(t&&t.keyEncoding),n=this.valueEncoding(t&&t.valueEncoding);return(t=O(t,e))[c.keyEncoding]=e,t[c.valueEncoding]=n,t.keyEncoding=e.format,t.valueEncoding=n.format,"opening"===this[B]?new p(this,t):($(this),this._values(t))}_values(t){return new h(this,t)}defer(t,e){if("function"!=typeof t)throw new TypeError("The first argument must be a function");this[L].add((function(e){e||t()}),e)}deferAsync(t,e){if("function"!=typeof t)throw new TypeError("The first argument must be a function");return new Promise(((n,r)=>{this[L].add((function(e){e?r(e):t().then(n,r)}),e)}))}attachResource(t){if("object"!=typeof t||null===t||"function"!=typeof t.close)throw new TypeError("The first argument must be a resource object");this[_].add(t)}detachResource(t){this[_].delete(t)}_chainedBatch(){return new y(this)}_checkKey(t){if(null==t)return new s("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(t){if(null==t)return new s("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}const{AbstractSublevel:V}=n(9720)({AbstractLevel:M});e.AbstractLevel=M,e.AbstractSublevel=V;const $=function(t){if("open"!==t[B])throw new s("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})},z=function(t){if(t[U])throw new s("Database status is locked",{code:"LEVEL_STATUS_LOCKED"})},G=function(t){return Object.keys(t.supports.encodings).filter((e=>!!t.supports.encodings[e]))},K=function(t){return t.close()},W=function(t){return t instanceof Error||"[object Error]"===Object.prototype.toString.call(t)?t:new TypeError("Promise rejection reason must be an Error, received "+(null===t?"null":typeof t))};class H extends s{constructor(t){super("Database failed to open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:t})}}class q extends s{constructor(t){super("Database failed to close",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:t})}}},5545:(t,e,n)=>{e.AbstractLevel=n(1748).AbstractLevel,e.AbstractSublevel=n(1748).AbstractSublevel,e.AbstractIterator=n(9438).AbstractIterator,e.AbstractKeyIterator=n(9438).AbstractKeyIterator,e.AbstractValueIterator=n(9438).AbstractValueIterator,e.AbstractChainedBatch=n(2343).AbstractChainedBatch},8591:(t,e,n)=>{const{AbstractIterator:r,AbstractKeyIterator:i,AbstractValueIterator:o}=n(9438),s=Symbol("unfix"),a=Symbol("iterator");class c extends r{constructor(t,e,n,r){super(t,e),this[a]=n,this[s]=r}async _next(){const t=await this[a].next();if(void 0!==t){const e=t[0];void 0!==e&&(t[0]=this[s](e))}return t}async _nextv(t,e){const n=await this[a].nextv(t,e),r=this[s];for(const t of n){const e=t[0];void 0!==e&&(t[0]=r(e))}return n}async _all(t){const e=await this[a].all(t),n=this[s];for(const t of e){const e=t[0];void 0!==e&&(t[0]=n(e))}return e}}class u extends i{constructor(t,e,n,r){super(t,e),this[a]=n,this[s]=r}async _next(){const t=await this[a].next();return void 0===t?t:this[s](t)}async _nextv(t,e){const n=await this[a].nextv(t,e),r=this[s];for(let t=0;t<n.length;t++){const e=n[t];void 0!==e&&(n[t]=r(e))}return n}async _all(t){const e=await this[a].all(t),n=this[s];for(let t=0;t<e.length;t++){const r=e[t];void 0!==r&&(e[t]=n(r))}return e}}class h extends o{constructor(t,e,n){super(t,e),this[a]=n}async _next(){return this[a].next()}async _nextv(t,e){return this[a].nextv(t,e)}async _all(t){return this[a].all(t)}}for(const t of[c,u,h])t.prototype._seek=function(t,e){this[a].seek(t,e)},t.prototype._close=async function(){return this[a].close()};e.AbstractSublevelIterator=c,e.AbstractSublevelKeyIterator=u,e.AbstractSublevelValueIterator=h},9720:(t,e,n)=>{const r=n(266),{Buffer:i}=n(8287)||{},{AbstractSublevelIterator:o,AbstractSublevelKeyIterator:s,AbstractSublevelValueIterator:a}=n(8591),c=Symbol("prefix"),u=Symbol("localPrefix"),h=Symbol("localPath"),l=Symbol("globalPath"),f=Symbol("upperBound"),p=Symbol("prefixRange"),y=Symbol("root"),d=Symbol("parent"),g=Symbol("unfix"),b=new TextEncoder,m={separator:"!"};t.exports=function({AbstractLevel:t}){class e extends t{static defaults(t){return null==t?m:t.separator?t:{...t,separator:"!"}}constructor(t,n,i){const{separator:o,manifest:s,...a}=e.defaults(i),p=[].concat(n).map((t=>S(t,o))),m=o.charCodeAt(0)+1,w=t[y]||t;if(!p.every((t=>b.encode(t).every((t=>t>m&&t<127)))))throw new r(`Sublevel name must use bytes > ${m} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(v(t,s),a);const T=p.map((t=>o+t+o)).join(""),O=(t.prefix||"")+T,_=O.slice(0,-1)+String.fromCharCode(m);this[y]=w,this[d]=t,this[h]=p,this[l]=t.prefix?t.path().concat(p):p,this[c]=new E(O),this[f]=new E(_),this[u]=new E(T),this[g]=new A}prefixKey(t,e,n){const r=n?this[u]:this[c];if("utf8"===e)return r.utf8+t;if(0===t.byteLength)return r[e];if("view"===e){const e=r.view,n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}{const e=r.buffer;return i.concat([e,t],e.byteLength+t.byteLength)}}[p](t,e){void 0!==t.gte?t.gte=this.prefixKey(t.gte,e,!1):void 0!==t.gt?t.gt=this.prefixKey(t.gt,e,!1):t.gte=this[c][e],void 0!==t.lte?t.lte=this.prefixKey(t.lte,e,!1):void 0!==t.lt?t.lt=this.prefixKey(t.lt,e,!1):t.lte=this[f][e]}get prefix(){return this[c].utf8}get db(){return this[y]}get parent(){return this[d]}path(t=!1){return t?this[h]:this[l]}async _open(t){return this[d].open({passive:!0})}async _put(t,e,n){return this[d].put(t,e,n)}async _get(t,e){return this[d].get(t,e)}async _getMany(t,e){return this[d].getMany(t,e)}async _del(t,e){return this[d].del(t,e)}async _batch(t,e){return this[d].batch(t,e)}async _clear(t){return this[p](t,t.keyEncoding),this[y].clear(t)}_iterator(t){this[p](t,t.keyEncoding);const e=this[y].iterator(t),n=this[g].get(this[c].utf8.length,t.keyEncoding);return new o(this,t,e,n)}_keys(t){this[p](t,t.keyEncoding);const e=this[y].keys(t),n=this[g].get(this[c].utf8.length,t.keyEncoding);return new s(this,t,e,n)}_values(t){this[p](t,t.keyEncoding);const e=this[y].values(t);return new a(this,t,e)}}return{AbstractSublevel:e}};const v=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:w(t,"utf8"),buffer:w(t,"buffer"),view:w(t,"view")}}},w=function(t,e){return!!t.supports.encodings[e]&&t.keyEncoding(e).name===e};class E{constructor(t){this.utf8=t,this.view=b.encode(t),this.buffer=i?i.from(this.view.buffer,0,this.view.byteLength):{}}}class A{constructor(){this.cache=new Map}get(t,e){let n=this.cache.get(e);return void 0===n&&(n="view"===e?function(t,e){return e.subarray(t)}.bind(null,t):function(t,e){return e.slice(t)}.bind(null,t),this.cache.set(e,n)),n}}const S=function(t,e){let n=0,r=t.length;for(;n<r&&t[n]===e;)n++;for(;r>n&&t[r-1]===e;)r--;return t.slice(n,r)}},3464:(t,e,n)=>{const r=n(266),i=new Set;e.getOptions=function(t,e){return"object"==typeof t&&null!==t?t:void 0!==e?e:{}},e.emptyOptions=Object.freeze({}),e.noop=function(){},e.resolvedPromise=Promise.resolve(),e.deprecate=function(t){if(!i.has(t)){i.add(t);const e=globalThis.console;void 0!==e&&"function"==typeof e.warn&&e.warn(new r(t,{code:"LEVEL_LEGACY"}))}}},7872:(t,e,n)=>{const{AbstractChainedBatch:r}=n(2343),i=Symbol("encoded");e.DefaultChainedBatch=class extends r{constructor(t){super(t,{add:!0}),this[i]=[]}_add(t){this[i].push(t)}_clear(){this[i]=[]}async _write(t){return this.db._batch(this[i],t)}}},3263:(t,e,n)=>{const{AbstractKeyIterator:r,AbstractValueIterator:i}=n(9438),o=Symbol("iterator"),s=Symbol("handleOne"),a=Symbol("handleMany");class c extends r{constructor(t,e){super(t,e),this[o]=t.iterator({...e,keys:!0,values:!1})}[s](t){return t[0]}[a](t){for(let e=0;e<t.length;e++)t[e]=t[e][0]}}class u extends i{constructor(t,e){super(t,e),this[o]=t.iterator({...e,keys:!1,values:!0})}[s](t){return t[1]}[a](t){for(let e=0;e<t.length;e++)t[e]=t[e][1]}}for(const t of[c,u])t.prototype._next=async function(){const t=await this[o].next();return void 0===t?t:this[s](t)},t.prototype._nextv=async function(t,e){const n=await this[o].nextv(t,e);return this[a](n),n},t.prototype._all=async function(t){const e=await this[o].all(t);return this[a](e),e},t.prototype._seek=function(t,e){this[o].seek(t,e)},t.prototype._close=async function(){return this[o].close()};e.DefaultKeyIterator=c,e.DefaultValueIterator=u},7545:(t,e,n)=>{const{AbstractIterator:r,AbstractKeyIterator:i,AbstractValueIterator:o}=n(9438),s=n(266),a=Symbol("nut"),c=Symbol("undefer"),u=Symbol("factory"),h=Symbol("signalOptions");class l extends r{constructor(t,e){super(t,e),this[a]=null,this[u]=()=>t.iterator(e),this[h]={signal:e.signal},this.db.defer((()=>this[c]()),this[h])}}class f extends i{constructor(t,e){super(t,e),this[a]=null,this[u]=()=>t.keys(e),this[h]={signal:e.signal},this.db.defer((()=>this[c]()),this[h])}}class p extends o{constructor(t,e){super(t,e),this[a]=null,this[u]=()=>t.values(e),this[h]={signal:e.signal},this.db.defer((()=>this[c]()),this[h])}}for(const t of[l,f,p])t.prototype[c]=function(){"open"===this.db.status&&(this[a]=this[u]())},t.prototype._next=async function(){if(null!==this[a])return this[a].next();if("opening"===this.db.status)return this.db.deferAsync((()=>this._next()),this[h]);throw new s("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})},t.prototype._nextv=async function(t,e){if(null!==this[a])return this[a].nextv(t,e);if("opening"===this.db.status)return this.db.deferAsync((()=>this._nextv(t,e)),this[h]);throw new s("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})},t.prototype._all=async function(t){if(null!==this[a])return this[a].all();if("opening"===this.db.status)return this.db.deferAsync((()=>this._all(t)),this[h]);throw new s("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})},t.prototype._seek=function(t,e){null!==this[a]?this[a]._seek(t,e):"opening"===this.db.status&&this.db.defer((()=>this._seek(t,e)),this[h])},t.prototype._close=async function(){return null!==this[a]?this[a].close():"opening"===this.db.status?this.db.deferAsync((()=>this._close())):void 0};e.DeferredIterator=l,e.DeferredKeyIterator=f,e.DeferredValueIterator=p},5336:(t,e,n)=>{const{getOptions:r,emptyOptions:i}=n(3464),{AbortError:o}=n(1718),s=Symbol("operations"),a=Symbol("signals"),c=Symbol("handleAbort");class u{constructor(t,e){this.fn=t,this.signal=e}}e.DeferredQueue=class{constructor(){this[s]=[],this[a]=new Set,this[c]=this[c].bind(this)}add(t,e){const n=(e=r(e,i)).signal;null!=n?n.aborted?t(new o):(this[a].has(n)||(this[a].add(n),n.addEventListener("abort",this[c],{once:!0})),this[s].push(new u(t,n))):this[s].push(new u(t,null))}drain(){const t=this[s],e=this[a];this[s]=[],this[a]=new Set;for(const t of e)t.removeEventListener("abort",this[c]);for(const e of t)e.fn.call(null)}[c](t){const e=t.target,n=new o,r=[];this[s]=this[s].filter((function(t){return null===t.signal||t.signal!==e||(r.push(t),!1)})),this[a].delete(e);for(const t of r)t.fn.call(null,n)}}},1718:(t,e,n)=>{const r=n(266);e.AbortError=class extends r{constructor(t){super("Operation has been aborted",{code:"LEVEL_ABORTED",cause:t})}get name(){return"AbortError"}}},5806:(t,e,n)=>{const{deprecate:r}=n(3464);e.EventMonitor=class{constructor(t,e){for(const t of e)this[t.name]=!1,t.deprecated&&(t.message=`The '${t.name}' event is deprecated in favor of '${t.alt}' and will be removed in a future version of abstract-level`);const n=new Map(e.map((t=>[t.name,t]))),i=this;t.on("newListener",(function(t){const e=n.get(t);void 0!==e&&(i[t]=!0,e.deprecated&&r(e.message))})),t.on("removeListener",(function(t){n.has(t)&&(i[t]=this.listenerCount(t)>0)}))}}},8485:(t,e,n)=>{const{noop:r}=n(3464),i=Symbol("functions"),o=Symbol("async");class s{constructor(t){this[o]=t.async,this[i]=new Set,this.noop=!0,this.run=c(this)}add(t){a(t),this[i].add(t),this.noop=!1,this.run=c(this)}delete(t){a(t),this[i].delete(t),this.noop=0===this[i].size,this.run=c(this)}}const a=function(t){if("function"!=typeof t)throw new TypeError("The first argument must be a function, received "+(null===t?"null":typeof t))},c=function(t){if(t.noop)return r;if(1===t[i].size){const[e]=t[i];return e}return t[o]?async function(t,...e){for(const n of t)await n(...e)}.bind(null,Array.from(t[i])):function(t,...e){for(const n of t)n(...e)}.bind(null,Array.from(t[i]))};e.DatabaseHooks=class{constructor(){this.postopen=new s({async:!0}),this.prewrite=new s({async:!1}),this.newsub=new s({async:!1})}}},257:(t,e)=>{e.prefixDescendantKey=function(t,e,n,r){for(;null!==n&&n!==r;)t=n.prefixKey(t,e,!0),n=n.parent;return t},e.isDescendant=function(t,e){for(;;){if(null==t.parent)return!1;if(t.parent===e)return!0;t=t.parent}}},1548:(t,e,n)=>{const{prefixDescendantKey:r,isDescendant:i}=n(257),o=Symbol("db"),s=Symbol("privateOperations"),a=Symbol("publicOperations");e.PrewriteBatch=class{constructor(t,e,n){this[o]=t,this[s]=e,this[a]=n}add(t){const e="put"===t.type,n=null!=t.sublevel,c=n?t.sublevel:this[o],u=c._checkKey(t.key);if(null!=u)throw u;if(t.keyEncoding=c.keyEncoding(t.keyEncoding),e){const e=c._checkValue(t.value);if(null!=e)throw e;t.valueEncoding=c.valueEncoding(t.valueEncoding)}else if("del"!==t.type)throw new TypeError("A batch operation must have a type property that is 'put' or 'del'");const h=t.keyEncoding,l=h.encode(t.key),f=h.format,p=n&&!i(t.sublevel,this[o])&&t.sublevel!==this[o],y=n&&!p?r(l,f,c,this[o]):l;n&&!p&&(t.sublevel=null);let d=null;if(null===this[a]||p||(d=Object.assign({},t),d.encodedKey=y,n&&(d.key=y,d.keyEncoding=this[o].keyEncoding(f)),this[a].push(d)),t.key=p?y:this[o].prefixKey(y,f,!0),t.keyEncoding=f,e){const e=t.valueEncoding,r=e.encode(t.value),i=e.format;t.value=r,t.valueEncoding=i,null!==d&&(d.encodedValue=r,n&&(d.value=r,d.valueEncoding=this[o].valueEncoding(i)))}return this[s].push(t),this}}},8095:t=>{const e=Object.prototype.hasOwnProperty,n=new Set(["lt","lte","gt","gte"]);t.exports=function(t,r){const i={};for(const o in t)e.call(t,o)&&"keyEncoding"!==o&&"valueEncoding"!==o&&(n.has(o)?i[o]=r.encode(t[o]):i[o]=t[o]);return i.reverse=!!i.reverse,i.limit=Number.isInteger(i.limit)&&i.limit>=0?i.limit:-1,i}},3452:t=>{t.exports=async function(t,e,n,r){if(0===r.limit)return;const i=t.db.transaction([e],"readwrite"),o=i.objectStore(e);let s=0;const a=new Promise((function(t,e){i.oncomplete=t,i.onabort=function(){e(i.error||new Error("aborted by user"))}})),c=o.openKeyCursor?"openKeyCursor":"openCursor",u=r.reverse?"prev":"next";return o[c](n,u).onsuccess=function(t){const e=t.target.result;e&&(o.delete(e.key).onsuccess=function(){(r.limit<=0||++s<r.limit)&&e.continue()})},a}},5222:t=>{const e=new TextEncoder;t.exports=function(t){return void 0===t||t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):e.encode(t)}},7766:t=>{t.exports=function(t){const e=void 0!==t.gte?t.gte:void 0!==t.gt?t.gt:void 0,n=void 0!==t.lte?t.lte:void 0!==t.lt?t.lt:void 0,r=void 0===t.gte,i=void 0===t.lte;return void 0!==e&&void 0!==n?IDBKeyRange.bound(e,n,r,i):void 0!==e?IDBKeyRange.lowerBound(e,r):void 0!==n?IDBKeyRange.upperBound(n,i):null}},8287:(t,e,n)=>{const r=n(7526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|d(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|y(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return h(t),a(t<0?0:0|y(t))}function f(t){const e=t.length<0?0:0|y(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function y(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(i)return r?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return _(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function w(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(J(r))return s;t[n+s]=r}return s}function E(t,e,n,r){return q(W(e,t.length-n),t,n,r)}function A(t,e,n,r){return q(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return q(H(e),t,n,r)}function T(t,e,n,r){return q(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function _(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return h(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return l(t)},c.allocUnsafeSlow=function(t){return l(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(r,i),h=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==h[t]){o=u[t],s=h[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return A(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function L(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function x(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=X[t[r]];return i}function B(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r,i){$(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function C(t,e,n,r,i){$(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,o){return e=+e,n>>>=0,o||D(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||U(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||U(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Q((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);U(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Q((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const F={};function M(t,e,n){F[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function $(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||G(e,t.length-(n+1))}(r,i,o)}function z(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},228:t=>{var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,h=this._events[a],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,i),!0;case 5:return h.fn.call(h.context,e,r,i,o),!0;case 6:return h.fn.call(h.context,e,r,i,o,s),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];h.fn.apply(h.context,c)}else{var f,p=h.length;for(u=0;u<p;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),l){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,r);break;case 4:h[u].fn.call(h[u].context,e,r,i);break;default:if(!c)for(f=1,c=new Array(l-1);f<l;f++)c[f-1]=arguments[f];h[u].fn.apply(h[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],h=a.length;c<h;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},7007:t=>{var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}d(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&d(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,n,r){var i,o,s,u;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=s.length,u=h,console&&console.warn&&console.warn(u)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):y(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function d(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else{var u=c.length,h=y(c,u);for(n=0;n<u;++n)r(h[n],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,l(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,l(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},251:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,h=-7,l=n?i-1:0,f=n?-1:1,p=t[e+l];for(l+=f,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,h=(1<<u)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+l>=1?f/c:f*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*c-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=y,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+p]=255&s,p+=y,s/=256,u-=8);t[n+p-y]|=128*d}},5356:(t,e)=>{e.supports=function(...t){const e=t.reduce(((t,e)=>Object.assign(t,e)),{}),n=e.implicitSnapshots||e.snapshots||!1,r=e.explicitSnapshots||!1;return Object.assign(e,{implicitSnapshots:n,explicitSnapshots:r,snapshots:n,has:e.has||!1,permanence:e.permanence||!1,seek:e.seek||!1,createIfMissing:e.createIfMissing||!1,errorIfExists:e.errorIfExists||!1,deferredOpen:e.deferredOpen||!1,streams:e.streams||!1,encodings:Object.assign({},e.encodings),events:Object.assign({},e.events),additionalMethods:Object.assign({},e.additionalMethods),signals:Object.assign({},e.signals)})}},6035:(t,e,n)=>{const r=n(266),i=n(4341),{Encoding:o}=n(8110),{BufferFormat:s,ViewFormat:a,UTF8Format:c}=n(8343),u=Symbol("formats"),h=Symbol("encodings"),l=new Set(["buffer","view","utf8"]);e.Transcoder=class{constructor(t){if(!Array.isArray(t))throw new TypeError("The first argument 'formats' must be an array");if(!t.every((t=>l.has(t))))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[h]=new Map,this[u]=new Set(t);for(const t in i)try{this.encoding(t)}catch(t){if("LEVEL_ENCODING_NOT_SUPPORTED"!==t.code)throw t}}encodings(){return Array.from(new Set(this[h].values()))}encoding(t){let e=this[h].get(t);if(void 0===e){if("string"==typeof t&&""!==t){if(e=p[t],!e)throw new r(`Encoding '${t}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof t||null===t)throw new TypeError("First argument 'encoding' must be a string or object");e=function(t){if(t instanceof o)return t;const e="type"in t&&"string"==typeof t.type?t.type:void 0,n=t.name||e||"anonymous-"+y++;switch(function(t){return"format"in t&&void 0!==t.format?t.format:"buffer"in t&&"boolean"==typeof t.buffer?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}(t)){case"view":return new a({...t,name:n});case"utf8":return new c({...t,name:n});case"buffer":return new s({...t,name:n});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(t)}const{name:n,format:i}=e;if(!this[u].has(i))if(this[u].has("view"))e=e.createViewTranscoder();else if(this[u].has("buffer"))e=e.createBufferTranscoder();else{if(!this[u].has("utf8"))throw new r(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});e=e.createUTF8Transcoder()}for(const r of[t,n,e.name,e.commonName])this[h].set(r,e)}return e}};const f={binary:i.buffer,"utf-8":i.utf8},p={...i,...f};let y=0},8110:(t,e,n)=>{const r=n(266),i=new Set(["buffer","view","utf8"]);e.Encoding=class{constructor(t){if(this.encode=t.encode||this.encode,this.decode=t.decode||this.decode,this.name=t.name||this.name,this.format=t.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!i.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");t.createViewTranscoder&&(this.createViewTranscoder=t.createViewTranscoder),t.createBufferTranscoder&&(this.createBufferTranscoder=t.createBufferTranscoder),t.createUTF8Transcoder&&(this.createUTF8Transcoder=t.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new r(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},4341:(t,e,n)=>{const{Buffer:r}=n(8287)||{Buffer:{isBuffer:()=>!1}},{textEncoder:i,textDecoder:o}=n(7200)(),{BufferFormat:s,ViewFormat:a,UTF8Format:c}=n(8343),u=t=>t;e.utf8=new c({encode:function(t){return r.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?o.decode(t):String(t)},decode:u,name:"utf8",createViewTranscoder(){return new a({encode:function(t){return ArrayBuffer.isView(t)?t:i.encode(t)},decode:function(t){return o.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new s({encode:function(t){return r.isBuffer(t)?t:ArrayBuffer.isView(t)?r.from(t.buffer,t.byteOffset,t.byteLength):r.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}}),e.json=new c({encode:JSON.stringify,decode:JSON.parse,name:"json"}),e.buffer=new s({encode:function(t){return r.isBuffer(t)?t:ArrayBuffer.isView(t)?r.from(t.buffer,t.byteOffset,t.byteLength):r.from(String(t),"utf8")},decode:u,name:"buffer",createViewTranscoder(){return new a({encode:function(t){return ArrayBuffer.isView(t)?t:r.from(String(t),"utf8")},decode:function(t){return r.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}}),e.view=new a({encode:function(t){return ArrayBuffer.isView(t)?t:i.encode(t)},decode:u,name:"view",createBufferTranscoder(){return new s({encode:function(t){return r.isBuffer(t)?t:ArrayBuffer.isView(t)?r.from(t.buffer,t.byteOffset,t.byteLength):r.from(String(t),"utf8")},decode:u,name:`${this.name}+buffer`})}}),e.hex=new s({encode:function(t){return r.isBuffer(t)?t:r.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"}),e.base64=new s({encode:function(t){return r.isBuffer(t)?t:r.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})},8343:(t,e,n)=>{const{Buffer:r}=n(8287)||{},{Encoding:i}=n(8110),o=n(7200);class s extends i{constructor(t){super({...t,format:"buffer"})}createViewTranscoder(){return new a({encode:this.encode,decode:t=>this.decode(r.from(t.buffer,t.byteOffset,t.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class a extends i{constructor(t){super({...t,format:"view"})}createBufferTranscoder(){return new s({encode:t=>{const e=this.encode(t);return r.from(e.buffer,e.byteOffset,e.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}e.BufferFormat=s,e.ViewFormat=a,e.UTF8Format=class extends i{constructor(t){super({...t,format:"utf8"})}createBufferTranscoder(){return new s({encode:t=>r.from(this.encode(t),"utf8"),decode:t=>this.decode(t.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:t,textDecoder:e}=o();return new a({encode:e=>t.encode(this.encode(e)),decode:t=>this.decode(e.decode(t)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},7200:t=>{let e=null;t.exports=function(){return null===e&&(e={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),e}},9121:t=>{const e=Symbol("kErrors");t.exports=function(t){if(0!==(t=t.filter(o)).length)return 1===t.length?t[0]:new n(t)};class n extends Error{constructor(t){const n=new Set(t.map(s).filter(Boolean));super(Array.from(n).join("; ")),r(this,"name","CombinedError"),r(this,e,t),i(this,"stack",(()=>t.map(a).join("\n\n"))),i(this,"transient",(()=>t.length>0&&t.every(c))),i(this,"expected",(()=>t.length>0&&t.every(u)))}[Symbol.iterator](){return this[e][Symbol.iterator]()}}function r(t,e,n){Object.defineProperty(t,e,{value:n})}function i(t,e,n){Object.defineProperty(t,e,{get:n})}function o(t){return null!=t}function s(t){return t.message}function a(t){return t.stack}function c(t){return!0===t.transient}function u(t){return!0===t.expected}},266:t=>{t.exports=class extends Error{constructor(t,e){super(t||""),"object"==typeof e&&null!==e&&(e.code&&(this.code=String(e.code)),e.expected&&(this.expected=!0),e.transient&&(this.transient=!0),e.cause&&(this.cause=e.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},8508:function(t,e){!function(t){const e=function(t,e){return t.slice(e-1).map(((n,r)=>t.slice(r,r+e)))};t.ngraminator=function(t,n){return n.reduce(((n,r)=>[...e(t,r),...n]),[]).sort()},Object.defineProperty(t,"__esModule",{value:!0})}(e)},5606:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,c=[],u=!1,h=-1;function l(){u&&a&&(u=!1,a.length?c=a.concat(c):h=-1,c.length&&f())}function f(){if(!u){var t=s(l);u=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1093:t=>{t.exports=(t,e)=>{e=Object.assign({},{ngramLengths:[1]},e);const n=t.reduce(((t,n,r,i)=>(e.ngramLengths.forEach((e=>{const o=i.slice(r,r+e);o.length===e&&(n=JSON.stringify(o),t[n]=t[n]||[],t[n].push(r))})),t)),{});return Object.keys(n).map((t=>({term:JSON.parse(t),positions:n[t]}))).sort(((t,e)=>{for(let n=0;n<t.term.length&&n<e.term.length;n++)if(t.term[n]!==e.term[n])return t.term[n].localeCompare(e.term[n]);return 0}))}},5585:()=>{},6746:(t,e,n)=>{var r=n(1425),i="undefined"==typeof globalThis?n.g:globalThis;t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof i[r[e]]&&(t[t.length]=r[e]);return t}},3726:(t,e,n)=>{var r=n(3736),i=n(7475),o=n(4847),s=n(3025),a=n(296);t.exports=function(t,e){var n=s(t);if(!o(t)&&!n)throw new r("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if("SEQ-CST"!==e&&"UNORDERED"!==e)throw new r("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");if(i(t))throw new r("Assertion failed: `arrayBuffer` must not be detached");return a(t)}},136:(t,e,n)=>{var r=n(6356)("%BigInt%",!0),i=n(4815),o=n(3736),s=r&&r(0);t.exports=function(t,e){if("bigint"!=typeof t||"bigint"!=typeof e)throw new o("Assertion failed: `n` and `d` arguments must be BigInts");if(e===s)throw new i("Division by zero");return t===s?s:t%e}},86:(t,e,n)=>{var r=n(3736),i=n(8316),o=n(9812),s=n(55),a=n(8086),c=n(5015),u=n(7656),h=n(8450),l=n(3853);t.exports=function(t,e,n){if(!l(t))throw new r("Assertion failed: Type(O) is not Object");if(!c(e))throw new r("Assertion failed: P is not a Property Key");var f=i(n)?n:h(n);if(!i(f))throw new r("Assertion failed: Desc is not a valid Property Descriptor");return o(a,u,s,t,e,f)}},55:(t,e,n)=>{var r=n(3736),i=n(8316),o=n(2202);t.exports=function(t){if(void 0!==t&&!i(t))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return o(t)}},8975:(t,e,n)=>{var r=n(3736),i=n(8e3),o=n(3853),s=n(5015);t.exports=function(t,e){if(!o(t))throw new r("Assertion failed: Type(O) is not Object");if(!s(e))throw new r("Assertion failed: P is not a Property Key, got "+i(e));return t[e]}},9564:(t,e,n)=>{var r=n(6356),i=n(7855),o=n(3736),s=n(9691),a=n(5193),c=r("%Uint8Array%",!0),u=s("Array.prototype.slice"),h=n(7475),l=n(2520),f=n(4847),p=n(3025),y=n(8770),d=n(5364),g=n(6545);t.exports=function(t,e,n,r,s){var b=p(t);if(!f(t)&&!b)throw new o("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if(!a(e))throw new o("Assertion failed: `byteIndex` must be an integer");if("string"!=typeof n||"number"!=typeof d.size["$"+n])throw new o("Assertion failed: `type` must be a Typed Array element type");if("boolean"!=typeof r)throw new o("Assertion failed: `isTypedArray` must be a boolean");if("SEQ-CST"!==s&&"UNORDERED"!==s)throw new o("Assertion failed: `order` must be either `SEQ-CST` or `UNORDERED`");if(arguments.length>5&&"boolean"!=typeof arguments[5])throw new o("Assertion failed: `isLittleEndian` must be a boolean, if present");if(h(t))throw new o("Assertion failed: `arrayBuffer` is detached");if(e<0)throw new o("Assertion failed: `byteIndex` must be non-negative");var m,v=d.size["$"+n];if(!v)throw new o('Assertion failed: `type` must be one of "INT8", "UINT8", "UINT8C", "INT16", "UINT16", "INT32", "UINT32", "BIGINT64", "BIGUINT64", "FLOAT32", or "FLOAT64"');if(b)throw new i("SharedArrayBuffer is not supported by this implementation");m=u(new c(t,e),0,v);var w=arguments.length>5?arguments[5]:"little"===g,E=w?u(y([0,0,0,0,0,0,0,0],m),-v):u(y(m,[0,0,0,0,0,0,0,0]),0,v);return l(n,E,w)}},5814:(t,e,n)=>{var r=n(3736),i=n(6406),o=n(3853),s=n(5015);t.exports=function(t,e){if(!o(t))throw new r("Assertion failed: `O` must be an Object");if(!s(e))throw new r("Assertion failed: `P` must be a Property Key");return i(t,e)}},4066:(t,e,n)=>{t.exports=n(8097)},2198:t=>{t.exports=function(t){return"BIGUINT64"===t||"BIGINT64"===t}},1723:(t,e,n)=>{t.exports=n(8757)},6687:(t,e,n)=>{var r=n(8611)("%Reflect.construct%",!0),i=n(86);try{i({},"",{"[[Get]]":function(){}})}catch(t){i=null}if(i&&r){var o={},s={};i(s,"length",{"[[Get]]":function(){throw o},"[[Enumerable]]":!0}),t.exports=function(t){try{r(t,s)}catch(t){return t===o}}}else t.exports=function(t){return"function"==typeof t&&!!t.prototype}},8086:(t,e,n)=>{var r=n(3736),i=n(6406),o=n(8316);t.exports=function(t){if(void 0===t)return!1;if(!o(t))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return!(!i(t,"[[Value]]")&&!i(t,"[[Writable]]"))}},7475:(t,e,n)=>{var r=n(3736),i=n(296),o=n(6746)(),s=n(9691),a=n(4847),c=n(3025),u=s("SharedArrayBuffer.prototype.byteLength",!0);t.exports=function(t){var e=c(t);if(!a(t)&&!e)throw new r("Assertion failed: `arrayBuffer` must be an Object with an [[ArrayBufferData]] internal slot");if(0===(e?u:i)(t))try{new n.g[o[0]](t)}catch(t){return!!t&&"TypeError"===t.name}return!1}},5378:(t,e,n)=>{var r=n(3736),i=n(9691),o=i("%ArrayBuffer.prototype.resizable%",!0),s=i("%SharedArrayBuffer.prototype.growable%",!0),a=n(4847),c=n(3025);t.exports=function(t){var e=a(t),n=c(t);if(!e&&!n)throw new r("Assertion failed: `arrayBuffer` must be an ArrayBuffer or SharedArrayBuffer");return e&&o?!o(t):!n||!s||!s(t)}},6968:(t,e,n)=>{var r=n(3736),i=n(7475),o=n(697),s=n(8761),a=n(2539),c=n(8141),u=n(4969);t.exports=function(t){if(!s(t))throw new r("Assertion failed: `taRecord` must be a TypedArray With Buffer Witness Record");var e=t["[[Object]]"],n=t["[[CachedBufferByteLength]]"];if(i(a(e))&&"DETACHED"!==n)throw new r("Assertion failed: typed array is detached only if the byte length is ~DETACHED~");if("DETACHED"===n)return!0;var h,l=c(e),f=u(e);return h="AUTO"===f?n:l+f*o(e),l>n||h>n}},9110:t=>{t.exports=function(t){return"UINT8"===t||"UINT8C"===t||"UINT16"===t||"UINT32"===t||"BIGUINT64"===t}},9274:(t,e,n)=>{var r=n(3736),i=n(3726),o=n(7475),s=n(7827),a=n(2539);t.exports=function(t,e){if(!s(t))throw new r("Assertion failed: `obj` must be a Typed Array");if("SEQ-CST"!==e&&"UNORDERED"!==e)throw new r("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");var n=a(t);return{"[[Object]]":t,"[[CachedBufferByteLength]]":o(n)?"DETACHED":i(n,e)}}},2492:(t,e,n)=>{var r=n(3736),i=n(5814),o=n(7228),s=n(4492),a=n(546),c=n(6780),u=n(5149),h=n(9533),l=n(3427),f=n(3528),p=n(6989),y=n(7814),d=n(2687),g=n(2038),b=n(2528),m={__proto__:null,INT8:1,UINT8:1,UINT8C:1,INT16:2,UINT16:2,INT32:4,UINT32:4,BIGINT64:8,BIGUINT64:8,FLOAT32:4,FLOAT64:8},v={__proto__:null,INT8:u,UINT8:f,UINT8C:p,INT16:a,UINT16:h,INT32:c,UINT32:l,BIGINT64:o,BIGUINT64:s};t.exports=function(t,e,n){if("string"!=typeof t||!i(m,t))throw new r("Assertion failed: `type` must be a TypedArray element type: "+b(m));if("number"!=typeof e&&"bigint"!=typeof e)throw new r("Assertion failed: `value` must be a Number or a BigInt");if("boolean"!=typeof n)throw new r("Assertion failed: `isLittleEndian` must be a Boolean");if("FLOAT32"===t)return y(e,n);if("FLOAT64"===t)return d(e,n);var o=m[t],s=(0,v[t])(e);return g(s,o,n)}},2520:(t,e,n)=>{var r=n(6356),i=n(9691),o=n(4815),s=n(7855),a=n(3736),c=r("%BigInt%",!0),u=n(5814),h=n(4066),l=n(2198),f=n(9110),p=n(2204),y=n(1915),d=n(5273),g=n(9731),b=n(5931),m=i("Array.prototype.reverse"),v=i("Array.prototype.slice"),w=n(2528),E={__proto__:null,INT8:1,UINT8:1,UINT8C:1,INT16:2,UINT16:2,INT32:4,UINT32:4,BIGINT64:8,BIGUINT64:8,FLOAT32:4,FLOAT64:8};t.exports=function(t,e,n){if(!u(E,t))throw new a("Assertion failed: `type` must be a TypedArray element type: "+w(E));if(!h(e)||!g(e,b))throw new a("Assertion failed: `rawBytes` must be an Array of bytes");if("boolean"!=typeof n)throw new a("Assertion failed: `isLittleEndian` must be a Boolean");var r=E[t];if(e.length!==r)throw new o("Assertion failed: `rawBytes` must have a length of "+r+" for type "+t);var i=l(t);if(i&&!c)throw new s("this environment does not support BigInts");return e=v(e,0,r),n||m(e),"FLOAT32"===t?p(e):"FLOAT64"===t?y(e):d(e,r,f(t),i)}},7656:(t,e,n)=>{var r=n(2874);t.exports=function(t,e){return t===e?0!==t||1/t==1/e:r(t)&&r(e)}},203:(t,e,n)=>{var r=n(3736),i=n(5015),o=n(7656),s=n(3853),a=function(){try{return delete[].length,!0}catch(t){return!1}}();t.exports=function(t,e,n,c){if(!s(t))throw new r("Assertion failed: `O` must be an Object");if(!i(e))throw new r("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof c)throw new r("Assertion failed: `Throw` must be a Boolean");if(c){if(t[e]=n,a&&!o(t[e],n))throw new r("Attempted to assign to readonly property.");return!0}try{return t[e]=n,!a||o(t[e],n)}catch(t){return!1}}},4767:(t,e,n)=>{var r=n(6356),i=n(7855),o=n(3736),s=n(5193),a=r("%Uint8Array%",!0),c=n(2198),u=n(7475),h=n(2492),l=n(4847),f=n(3025),p=n(6406),y=n(5364),d=n(6545),g=n(8794);t.exports=function(t,e,n,r,b,m){var v=f(t);if(!l(t)&&!v)throw new o("Assertion failed: `arrayBuffer` must be an ArrayBuffer or a SharedArrayBuffer");if(!s(e)||e<0)throw new o("Assertion failed: `byteIndex` must be a non-negative integer");if("string"!=typeof n||!p(y.size,"$"+n))throw new o("Assertion failed: `type` must be a Typed Array Element Type");if("number"!=typeof r&&"bigint"!=typeof r)throw new o("Assertion failed: `value` must be a Number or a BigInt");if("boolean"!=typeof b)throw new o("Assertion failed: `isTypedArray` must be a boolean");if("SEQ-CST"!==m&&"UNORDERED"!==m&&"INIT"!==m)throw new o('Assertion failed: `order` must be `"SEQ-CST"`, `"UNORDERED"`, or `"INIT"`');if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("Assertion failed: `isLittleEndian` must be a boolean, if present");if(u(t))throw new o("Assertion failed: ArrayBuffer is detached");if(c(n)?"bigint"!=typeof r:"number"!=typeof r)throw new o("Assertion failed: `value` must be a BigInt if type is ~BIGINT64~ or ~BIGUINT64~, otherwise a Number");var w=y.size["$"+n],E=h(n,r,arguments.length>6?arguments[6]:"little"===d);if(v)throw new i("SharedArrayBuffer is not supported by this implementation");var A=new a(t,e,w);g(E,(function(t,e){A[e]=t}))}},3061:(t,e,n)=>{var r=n(6356)("%Symbol.species%",!0),i=n(3736),o=n(6687),s=n(3853);t.exports=function(t,e){if(!s(t))throw new i("Assertion failed: Type(O) is not Object");var n=t.constructor;if(void 0===n)return e;if(!s(n))throw new i("O.constructor is not an Object");var a=r?n[r]:void 0;if(null==a)return e;if(o(a))return a;throw new i("no constructor found")}},2656:(t,e,n)=>{var r=n(6356)("%BigInt%",!0),i=n(3736),o=n(7855);t.exports=function(t){if("string"!=typeof t)throw new i("`argument` must be a string");if(!r)throw new o("BigInts are not supported in this environment");try{return r(t)}catch(t){return}}},414:(t,e,n)=>{var r=n(6356),i=r("%RegExp%"),o=n(3736),s=r("%parseInt%"),a=n(9691),c=n(400),u=a("String.prototype.slice"),h=c(/^0b[01]+$/i),l=c(/^0o[0-7]+$/i),f=c(/^[-+]0x[0-9a-f]+$/i),p=c(new i("["+["","​","￾"].join("")+"]","g")),y=n(4219);t.exports=function t(e){if("string"!=typeof e)throw new o("Assertion failed: `argument` is not a String");if(h(e))return+s(u(e,2),2);if(l(e))return+s(u(e,2),8);if(p(e)||f(e))return NaN;var n=y(e);return n!==e?t(n):+e}},8173:(t,e,n)=>{var r=n(6356),i=r("%BigInt%",!0),o=r("%Number%"),s=n(3736),a=n(7855),c=n(2656),u=n(881);t.exports=function(t){if(!i)throw new a("BigInts are not supported in this environment");var e=u(t,o);if(null==e)throw new s("Cannot convert null or undefined to a BigInt");if("boolean"==typeof e)return i(e?1:0);if("number"==typeof e)throw new s("Cannot convert a Number value to a BigInt");if("string"==typeof e){var n=c(e);if(void 0===n)throw new s("Failed to parse String to BigInt");return n}if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a BigInt");if("bigint"!=typeof e)throw new a("Assertion failed: unknown primitive type");return e}},7228:(t,e,n)=>{var r=n(6356)("%BigInt%",!0),i=n(9485),o=n(8173),s=n(136),a=n(6939),c=r&&BigInt(i(2,32))*BigInt(i(2,31)),u=r&&BigInt(i(2,32))*BigInt(i(2,32));t.exports=function(t){var e=o(t),n=a(s,e,u);return n>=c?n-u:n}},4492:(t,e,n)=>{var r=n(6356)("%BigInt%",!0),i=n(9485),o=n(8173),s=n(136),a=n(6939),c=r&&BigInt(i(2,32))*BigInt(i(2,32));t.exports=function(t){var e=o(t);return a(s,e,c)}},8020:t=>{t.exports=function(t){return!!t}},546:(t,e,n)=>{var r=n(2205),i=n(7559),o=n(8729),s=n(2208);t.exports=function(t){var e=i(t);if(!s(e)||0===e)return 0;var n=o(e),a=r(n,65536);return a>=32768?a-65536:a}},6780:(t,e,n)=>{var r=n(2205),i=n(7559),o=n(8729),s=n(2208),a=4294967296;t.exports=function(t){var e=i(t);if(!s(e)||0===e)return 0;var n=o(e),c=r(n,a),u=c>=2147483648?c-a:c;return 0===u?0:u}},5149:(t,e,n)=>{var r=n(2205),i=n(7559),o=n(8729),s=n(2208);t.exports=function(t){var e=i(t);if(!s(e)||0===e)return 0;var n=o(e),a=r(n,256);return a>=128?a-256:a}},1783:(t,e,n)=>{var r=n(7559),i=n(8729),o=n(2874),s=n(2208);t.exports=function(t){var e=r(t);return o(e)||0===e?0:s(e)?i(e):e}},7559:(t,e,n)=>{var r=n(6356),i=n(3736),o=r("%Number%"),s=n(3905),a=n(881),c=n(414);t.exports=function(t){var e=s(t)?t:a(t,o);if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new i("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof e?c(e):+e}},881:(t,e,n)=>{var r=n(7882);t.exports=function(t){return arguments.length>1?r(t,arguments[1]):r(t)}},8450:(t,e,n)=>{var r=n(6406),i=n(3736),o=n(1723),s=n(8020),a=n(3853);t.exports=function(t){if(!a(t))throw new i("ToPropertyDescriptor requires an object");var e={};if(r(t,"enumerable")&&(e["[[Enumerable]]"]=s(t.enumerable)),r(t,"configurable")&&(e["[[Configurable]]"]=s(t.configurable)),r(t,"value")&&(e["[[Value]]"]=t.value),r(t,"writable")&&(e["[[Writable]]"]=s(t.writable)),r(t,"get")){var n=t.get;if(void 0!==n&&!o(n))throw new i("getter must be a function");e["[[Get]]"]=n}if(r(t,"set")){var c=t.set;if(void 0!==c&&!o(c))throw new i("setter must be a function");e["[[Set]]"]=c}if((r(e,"[[Get]]")||r(e,"[[Set]]"))&&(r(e,"[[Value]]")||r(e,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}},1735:(t,e,n)=>{var r=n(6356)("%String%"),i=n(3736);t.exports=function(t){if("symbol"==typeof t)throw new i("Cannot convert a Symbol value to a string");return r(t)}},9533:(t,e,n)=>{var r=n(2205),i=n(7559),o=n(8729),s=n(2208);t.exports=function(t){var e=i(t);if(!s(e)||0===e)return 0;var n=o(e),a=r(n,65536);return 0===a?0:a}},3427:(t,e,n)=>{var r=n(2205),i=n(7559),o=n(8729),s=n(2208);t.exports=function(t){var e=i(t);if(!s(e)||0===e)return 0;var n=o(e),a=r(n,4294967296);return 0===a?0:a}},3528:(t,e,n)=>{var r=n(2208),i=n(2205),o=n(7559),s=n(8729);t.exports=function(t){var e=o(t);if(!r(e)||0===e)return 0;var n=s(e);return i(n,256)}},6989:(t,e,n)=>{var r=n(8552),i=n(7559),o=n(8493),s=n(2874);t.exports=function(t){var e=i(t);if(s(e))return 0;var n=r(e,0,255),a=o(n);return n<a+.5?a:n>a+.5?a+1:a%2==0?a:a+1}},7780:(t,e,n)=>{var r=n(7855),i=n(3736),o=n(4066),s=n(6687),a=n(6968),c=n(5350),u=n(2408),h=n(6746)();t.exports=function(t,e){if(!s(t))throw new i("Assertion failed: `constructor` must be a constructor");if(!o(e))throw new i("Assertion failed: `argumentList` must be a List");if(0===h.length)throw new r("Assertion failed: Typed Arrays are not supported in this environment");var n;n=0===e.length?new t:1===e.length?new t(e[0]):2===e.length?new t(e[0],e[1]):new t(e[0],e[1],e[2]);var l=u(n,"SEQ-CST");if(1===e.length&&"number"==typeof e[0]){if(a(l))throw new i("new Typed Array is out of bounds");if(c(l)<e[0])throw new i("`argumentList[0]` must be <= `newTypedArray.length`")}return n}},697:(t,e,n)=>{var r=n(7855),i=n(3736),o=n(5193),s=n(2838),a=n(5364);t.exports=function(t){var e=s(t);if(!e)throw new i("Assertion failed: `O` must be a TypedArray");var n=a.size["$"+a.name["$"+e]];if(!o(n)||n<0)throw new r("Assertion failed: Unknown TypedArray type `"+e+"`");return n}},7412:(t,e,n)=>{var r=n(7855),i=n(3736),o=n(2838),s=n(5364);t.exports=function(t){var e=o(t);if(!e)throw new i("Assertion failed: `O` must be a TypedArray");var n=s.name["$"+e];if("string"!=typeof n)throw new r("Assertion failed: Unknown TypedArray type `"+e+"`");return n}},5350:(t,e,n)=>{var r=n(3736),i=n(8493),o=n(5378),s=n(6968),a=n(697),c=n(8761),u=n(2539),h=n(8141),l=n(4969);t.exports=function(t){if(!c(t))throw new r("Assertion failed: `taRecord` must be a TypedArray With Buffer Witness Record");if(s(t))throw new r("Assertion failed: `taRecord` is out of bounds");var e=t["[[Object]]"],n=l(e);if("AUTO"!==n)return n;if(o(u(e)))throw new r("Assertion failed: array buffer is not fixed length");var f=h(e),p=a(e),y=t["[[CachedBufferByteLength]]"];if("DETACHED"===y)throw new r("Assertion failed: typed array is detached");return i((y-f)/p)}},4106:(t,e,n)=>{var r=n(7855),i=n(3736),o=n(2838),s=n(6746)(),a=n(4066),c=n(3061),u=n(7780),h=n(7990);t.exports=function(t,e){if(0===s.length)throw new r("Assertion failed: Typed Arrays are not supported in this environment");var n=o(t);if(!n)throw new i("Assertion failed: exemplar must be a TypedArray");if(!a(e))throw new i("Assertion failed: `argumentList` must be a List");var l=h(n);if("function"!=typeof l)throw new r("Assertion failed: `constructor` of `exemplar` ("+n+") must exist. Please report this!");var f=c(t,l);return u(f,e)}},2408:(t,e,n)=>{var r=n(3736),i=n(6968),o=n(9274),s=n(3853),a=n(7827);t.exports=function(t,e){if("SEQ-CST"!==e&&"UNORDERED"!==e)throw new r("Assertion failed: `order` must be ~SEQ-CST~ or ~UNORDERED~");if(!s(t))throw new r("Assertion failed: `O` must be an Object");if(!a(t))throw new r("Assertion failed: `O` must be a Typed Array");var n=o(t,e);if(i(n))throw new r("`O` must be in-bounds and backed by a non-detached buffer");return n}},8552:(t,e,n)=>{var r=n(3736),i=n(8701),o=n(247);t.exports=function(t,e,n){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n||!(e<=n))throw new r("Assertion failed: all three arguments must be MVs, and `lower` must be `<= upper`");return o(i(e,t),n)}},8493:(t,e,n)=>{var r=n(1685);t.exports=function(t){return"bigint"==typeof t?t:r(t)}},565:(t,e,n)=>{t.exports=n(8701)},207:(t,e,n)=>{t.exports=n(247)},2205:(t,e,n)=>{var r=n(8416);t.exports=function(t,e){return r(t,e)}},5364:t=>{t.exports={__proto__:null,name:{__proto__:null,$Int8Array:"INT8",$Uint8Array:"UINT8",$Uint8ClampedArray:"UINT8C",$Int16Array:"INT16",$Uint16Array:"UINT16",$Int32Array:"INT32",$Uint32Array:"UINT32",$BigInt64Array:"BIGINT64",$BigUint64Array:"BIGUINT64",$Float32Array:"FLOAT32",$Float64Array:"FLOAT64"},size:{__proto__:null,$INT8:1,$UINT8:1,$UINT8C:1,$INT16:2,$UINT16:2,$INT32:4,$UINT32:4,$BIGINT64:8,$BIGUINT64:8,$FLOAT32:4,$FLOAT64:8}}},8729:(t,e,n)=>{var r=n(8493),i=n(3736);t.exports=function(t){if("number"!=typeof t&&"bigint"!=typeof t)throw new i("argument must be a Number or a BigInt");var e=t<0?-r(-t):r(t);return 0===e?0:e}},8611:(t,e,n)=>{t.exports=n(6356)},9812:(t,e,n)=>{var r=n(9507),i=n(3144),o=r.hasArrayLengthDefineBug(),s=o&&n(8097),a=n(9691)("Object.prototype.propertyIsEnumerable");t.exports=function(t,e,n,r,c,u){if(!i){if(!t(u))return!1;if(!u["[[Configurable]]"]||!u["[[Writable]]"])return!1;if(c in r&&a(r,c)!==!!u["[[Enumerable]]"])return!1;var h=u["[[Value]]"];return r[c]=h,e(r[c],h)}return o&&"length"===c&&"[[Value]]"in u&&s(r)&&r.length!==u["[[Value]]"]?(r.length=u["[[Value]]"],r.length===u["[[Value]]"]):(i(r,c,n(u)),!0)}},8097:(t,e,n)=>{var r=n(6356)("%Array%"),i=!r.isArray&&n(9691)("Object.prototype.toString");t.exports=r.isArray||function(t){return"[object Array]"===i(t)}},2204:(t,e,n)=>{var r=n(9485);t.exports=function(t){var e=128&t[3]?-1:1,n=(127&t[3])<<1|t[2]>>7,i=(127&t[2])<<16|t[1]<<8|t[0];return 0===n&&0===i?1===e?0:-0:255===n&&0===i?1===e?1/0:-1/0:255===n&&0!==i?NaN:-127==(n-=127)?e*i*r(2,-149):e*(1+i*r(2,-23))*r(2,n)}},1915:(t,e,n)=>{var r=n(9485);t.exports=function(t){var e=128&t[7]?-1:1,n=(127&t[7])<<4|(240&t[6])>>4,i=281474976710656*(15&t[6])+1099511627776*t[5]+4294967296*t[4]+16777216*t[3]+65536*t[2]+256*t[1]+t[0];return 0===n&&0===i?0*e:2047===n&&0!==i?NaN:2047===n&&0===i?e*(1/0):-1023==(n-=1023)?e*i*5e-324:e*(1+i/4503599627370496)*r(2,n)}},5273:(t,e,n)=>{var r=n(6356),i=n(9485),o=r("%Number%"),s=r("%BigInt%",!0);t.exports=function(t,e,n,r){for(var a=r?s:o,c=a(0),u=0;u<t.length;u++)c+=a(t[u]*i(2,8*u));if(!n){var h=8*e;128&t[e-1]&&(c-=a(i(2,h)))}return c}},6545:(t,e,n)=>{var r=n(6356),i=r("%Uint8Array%",!0),o=r("%Uint32Array%",!0),s=n(2539),a=o&&new o([305419896]),c=a&&new i(s(a));t.exports=c?120===c[0]?"little":18===c[0]?"big":52===c[0]?"mixed":"unknown":"indeterminate"},9731:t=>{t.exports=function(t,e){for(var n=0;n<t.length;n+=1)if(!e(t[n],n,t))return!1;return!0}},8794:t=>{t.exports=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)}},6349:t=>{var e=1075;t.exports=function(t){var n="";if(0===t)return n;for(var r,i=e,o=0;o<e;o+=1)if((r=2*t)>=1?(t=r-1,n+="1",i===e&&(i=o)):(t=r,n+="0"),1===r||o-i>54)return n;return n}},2202:t=>{t.exports=function(t){if(void 0===t)return t;var e={};return"[[Value]]"in t&&(e.value=t["[[Value]]"]),"[[Writable]]"in t&&(e.writable=!!t["[[Writable]]"]),"[[Get]]"in t&&(e.get=t["[[Get]]"]),"[[Set]]"in t&&(e.set=t["[[Set]]"]),"[[Enumerable]]"in t&&(e.enumerable=!!t["[[Enumerable]]"]),"[[Configurable]]"in t&&(e.configurable=!!t["[[Configurable]]"]),e}},5504:(t,e,n)=>{t.exports=n(3861)},7148:(t,e,n)=>{var r=n(1685);t.exports=function(t){for(var e,n="";t>0;)n=(e=t/2)===(t=r(e))?"0"+n:"1"+n;return n}},2038:(t,e,n)=>{var r=n(6356),i=r("%Number%"),o=r("%BigInt%",!0);t.exports=function(t,e,n){var r="bigint"==typeof t?o:i;t<0&&(t>>>=0);for(var s=[],a=0;a<e;a++)s[n?a:e-1-a]=i(t&r(255)),t>>=r(8);return s}},5931:t=>{t.exports=function(t){return"number"==typeof t&&t>=0&&t<=255&&(0|t)===t}},2398:(t,e,n)=>{t.exports=n(5193)},3853:t=>{t.exports=function(t){return!!t&&("function"==typeof t||"object"==typeof t)}},3905:t=>{t.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},5015:t=>{t.exports=function(t){return"string"==typeof t||"symbol"==typeof t}},8416:(t,e,n)=>{t.exports=n(2191)},6939:t=>{t.exports=function(t,e,n){var r=t(e,n);return r>=0?r:r+n}},8316:(t,e,n)=>{var r=n(3736),i=n(6406),o={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};t.exports=function(t){if(!t||"object"!=typeof t)return!1;for(var e in t)if(i(t,e)&&!o[e])return!1;var n=i(t,"[[Value]]")||i(t,"[[Writable]]"),s=i(t,"[[Get]]")||i(t,"[[Set]]");if(n&&s)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}},8761:(t,e,n)=>{var r=n(6406),i=n(7827),o=n(2398);t.exports=function(t){return!!t&&"object"==typeof t&&r(t,"[[Object]]")&&r(t,"[[CachedBufferByteLength]]")&&(o(t["[[CachedBufferByteLength]]"])&&t["[[CachedBufferByteLength]]"]>=0||"DETACHED"===t["[[CachedBufferByteLength]]"])&&i(t["[[Object]]"])}},7990:(t,e,n)=>{var r=n(6356),i={__proto__:null,$Int8Array:r("%Int8Array%",!0),$Uint8Array:r("%Uint8Array%",!0),$Uint8ClampedArray:r("%Uint8ClampedArray%",!0),$Int16Array:r("%Int16Array%",!0),$Uint16Array:r("%Uint16Array%",!0),$Int32Array:r("%Int32Array%",!0),$Uint32Array:r("%Uint32Array%",!0),$BigInt64Array:r("%BigInt64Array%",!0),$BigUint64Array:r("%BigUint64Array%",!0),$Float32Array:r("%Float32Array%",!0),$Float64Array:r("%Float64Array%",!0)};t.exports=function(t){return i["$"+t]}},7814:(t,e,n)=>{var r=n(9187),i=n(1685),o=n(9485),s=n(2208),a=n(2874),c=n(6838);t.exports=function(t,e){if(a(t))return e?[0,0,192,127]:[127,192,0,0];var n;if(0===t)return n=c(t)?128:0,e?[0,0,0,n]:[n,0,0,0];if(r(t)>34028234663852886e22||!s(t))return n=t<0?255:127,e?[0,0,128,n]:[n,128,0,0];var u=t<0?1:0;t=r(t);for(var h=0;t>=2;)h+=1,t/=2;for(;t<1;)h-=1,t*=2;var l=t-1;l*=o(2,23)+.5,h+=127;var f=u<<31|(h<<=23)|(l=i(l)),p=255&f,y=255&(f>>=8),d=255&(f>>=8),g=255&(f>>=8);return e?[p,y,d,g]:[g,d,y,p]}},2687:(t,e,n)=>{var r=n(6356)("%parseInt%"),i=n(9187),o=n(1685),s=n(6838),a=n(9691),c=a("String.prototype.indexOf"),u=a("String.prototype.slice"),h=n(6349),l=n(7148),f="11111111111",p="00000000000",y=p+p+p+p+"0000000";t.exports=function(t,e){var n,a,d=t<0||s(t)?"1":"0";if(isNaN(t))n=f,a="1"+y;else if(isFinite(t))if(0===t)n=p,a="0"+y;else{t=i(t);var g,b=o(t),m=l(b),v=h(t-b);if(m)n=m.length-1;else{var w=c(v,"1");w>-1&&(g=w+1),n=-g}a=m+v,n<0?(n<=-1023&&(g=1022),a=u(a,g)):a=u(a,1),n=u(p+l(n+1023),-11),a=u(a+y+"0",0,52)}else n=f,a="0"+y;for(var E=d+n+a,A=[],S=0;S<8;S++)A[e?8-S-1:S]=r(u(E,8*S,8*(S+1)),2);return A}},4797:(t,e,n)=>{var r=n(6356),i=n(1723),o=n(3853),s=n(860),a=n(3736),c=n(3861),u=n(4817);t.exports=function(t){if(!o(t))throw new a("Reflect.getPrototypeOf called on non-object");if(c)return c(t);var e=s(t);if(e){var n=r("%"+e+".prototype%",!0);if(n)return n}return i(t.constructor)?t.constructor.prototype:t instanceof Object?u.prototype:null}},8872:(t,e,n)=>{var r=n(4797),i=n(3861);t.exports=function(){return"object"==typeof Reflect&&Reflect&&Reflect.getPrototypeOf?Reflect.getPrototypeOf:i?function(t){return i(t)}:r}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};n.d(r,{d:()=>et,UI:()=>nt});var i=n(1093),o=n(8508);const s=([t,e,n])=>Promise.resolve([t.match(n.tokenSplitRegex)||[],e,n]),a=([t,e,n])=>[n.skipFields.includes(e)?[]:t,e,n],c=([t,e,n])=>Promise.resolve([t.map((t=>n.caseSensitive?t:t.toLowerCase())),e,n]),u=([t,e,n])=>{const{fields:r,values:i}=n.replace,o=()=>t.reduce(((t,e)=>[e,...t,...i[e]||[]]),[]);return i?r?r.includes(e)?Promise.resolve([o(),e,n]):Promise.resolve([t,e,n]):Promise.resolve([o(),e,n]):Promise.resolve([t,e,n])},h=([t,e,n])=>{let{fields:r,lengths:i,join:s=" "}=n.ngrams;return r||(r=[e]),i&&r.includes(e)?[(0,o.ngraminator)(t.filter((t=>null!==t)),i).map((t=>t.join(s))),e,n]:Promise.resolve([t,e,n])},l=([t,e,n])=>[t.filter((t=>!n.stopwords.includes(t.toLowerCase()))),e,n],f=([t,e,n])=>{const r=i(t),o=r.reduce(((t,e)=>Math.max(e.positions.length,t)),0);return Promise.resolve([r.map((t=>[t.term[0],(t.positions.length/o).toFixed(2)])).sort(),e,n])},p={SPLIT:s,SKIP:a,LOWCASE:c,REPLACE:u,NGRAMS:h,STOPWORDS:l,SCORE_TERM_FREQUENCY:f,SPY:([t,e,n])=>(console.log("----------------"),console.log("field ->"),console.log(e),console.log("tokens ->"),console.log(t),console.log("----------------"),Promise.resolve([t,e,n]))},y=(t,e,n)=>s([t,e,n]).then(a).then(c).then(u).then(h).then(l).then(f).then((([t,e,n])=>t));var d=n(7313),g=n(7042),b=n(602);function m(t,e){const n=t=>"string"==typeof t,r=async(n,r=t=>new Promise((e=>e(t))))=>new Promise((async(i,o)=>{const a=t=>void 0===t?i(void 0):t instanceof Promise?i(t):void 0;try{a(n),n=e.parse(n),a(n=await(e=>e.VALUE.GTE===e.VALUE.LTE&&t.stopwords.includes(e.VALUE.GTE)?void 0:e)(n)),a(n=await r(n))}catch(t){return o(t)}return Array.isArray(n)?i(n):i(s(n))})),i=async(t,e)=>Promise.all(t).then((t=>{const e=t.flat(1/0).reduce(((t,e)=>(e&&t.set(e._id,[...t.get(e._id)||[],e._match]),t)),new Map);return{sumTokensMinusStopwords:t.filter((t=>t)).length,union:Array.from(e.keys()).map((t=>({_id:t,_match:e.get(t)})))}})),o=(t,e,n)=>{const r=[];return void 0===e&&"number"!=typeof e||r.push(e),n&&r.push(b.HI),["IDX",t,r]},s=t=>new Promise((e=>{if(void 0===t)return e(void 0);const n=new Map;Promise.all(t.FIELD.map((e=>{const r={gte:o(e,t.VALUE.GTE),lte:o(e,t.VALUE.LTE,!0),limit:t.LIMIT,reverse:t.REVERSE};return u(r).then((t=>t.forEach((t=>t.value.forEach((e=>n.set(e,[...n.get(e)||[],JSON.stringify({FIELD:t.key[1],VALUE:t.key[2][0],SCORE:t.key[2][1]})])))))))}))).then((()=>e(Array.from(n.keys()).map((t=>({_id:t,_match:n.get(t)}))))))})),a=(t,e,n=!0)=>e?0===e.length?[]:(e=new Set(e.map((t=>t._id))),t.map((t=>Object.assign(t,{_id:[...new Set([...t._id].filter((t=>e.has(t))))]}))).filter((t=>!n||t._id.length))):t,c=t=>(t=e.parse(t),r(t).then((e=>({_id:[...e.reduce(((t,e)=>t.add(e._id)),new Set)].sort(),VALUE:t.VALUE,...t})))),u=e=>t.db.iterator(e).all().then((t=>t.map((([t,e])=>({key:t,value:e}))))),h=(t,n)=>s({...e.parse(t),LIMIT:1,REVERSE:n}).then((t=>t.length?JSON.parse(t.pop()._match.pop()).VALUE:null)),l=t=>(t=e.parse(t),Promise.all(t.FIELD.map((e=>{let n=t.VALUE.LTE;void 0!==t.VALUE.LTE&&"number"!=typeof t.VALUE.LTE&&(n+="￮");let r=t.VALUE.GTE;return t.VALUE.GTE&&"number"!=typeof t.VALUE.GTE&&(r+=" "),u({gte:o(e,r),lte:o(e,n,!0),keys:!0,values:!1}).then((t=>t.map((({key:t})=>({FIELD:t[1],VALUE:t[2][0]})))))}))).then((t=>t.flat()))),f=t=>(t=e.parse(t),Promise.all(t.FIELD.map((e=>u({gte:o(e,t.VALUE.GTE),lte:o(e,t.VALUE.LTE,!0)}).then((t=>t.map((t=>({FIELD:t.key[1],VALUE:t.key[2][0],_id:t.value})))))))).then((t=>t.flat()))),p=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});return{AGGREGATE:({BUCKETS:t,FACETS:e,QUERY:n})=>Promise.all([t,e,n]).then((([t=[],e=[],n=[]])=>({BUCKETS:a(t.flat(),n),FACETS:a(e.flat(),n),RESULT:n}))),AGGREGATION_FILTER:a,BUCKET:c,BUCKETS:(...t)=>Promise.all(t.map(c)),CREATED:()=>t.db.get(["~CREATED"]),DISTINCT:(...t)=>Promise.all(t.length?t.map(l):[l({})]).then((t=>[...t.flat().reduce(((t,e)=>t.add(JSON.stringify(e))),new Set)].map(JSON.parse))),EXIST:(...e)=>Promise.all(e.map((e=>t.db.get([t.docExistsSpace,e]).catch((t=>null))))).then((t=>t.reduce(((t,n,r)=>(null!=n&&t.push(e[r]),t)),[]))),EXPORT:u,FACETS:(...t)=>Promise.all(t.length?t.map(f):[f({})]).then((t=>[...t.flat().reduce(((t,e)=>t.add(JSON.stringify(e))),new Set)].map(JSON.parse))),FIELDS:()=>u({gte:["FIELD",b.LO],lte:["FIELD",b.HI]}).then((t=>t.map((t=>t.key[1])))),GET:r,INTERSECTION:(t,e)=>i(t).then((t=>t.union.filter((e=>e._match.length===t.sumTokensMinusStopwords)))),LAST_UPDATED:()=>t.db.get(["~LAST_UPDATED"]),MAX:t=>h(t,!0),MIN:h,OBJECT:e=>Promise.all(e.map((e=>t.db.get(["DOC",e._id]).catch((t=>null))))).then((t=>e.map(((e,n)=>(e._object=t[n],e))))),SET_SUBTRACTION:(t,e)=>Promise.all([n(t)?r(t):t,n(e)?r(e):e]).then((([t,e])=>t.filter((t=>-1===e.map((t=>t._id)).indexOf(t._id))))),SORT:t=>new Promise((e=>e(t.sort(((t,e)=>p.compare(t._id,e._id)))))),UNION:i}}b.LO=null,b.HI=void 0;var v=n(4504);const w=null,E=void 0;class A{availableFields=[];#t;constructor(t){this.#t=t}setAvailableFields=t=>{this.availableFields=t};#e=t=>{const e=t=>this.#t||"string"!=typeof t?t:t.toLowerCase();return{FIELD:t.FIELD.map(e),VALUE:{GTE:e(t.VALUE.GTE),LTE:e(t.VALUE.LTE)}}};parse(t){if(t instanceof Promise)return t;if(Array.isArray(t))throw new Error("token cannot be Array");if(void 0===t&&(t={}),"string"==typeof t){if(-1===t.indexOf(":"))return this.#e({FIELD:this.availableFields,VALUE:{GTE:t,LTE:t}});const[e,...n]=t.split(":");return this.#e({FIELD:[e],VALUE:{GTE:n.join(":"),LTE:n.join(":")}})}return"number"==typeof t&&(t={VALUE:{GTE:t,LTE:t}}),null===t.VALUE&&(t.VALUE={GTE:null,LTE:null}),"string"!=typeof t.VALUE&&"number"!=typeof t.VALUE||(t.VALUE={GTE:t.VALUE,LTE:t.VALUE}),void 0!==t.VALUE&&Object.keys(t.VALUE).length||(t.VALUE={GTE:w,LTE:E}),void 0===t.VALUE.GTE&&(t.VALUE.GTE=w),void 0===t.VALUE.LTE&&(t.VALUE.LTE=E),t.VALUE=Object.assign(t.VALUE,{GTE:t.VALUE.GTE,LTE:t.VALUE.LTE}),void 0===t.FIELD?this.#e({FIELD:this.availableFields,...t}):(t.FIELD=[t.FIELD].flat(),this.#e(t))}}class S{constructor(t={}){t={caseSensitive:!0,isLeaf:t=>"string"==typeof t||"number"==typeof t,stopwords:[],doNotIndexField:[],storeVectors:!0,docExistsSpace:"DOC",db:new t.Level(t.name,{keyEncoding:b,valueEncoding:"json"}),...t};const e=new A(t.caseSensitive),n=new g,r=m(t,e),i=function(t,e){let n=0;const r=(e,n)=>{if(null==e._object)return{_id:e._id,keys:[]};const r=[];return v(e._object).forEach((function(e){const i=this.path.filter((t=>!Number.isInteger(+t))).join(".");if("_id"!==i&&!n.doNotIndexField.filter((t=>i.startsWith(t))).length&&t.isLeaf(this.node)){if(!t.stopwords.includes(this.node)){const e=JSON.stringify([i,[this.node].flat(1/0).map((e=>"string"!=typeof e||t.caseSensitive?e:e.toLowerCase()))]);r.push(t.caseSensitive?e:e.toLowerCase())}this.update(this.node,!0)}})),{_id:e._id,keys:r}},i=(t,e)=>(e.keys.forEach((n=>{t[n]=t[n]||[],t[n].push(e._id)})),t),o=(e,o,s,a,c)=>new Promise((u=>{e=e.map((t=>{var e;return t._id="string"==typeof(e=t._id)||"number"==typeof e?e:++n,t._object&&(t._object._id=t._id),t})),c=Object.assign(t,c),m(t).EXIST(...e.map((t=>t._id))).then((t=>((t,e,n)=>{const r=Object.keys(t);return Promise.all(r.map((t=>["IDX",...JSON.parse(t)])).map((t=>new Promise(((n,r)=>e.get(t).then(n).catch((t=>n([])))))))).then((e=>e.map(((e,i)=>{const o=new Set(e),s=new Set(t[r[i]]);if("put"===n)return{key:["IDX",...JSON.parse(r[i])],type:n,value:[...new Set([...o,...s])].sort()};if("del"===n){const t=[...new Set([...o].filter((t=>!s.has(t))))];return{key:["IDX",...JSON.parse(r[i])],type:0===t.length?"del":"put",value:t}}return e}))))})(((t,e)=>t.map((t=>r(t,e))).reduce(i,{}))(e,c),o,s).then((t=>o.batch(t.concat(c.storeVectors?((t,e)=>t.map((t=>({key:["DOC",t._id],type:e,value:t._object}))))(e,s):[]).concat((t=>[...new Set(t.map((t=>t.key[1].split(":")[0])))].map((t=>({type:"put",key:["FIELD",t],value:t}))))(t))))).then((()=>u(e.map((e=>{let n;return"put"===s?n=t.includes(e._id)?"UPDATED":"CREATED":"del"===s&&(n=void 0===e._object?"FAILED":"DELETED"),{_id:e._id,operation:a,status:n}})))))))})),s=()=>(new Date).toISOString(),a=e=>t.db.put(["~LAST_UPDATED"],s()).then((()=>e));return{DELETE:e=>m(t).OBJECT(e.map((t=>({_id:t})))).then((e=>o(e,t.db,"del","DELETE",{}))).then(a),IMPORT:n=>t.db.clear().then((()=>t.db.batch(n.map((t=>Object.assign(t,{type:"put"})))))).then((()=>m(t).FIELDS())).then((t=>e.setAvailableFields(t))),PUT:(n,r={})=>o(n.map((t=>({_id:t._id,_object:t}))),t.db,"put","PUT",r).then(a).then((async n=>(e.setAvailableFields(await m(t).FIELDS()),n))),TIMESTAMP:()=>t.db.get(["~CREATED"]).then((e=>!!e||t.db.put(["~CREATED"],s()).then(a))),TIMESTAMP_LAST_UPDATED:a}}(t,e);r.FIELDS().then((t=>e.setAvailableFields(t))).then((()=>i.TIMESTAMP())).then((()=>n.emit("ready"))),this.AGGREGATION_FILTER=r.AGGREGATION_FILTER,this.AND=(t,e)=>r.INTERSECTION(t.map((t=>this.GET(t,e)))).then(this.flattenMatchArrayInResults),this.BUCKET=r.BUCKET,this.BUCKETS=r.BUCKETS,this.CREATED=r.CREATED,this.DELETE=i.DELETE,this.DISTINCT=r.DISTINCT,this.EVENTS=n,this.EXIST=r.EXIST,this.EXPORT=r.EXPORT,this.FACETS=r.FACETS,this.FIELDS=r.FIELDS,this.GET=(t,e)=>r.GET(t,e).then(this.flattenMatchArrayInResults),this.IMPORT=i.IMPORT,this.LAST_UPDATED=r.LAST_UPDATED,this.MAX=r.MAX,this.MIN=r.MIN,this.NOT=(...t)=>r.SET_SUBTRACTION(...t).then(this.flattenMatchArrayInResults),this.OBJECT=r.OBJECT,this.OR=(t,e)=>r.UNION(t.map((t=>this.GET(t,e)))).then((t=>t.union)).then(this.flattenMatchArrayInResults),this.PUT=i.PUT,this.SORT=r.SORT,this.STORE=t.db,this.TIMESTAMP_LAST_UPDATED=i.TIMESTAMP_LAST_UPDATED,this.TOKEN_PARSER=e}flattenMatchArrayInResults(t){return void 0===t?void 0:t.map((t=>(t._match=t._match.flat(1/0).map((t=>"string"==typeof t?JSON.parse(t):t)).sort(((t,e)=>t.FIELD<e.FIELD?-1:t.FIELD>e.FIELD?1:t.VALUE<e.VALUE?-1:t.VALUE>e.VALUE?1:t.SCORE<e.SCORE?-1:t.SCORE>e.SCORE?1:0)),t)))}}class T{constructor(t={}){return new S({Level:d.Z,...t})}}var O=n(5606);const _="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,I=new Set,L="object"==typeof O&&O?O:{},x=(t,e,n,r)=>{"function"==typeof L.emitWarning?L.emitWarning(t,e,n,r):console.error(`[${n}] ${e}: ${t}`)};let k=globalThis.AbortController,B=globalThis.AbortSignal;if(void 0===k){B=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},k=class{constructor(){e()}signal=new B;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==L.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,x("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");const R=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),U=t=>R(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?N:null:null;class N extends Array{constructor(t){super(t),this.fill(0)}}class C{heap;length;static#n=!1;static create(t){const e=U(t);if(!e)return[];C.#n=!0;const n=new C(t,e);return C.#n=!1,n}constructor(t,e){if(!C.#n)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class D{#r;#i;#o;#s;#a;#c;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#u;#h;#l;#f;#p;#y;#d;#g;#b;#m;#v;#w;#E;#A;#S;#T;#O;static unsafeExposeInternals(t){return{starts:t.#E,ttls:t.#A,sizes:t.#w,keyMap:t.#l,keyList:t.#f,valList:t.#p,next:t.#y,prev:t.#d,get head(){return t.#g},get tail(){return t.#b},free:t.#m,isBackgroundFetch:e=>t.#_(e),backgroundFetch:(e,n,r,i)=>t.#I(e,n,r,i),moveToTail:e=>t.#L(e),indexes:e=>t.#x(e),rindexes:e=>t.#k(e),isStale:e=>t.#B(e)}}get max(){return this.#r}get maxSize(){return this.#i}get calculatedSize(){return this.#h}get size(){return this.#u}get fetchMethod(){return this.#a}get memoMethod(){return this.#c}get dispose(){return this.#o}get disposeAfter(){return this.#s}constructor(t){const{max:e=0,ttl:n,ttlResolution:r=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:s,allowStale:a,dispose:c,disposeAfter:u,noDisposeOnSet:h,noUpdateTTL:l,maxSize:f=0,maxEntrySize:p=0,sizeCalculation:y,fetchMethod:d,memoMethod:g,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:m,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:w,ignoreFetchAbort:E}=t;if(0!==e&&!R(e))throw new TypeError("max option must be a nonnegative integer");const A=e?U(e):Array;if(!A)throw new Error("invalid max value: "+e);if(this.#r=e,this.#i=f,this.maxEntrySize=p||this.#i,this.sizeCalculation=y,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("memoMethod must be a function if defined");if(this.#c=g,void 0!==d&&"function"!=typeof d)throw new TypeError("fetchMethod must be a function if specified");if(this.#a=d,this.#T=!!d,this.#l=new Map,this.#f=new Array(e).fill(void 0),this.#p=new Array(e).fill(void 0),this.#y=new A(e),this.#d=new A(e),this.#g=0,this.#b=0,this.#m=C.create(e),this.#u=0,this.#h=0,"function"==typeof c&&(this.#o=c),"function"==typeof u?(this.#s=u,this.#v=[]):(this.#s=void 0,this.#v=void 0),this.#S=!!this.#o,this.#O=!!this.#s,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!l,this.noDeleteOnFetchRejection=!!b,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!w,this.ignoreFetchAbort=!!E,0!==this.maxEntrySize){if(0!==this.#i&&!R(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!R(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#R()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!m,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!s,this.ttlResolution=R(r)||0===r?r:1,this.ttlAutopurge=!!i,this.ttl=n||0,this.ttl){if(!R(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#U()}if(0===this.#r&&0===this.ttl&&0===this.#i)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#r&&!this.#i){const t="LRU_CACHE_UNBOUNDED";(t=>!I.has(t))(t)&&(I.add(t),x("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,D))}}getRemainingTTL(t){return this.#l.has(t)?1/0:0}#U(){const t=new N(this.#r),e=new N(this.#r);this.#A=t,this.#E=e,this.#N=(n,r,i=_.now())=>{if(e[n]=0!==r?i:0,t[n]=r,0!==r&&this.ttlAutopurge){const t=setTimeout((()=>{this.#B(n)&&this.#C(this.#f[n],"expire")}),r+1);t.unref&&t.unref()}},this.#D=n=>{e[n]=0!==t[n]?_.now():0},this.#j=(i,o)=>{if(t[o]){const s=t[o],a=e[o];if(!s||!a)return;i.ttl=s,i.start=a,i.now=n||r();const c=i.now-a;i.remainingTTL=s-c}};let n=0;const r=()=>{const t=_.now();if(this.ttlResolution>0){n=t;const e=setTimeout((()=>n=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=i=>{const o=this.#l.get(i);if(void 0===o)return 0;const s=t[o],a=e[o];return s&&a?s-((n||r())-a):1/0},this.#B=i=>{const o=e[i],s=t[i];return!!s&&!!o&&(n||r())-o>s}}#D=()=>{};#j=()=>{};#N=()=>{};#B=()=>!1;#R(){const t=new N(this.#r);this.#h=0,this.#w=t,this.#P=e=>{this.#h-=t[e],t[e]=0},this.#F=(t,e,n,r)=>{if(this.#_(e))return 0;if(!R(n)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(n=r(e,t),!R(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#M=(e,n,r)=>{if(t[e]=n,this.#i){const n=this.#i-t[e];for(;this.#h>n;)this.#V(!0)}this.#h+=t[e],r&&(r.entrySize=n,r.totalCalculatedSize=this.#h)}}#P=t=>{};#M=(t,e,n)=>{};#F=(t,e,n,r)=>{if(n||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#x({allowStale:t=this.allowStale}={}){if(this.#u)for(let e=this.#b;this.#$(e)&&(!t&&this.#B(e)||(yield e),e!==this.#g);)e=this.#d[e]}*#k({allowStale:t=this.allowStale}={}){if(this.#u)for(let e=this.#g;this.#$(e)&&(!t&&this.#B(e)||(yield e),e!==this.#b);)e=this.#y[e]}#$(t){return void 0!==t&&this.#l.get(this.#f[t])===t}*entries(){for(const t of this.#x())void 0===this.#p[t]||void 0===this.#f[t]||this.#_(this.#p[t])||(yield[this.#f[t],this.#p[t]])}*rentries(){for(const t of this.#k())void 0===this.#p[t]||void 0===this.#f[t]||this.#_(this.#p[t])||(yield[this.#f[t],this.#p[t]])}*keys(){for(const t of this.#x()){const e=this.#f[t];void 0===e||this.#_(this.#p[t])||(yield e)}}*rkeys(){for(const t of this.#k()){const e=this.#f[t];void 0===e||this.#_(this.#p[t])||(yield e)}}*values(){for(const t of this.#x())void 0===this.#p[t]||this.#_(this.#p[t])||(yield this.#p[t])}*rvalues(){for(const t of this.#k())void 0===this.#p[t]||this.#_(this.#p[t])||(yield this.#p[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const n of this.#x()){const r=this.#p[n],i=this.#_(r)?r.__staleWhileFetching:r;if(void 0!==i&&t(i,this.#f[n],this))return this.get(this.#f[n],e)}}forEach(t,e=this){for(const n of this.#x()){const r=this.#p[n],i=this.#_(r)?r.__staleWhileFetching:r;void 0!==i&&t.call(e,i,this.#f[n],this)}}rforEach(t,e=this){for(const n of this.#k()){const r=this.#p[n],i=this.#_(r)?r.__staleWhileFetching:r;void 0!==i&&t.call(e,i,this.#f[n],this)}}purgeStale(){let t=!1;for(const e of this.#k({allowStale:!0}))this.#B(e)&&(this.#C(this.#f[e],"expire"),t=!0);return t}info(t){const e=this.#l.get(t);if(void 0===e)return;const n=this.#p[e],r=this.#_(n)?n.__staleWhileFetching:n;if(void 0===r)return;const i={value:r};if(this.#A&&this.#E){const t=this.#A[e],n=this.#E[e];if(t&&n){const e=t-(_.now()-n);i.ttl=e,i.start=Date.now()}}return this.#w&&(i.size=this.#w[e]),i}dump(){const t=[];for(const e of this.#x({allowStale:!0})){const n=this.#f[e],r=this.#p[e],i=this.#_(r)?r.__staleWhileFetching:r;if(void 0===i||void 0===n)continue;const o={value:i};if(this.#A&&this.#E){o.ttl=this.#A[e];const t=_.now()-this.#E[e];o.start=Math.floor(Date.now()-t)}this.#w&&(o.size=this.#w[e]),t.unshift([n,o])}return t}load(t){this.clear();for(const[e,n]of t){if(n.start){const t=Date.now()-n.start;n.start=_.now()-t}this.set(e,n.value,n)}}set(t,e,n={}){if(void 0===e)return this.delete(t),this;const{ttl:r=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const u=this.#F(t,e,n.size||0,s);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#C(t,"set"),this;let h=0===this.#u?void 0:this.#l.get(t);if(void 0===h)h=0===this.#u?this.#b:0!==this.#m.length?this.#m.pop():this.#u===this.#r?this.#V(!1):this.#u,this.#f[h]=t,this.#p[h]=e,this.#l.set(t,h),this.#y[this.#b]=h,this.#d[h]=this.#b,this.#b=h,this.#u++,this.#M(h,u,a),a&&(a.set="add"),c=!1;else{this.#L(h);const n=this.#p[h];if(e!==n){if(this.#T&&this.#_(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=n;void 0===e||o||(this.#S&&this.#o?.(e,t,"set"),this.#O&&this.#v?.push([e,t,"set"]))}else o||(this.#S&&this.#o?.(n,t,"set"),this.#O&&this.#v?.push([n,t,"set"]));if(this.#P(h),this.#M(h,u,a),this.#p[h]=e,a){a.set="replace";const t=n&&this.#_(n)?n.__staleWhileFetching:n;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===r||this.#A||this.#U(),this.#A&&(c||this.#N(h,r,i),a&&this.#j(a,h)),!o&&this.#O&&this.#v){const t=this.#v;let e;for(;e=t?.shift();)this.#s?.(...e)}return this}pop(){try{for(;this.#u;){const t=this.#p[this.#g];if(this.#V(!0),this.#_(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#O&&this.#v){const t=this.#v;let e;for(;e=t?.shift();)this.#s?.(...e)}}}#V(t){const e=this.#g,n=this.#f[e],r=this.#p[e];return this.#T&&this.#_(r)?r.__abortController.abort(new Error("evicted")):(this.#S||this.#O)&&(this.#S&&this.#o?.(r,n,"evict"),this.#O&&this.#v?.push([r,n,"evict"])),this.#P(e),t&&(this.#f[e]=void 0,this.#p[e]=void 0,this.#m.push(e)),1===this.#u?(this.#g=this.#b=0,this.#m.length=0):this.#g=this.#y[e],this.#l.delete(n),this.#u--,e}has(t,e={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:r}=e,i=this.#l.get(t);if(void 0!==i){const t=this.#p[i];if(this.#_(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#B(i))return n&&this.#D(i),r&&(r.has="hit",this.#j(r,i)),!0;r&&(r.has="stale",this.#j(r,i))}else r&&(r.has="miss");return!1}peek(t,e={}){const{allowStale:n=this.allowStale}=e,r=this.#l.get(t);if(void 0===r||!n&&this.#B(r))return;const i=this.#p[r];return this.#_(i)?i.__staleWhileFetching:i}#I(t,e,n,r){const i=void 0===e?void 0:this.#p[e];if(this.#_(i))return i;const o=new k,{signal:s}=n;s?.addEventListener("abort",(()=>o.abort(s.reason)),{signal:o.signal});const a={signal:o.signal,options:n,context:r},c=(r,i=!1)=>{const{aborted:s}=o.signal,c=n.ignoreFetchAbort&&void 0!==r;if(n.status&&(s&&!i?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,c&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),s&&!c&&!i)return u(o.signal.reason);const l=h;return this.#p[e]===h&&(void 0===r?l.__staleWhileFetching?this.#p[e]=l.__staleWhileFetching:this.#C(t,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(t,r,a.options))),r},u=r=>{const{aborted:i}=o.signal,s=i&&n.allowStaleOnFetchAbort,a=s||n.allowStaleOnFetchRejection,c=a||n.noDeleteOnFetchRejection,u=h;if(this.#p[e]===h&&(c&&void 0!==u.__staleWhileFetching?s||(this.#p[e]=u.__staleWhileFetching):this.#C(t,"fetch")),a)return n.status&&void 0!==u.__staleWhileFetching&&(n.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw r};n.status&&(n.status.fetchDispatched=!0);const h=new Promise(((e,r)=>{const s=this.#a?.(t,i,a);s&&s instanceof Promise&&s.then((t=>e(void 0===t?void 0:t)),r),o.signal.addEventListener("abort",(()=>{n.ignoreFetchAbort&&!n.allowStaleOnFetchAbort||(e(void 0),n.allowStaleOnFetchAbort&&(e=t=>c(t,!0)))}))})).then(c,(t=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=t),u(t)))),l=Object.assign(h,{__abortController:o,__staleWhileFetching:i,__returned:void 0});return void 0===e?(this.set(t,l,{...a.options,status:void 0}),e=this.#l.get(t)):this.#p[e]=l,l}#_(t){if(!this.#T)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof k}async fetch(t,e={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:l=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:y,forceRefresh:d=!1,status:g,signal:b}=e;if(!this.#T)return g&&(g.fetch="get"),this.get(t,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:i,status:g});const m={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:l,allowStaleOnFetchAbort:p,ignoreFetchAbort:f,status:g,signal:b};let v=this.#l.get(t);if(void 0===v){g&&(g.fetch="miss");const e=this.#I(t,v,m,y);return e.__returned=e}{const e=this.#p[v];if(this.#_(e)){const t=n&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const i=this.#B(v);if(!d&&!i)return g&&(g.fetch="hit"),this.#L(v),r&&this.#D(v),g&&this.#j(g,v),e;const o=this.#I(t,v,m,y),s=void 0!==o.__staleWhileFetching&&n;return g&&(g.fetch=i?"stale":"refresh",s&&i&&(g.returnedStale=!0)),s?o.__staleWhileFetching:o.__returned=o}}async forceFetch(t,e={}){const n=await this.fetch(t,e);if(void 0===n)throw new Error("fetch() returned undefined");return n}memo(t,e={}){const n=this.#c;if(!n)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:i,...o}=e,s=this.get(t,o);if(!i&&void 0!==s)return s;const a=n(t,s,{options:o,context:r});return this.set(t,a,o),a}get(t,e={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=e,s=this.#l.get(t);if(void 0!==s){const e=this.#p[s],a=this.#_(e);return o&&this.#j(o,s),this.#B(s)?(o&&(o.get="stale"),a?(o&&n&&void 0!==e.__staleWhileFetching&&(o.returnedStale=!0),n?e.__staleWhileFetching:void 0):(i||this.#C(t,"expire"),o&&n&&(o.returnedStale=!0),n?e:void 0)):(o&&(o.get="hit"),a?e.__staleWhileFetching:(this.#L(s),r&&this.#D(s),e))}o&&(o.get="miss")}#z(t,e){this.#d[e]=t,this.#y[t]=e}#L(t){t!==this.#b&&(t===this.#g?this.#g=this.#y[t]:this.#z(this.#d[t],this.#y[t]),this.#z(this.#b,t),this.#b=t)}delete(t){return this.#C(t,"delete")}#C(t,e){let n=!1;if(0!==this.#u){const r=this.#l.get(t);if(void 0!==r)if(n=!0,1===this.#u)this.#G(e);else{this.#P(r);const n=this.#p[r];if(this.#_(n)?n.__abortController.abort(new Error("deleted")):(this.#S||this.#O)&&(this.#S&&this.#o?.(n,t,e),this.#O&&this.#v?.push([n,t,e])),this.#l.delete(t),this.#f[r]=void 0,this.#p[r]=void 0,r===this.#b)this.#b=this.#d[r];else if(r===this.#g)this.#g=this.#y[r];else{const t=this.#d[r];this.#y[t]=this.#y[r];const e=this.#y[r];this.#d[e]=this.#d[r]}this.#u--,this.#m.push(r)}}if(this.#O&&this.#v?.length){const t=this.#v;let e;for(;e=t?.shift();)this.#s?.(...e)}return n}clear(){return this.#G("delete")}#G(t){for(const e of this.#k({allowStale:!0})){const n=this.#p[e];if(this.#_(n))n.__abortController.abort(new Error("deleted"));else{const r=this.#f[e];this.#S&&this.#o?.(n,r,t),this.#O&&this.#v?.push([n,r,t])}}if(this.#l.clear(),this.#p.fill(void 0),this.#f.fill(void 0),this.#A&&this.#E&&(this.#A.fill(0),this.#E.fill(0)),this.#w&&this.#w.fill(0),this.#g=0,this.#b=0,this.#m.length=0,this.#h=0,this.#u=0,this.#O&&this.#v){const t=this.#v;let e;for(;e=t?.shift();)this.#s?.(...e)}}}class j{#K;#W;#H;constructor(t,e,n){this.#W=t.docExistsSpace,this.#H=n,this.#K=e}#q=(t,e={})=>{const n=t=>"string"==typeof t||"number"==typeof t?this.#H.GET(t,e.PIPELINE):t.FIELD||t.VALUE?this.#H.GET(t):t.AND?this.#H.AND(t.AND.map(n),e.PIPELINE):t.GET?this.#H.GET(t.GET,e.PIPELINE):t.NOT?this.#H.NOT(n(t.NOT.INCLUDE),n(t.NOT.EXCLUDE)):t.OR?this.#H.OR(t.OR.map(n),e.PIPELINE):t.ALL_DOCUMENTS?this.ALL_DOCUMENTS(t.ALL_DOCUMENTS):void 0;return n(t).then((n=>n.RESULT?Object.assign(n,{QUERY:{q:t,options:e},RESULT_LENGTH:n.RESULT.length}):{QUERY:t,OPTIONS:e,RESULT:n,RESULT_LENGTH:n.length})).then((t=>e.BUCKETS?this.#H.BUCKETS(...e.BUCKETS).then((e=>Object.assign(t,{BUCKETS:this.#H.AGGREGATION_FILTER(e,t.RESULT,!1)}))):t)).then((n=>e.FACETS?n.RESULT.length?t.ALL_DOCUMENTS?this.FACETS(...e.FACETS).then((t=>Object.assign(n,{FACETS:t}))):this.FACETS(...e.FACETS).then((t=>Object.assign(n,{FACETS:this.#H.AGGREGATION_FILTER(t,n.RESULT)}))):Object.assign(n,{FACETS:[]}):n)).then((t=>e.WEIGHT?Object.assign({RESULT:this.WEIGHT(t.RESULT,e.WEIGHT)},t):t)).then((t=>e.SCORE?this.SCORE(t.RESULT,e.SCORE).then((e=>Object.assign(t,{RESULT:e}))):t)).then((t=>Object.assign(t,e.SORT?{RESULT:this.SORT(t.RESULT,e.SORT)}:{}))).then((t=>{let n;return Object.assign(t,{RESULT:this.PAGE(t.RESULT,e.PAGE,(t=>{n=t}))},{PAGING:n})})).then((t=>e.DOCUMENTS?this.DOCUMENTS(...t.RESULT.map((t=>t._id))).then((e=>Object.assign(t,{RESULT:t.RESULT.map(((t,n)=>Object.assign(t,{_doc:e[n]})))}))):t))};#Y=(t,e={})=>this.DISTINCT(t).then((t=>({RESULT:Array.from(t.reduce(((t,e)=>t.add(e.VALUE)),new Set)).sort(((t,e)=>(t+"").localeCompare(e+"",void 0,{numeric:!0,sensitivity:"base"}))),OPTIONS:e})));#J=(...t)=>t.length?Promise.all(t.map((t=>this.#H.STORE.get([this.#W,t]).catch((t=>null))))):this.ALL_DOCUMENTS();#X=(t,e)=>this.#q({AND:[...t]},Object.assign({SCORE:{TYPE:"TFIDF"},SORT:!0},e));ALL_DOCUMENTS=t=>this.#H.STORE.iterator({gte:[this.#W,null],lte:[this.#W,void 0],limit:t}).all().then((t=>t.map((([t,e])=>({_id:e._id,_doc:e})))));cachePipeline=(t,e,...n)=>{const r=JSON.stringify({funcLabel:e,params:n});return this.#K.has(r)?Promise.resolve(this.#K.get(r)):t(...n).then((t=>(this.#K.set(r,t),t)))};DICTIONARY=(t,e)=>this.cachePipeline(this.#Y,"#DICTIONARY",t,e);DISTINCT=(...t)=>this.#H.DISTINCT(...t).then((t=>[...t.reduce(((t,e)=>t.add(JSON.stringify(Object.assign(e,{VALUE:e.VALUE})))),new Set)].map(JSON.parse)));DOCUMENTS=(...t)=>this.cachePipeline(this.#J,"#DOCUMENTS",...t);DOCUMENT_COUNT=()=>this.#H.STORE.get(["DOCUMENT_COUNT"]);DOCUMENT_VECTORS=(...t)=>Promise.all(t.map((t=>this.#H.STORE.get(["DOC",t]).catch((t=>null)))));FACETS=(...t)=>this.#H.FACETS(...t).then((t=>[...t.reduce(((t,e)=>t.add(JSON.stringify(Object.assign(e,{VALUE:e.VALUE})))),new Set)].map(JSON.parse)));PAGE=(t,e={},n=()=>null)=>((e={NUMBER:0,SIZE:20,...e}).TOTAL=Math.ceil(t.length/e.SIZE),e.DOC_OFFSET=e.NUMBER*e.SIZE,n(e),t.slice(e.DOC_OFFSET,e.DOC_OFFSET+e.SIZE||void 0));QUERY=(t,e)=>this.cachePipeline(this.#q,"#parseJsonQuery",t,e);SCORE=(t,e={})=>{e=Object.assign({TYPE:"TFIDF"},e);const n=t=>!e.FIELDS||e.FIELDS.includes(t.FIELD),r=t=>(t||[]).filter(n);return new Promise((i=>i("TFIDF"===e.TYPE?this.DOCUMENT_COUNT().then((e=>t.map(((t,r,i)=>{const o=Math.log((e+1)/i.length);return t._score=+(t._match||[]).filter(n).reduce(((t,e)=>t+o*+e.SCORE),0).toFixed(2),t})))):"PRODUCT"===e.TYPE?t.map((t=>({...t,_score:+r(t._match).reduce(((t,e)=>t*+e.SCORE),1).toFixed(2)}))):"CONCAT"===e.TYPE?t.map((t=>({...t,_score:r(t._match).reduce(((t,e)=>t+e.SCORE),"")}))):"SUM"===e.TYPE?t.map((t=>({...t,_score:+r(t._match).reduce(((t,e)=>t+ +e.SCORE),0).toFixed(2)}))):"VALUE"===e.TYPE?t.map((t=>({...t,_score:r(t._match).reduce(((t,e)=>t+e.VALUE),"")}))):null)))};SEARCH=(t,e)=>this.cachePipeline(this.#X,"#SEARCH",t,e);SORT=(t,e)=>(e=Object.assign({DIRECTION:"DESCENDING",TYPE:"NUMERIC"},e||{}),t.sort(((t,e)=>t._id<e._id?-1:t._id>e._id?1:0)).sort({NUMERIC:{DESCENDING:(t,e)=>+e._score-+t._score,ASCENDING:(t,e)=>+t._score-+e._score},ALPHABETIC:{DESCENDING:(t,e)=>t._score<e._score?1:t._score>e._score?-1:0,ASCENDING:(t,e)=>t._score<e._score?-1:t._score>e._score?1:0}}[e.TYPE][e.DIRECTION]));WEIGHT=(t,e)=>t.map((t=>(t._match=t._match.map((t=>(e.forEach((e=>{let n=!1;e.FIELD&&e.VALUE?e.FIELD===t.FIELD&&e.VALUE===t.VALUE&&(n=!0):e.FIELD?e.FIELD===t.FIELD&&(n=!0):e.VALUE&&e.VALUE===t.VALUE&&(n=!0),n&&(t.SCORE=(e.WEIGHT*+t.SCORE).toFixed(2))})),t))),t)))}var P=n(228);class F extends Error{constructor(t){super(t),this.name="TimeoutError"}}class M extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const V=t=>void 0===globalThis.DOMException?new M(t):new DOMException(t),$=t=>{const e=void 0===t.reason?V("This operation was aborted."):t.reason;return e instanceof Error?e:V(e)};class z{#Q=[];enqueue(t,e){const n={priority:(e={priority:0,...e}).priority,id:e.id,run:t};if(0===this.size||this.#Q[this.size-1].priority>=e.priority)return void this.#Q.push(n);const r=function(t,e){let n=0,r=t.length;for(;r>0;){const o=Math.trunc(r/2);let s=n+o;i=t[s],e.priority-i.priority<=0?(n=++s,r-=o+1):r=o}var i;return n}(this.#Q,n);this.#Q.splice(r,0,n)}setPriority(t,e){const n=this.#Q.findIndex((e=>e.id===t));if(-1===n)throw new ReferenceError(`No promise function with the id "${t}" exists in the queue.`);const[r]=this.#Q.splice(n,1);this.enqueue(r.run,{priority:e,id:t})}dequeue(){const t=this.#Q.shift();return t?.run}filter(t){return this.#Q.filter((e=>e.priority===t.priority)).map((t=>t.run))}get size(){return this.#Q.length}}class G extends P{#Z;#tt;#et=0;#nt;#rt;#it=0;#ot;#st;#Q;#at;#ct=0;#ut;#ht;#lt;#ft=1n;timeout;constructor(t){if(super(),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:z,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap?.toString()??""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval?.toString()??""}\` (${typeof t.interval})`);this.#Z=t.carryoverConcurrencyCount,this.#tt=t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,this.#nt=t.intervalCap,this.#rt=t.interval,this.#Q=new t.queueClass,this.#at=t.queueClass,this.concurrency=t.concurrency,this.timeout=t.timeout,this.#lt=!0===t.throwOnTimeout,this.#ht=!1===t.autoStart}get#pt(){return this.#tt||this.#et<this.#nt}get#yt(){return this.#ct<this.#ut}#y(){this.#ct--,this.#dt(),this.emit("next")}#gt(){this.#bt(),this.#mt(),this.#st=void 0}get#vt(){const t=Date.now();if(void 0===this.#ot){const e=this.#it-t;if(!(e<0))return void 0===this.#st&&(this.#st=setTimeout((()=>{this.#gt()}),e)),!0;this.#et=this.#Z?this.#ct:0}return!1}#dt(){if(0===this.#Q.size)return this.#ot&&clearInterval(this.#ot),this.#ot=void 0,this.emit("empty"),0===this.#ct&&this.emit("idle"),!1;if(!this.#ht){const t=!this.#vt;if(this.#pt&&this.#yt){const e=this.#Q.dequeue();return!!e&&(this.emit("active"),e(),t&&this.#mt(),!0)}}return!1}#mt(){this.#tt||void 0!==this.#ot||(this.#ot=setInterval((()=>{this.#bt()}),this.#rt),this.#it=Date.now()+this.#rt)}#bt(){0===this.#et&&0===this.#ct&&this.#ot&&(clearInterval(this.#ot),this.#ot=void 0),this.#et=this.#Z?this.#ct:0,this.#wt()}#wt(){for(;this.#dt(););}get concurrency(){return this.#ut}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this.#ut=t,this.#wt()}async#Et(t){return new Promise(((e,n)=>{t.addEventListener("abort",(()=>{n(t.reason)}),{once:!0})}))}setPriority(t,e){this.#Q.setPriority(t,e)}async add(t,e={}){return e.id??=(this.#ft++).toString(),e={timeout:this.timeout,throwOnTimeout:this.#lt,...e},new Promise(((n,r)=>{this.#Q.enqueue((async()=>{this.#ct++,this.#et++;try{e.signal?.throwIfAborted();let r=t({signal:e.signal});e.timeout&&(r=function(t,e){const{milliseconds:n,fallback:r,message:i,customTimers:o={setTimeout,clearTimeout}}=e;let s;const a=new Promise(((a,c)=>{if("number"!=typeof n||1!==Math.sign(n))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${n}\``);if(e.signal){const{signal:t}=e;t.aborted&&c($(t)),t.addEventListener("abort",(()=>{c($(t))}))}if(n===Number.POSITIVE_INFINITY)return void t.then(a,c);const u=new F;s=o.setTimeout.call(void 0,(()=>{if(r)try{a(r())}catch(t){c(t)}else"function"==typeof t.cancel&&t.cancel(),!1===i?a():i instanceof Error?c(i):(u.message=i??`Promise timed out after ${n} milliseconds`,c(u))}),n),(async()=>{try{a(await t)}catch(t){c(t)}})()})).finally((()=>{a.clear()}));return a.clear=()=>{o.clearTimeout.call(void 0,s),s=void 0},a}(Promise.resolve(r),{milliseconds:e.timeout})),e.signal&&(r=Promise.race([r,this.#Et(e.signal)]));const i=await r;n(i),this.emit("completed",i)}catch(t){if(t instanceof F&&!e.throwOnTimeout)return void n();r(t),this.emit("error",t)}finally{this.#y()}}),e),this.emit("add"),this.#dt()}))}async addAll(t,e){return Promise.all(t.map((async t=>this.add(t,e))))}start(){return this.#ht?(this.#ht=!1,this.#wt(),this):this}pause(){this.#ht=!0}clear(){this.#Q=new this.#at}async onEmpty(){0!==this.#Q.size&&await this.#At("empty")}async onSizeLessThan(t){this.#Q.size<t||await this.#At("next",(()=>this.#Q.size<t))}async onIdle(){0===this.#ct&&0===this.#Q.size||await this.#At("idle")}async#At(t,e){return new Promise((n=>{const r=()=>{e&&!e()||(this.off(t,r),n())};this.on(t,r)}))}get size(){return this.#Q.size}sizeBy(t){return this.#Q.filter(t).length}get pending(){return this.#ct}get isPaused(){return this.#ht}}class K{#K;#H;#St;#Q;constructor(t,e,n){this.#K=e,this.#H=n,this.#St=t,this.#Q=new G({concurrency:1}),this.#Tt(0)}#Tt=t=>this.#H.STORE.get(["DOCUMENT_COUNT"]).then((e=>this.#H.STORE.put(["DOCUMENT_COUNT"],+e+(+t||0)))).catch((t=>this.#H.STORE.put(["DOCUMENT_COUNT"],0)));#Ot=(t,e)=>{this.#K.clear();const n={...this.#St,...e};return((t,e)=>{const n=t=>"string"==typeof t||t instanceof String,r=(t,i)=>new Promise((async o=>{return null===t?o([null,"1.00"]):(s=t)&&0===Object.keys(s).length&&Object.getPrototypeOf(s)===Object.prototype?o([[],"1.00"]):Number.isInteger(t)?o([t,t]):n(t)?o(e.tokenizer(t,i,e)):(t=>"object"==typeof t&&null!==t&&!Array.isArray(t))(t)?o((a=t,new Promise((async t=>{const n={};for(const t in a)n[t]=await r(a[t],t,e);return t(n)})))):(t=>Array.isArray(t))(t)?o((c=t,Promise.all(c.map(r)))):o(t);var s,a,c}));return Promise.all(t.map((async t=>new Promise((async i=>{n(t)&&(t={body:t}),Object.prototype.hasOwnProperty.call(t,"_id")||(t._id=e.idGenerator.next().value);const o={};for(const e in t)o[e]="_id"!==e?await r(t[e],e):t[e];return i(o)})))))})(t,n).then((t=>this.#H.PUT(t,e))).then((e=>this.PUT_RAW(t,e.map((t=>t._id)),!n.storeRawDocs).then((()=>this.#Tt(e.filter((t=>"CREATED"===t.status)).length))).then((()=>e))))};#_t=t=>this.#H.DELETE(t).then((e=>this.DELETE_RAW(...t).then((()=>this.#Tt(-e.filter((t=>"DELETED"===t.status)).length))).then((()=>this.#K.clear())).then((()=>e))));DELETE=(...t)=>this.#_t(t);DELETE_RAW=(...t)=>Promise.all(t.map((t=>this.#H.STORE.del([this.#St.docExistsSpace,t]))));FLUSH=()=>this.#H.STORE.clear().then((()=>{this.#K.clear();const t=(new Date).toISOString();return this.#H.STORE.batch([{type:"put",key:["~CREATED"],value:t},{type:"put",key:["~LAST_UPDATED"],value:t},{type:"put",key:["DOCUMENT_COUNT"],value:0}])})).then((()=>!0));IMPORT=t=>(this.#K.clear(),Promise.resolve(this.#H.IMPORT(t)));PUT=(t,e)=>this.#Q.add((()=>this.#Ot(t,e)));PUT_RAW=(t,e,n)=>Promise.all(t.map(((t,r)=>this.#H.STORE.put([this.#St.docExistsSpace,e[r]],n?{}:t)))).then((n=>(this.#K.clear(),t.map(((t,n)=>({_id:e[n],status:"OK",operation:"_PUT_RAW"}))))))}class W{constructor(t={}){t={cacheLength:1e3,caseSensitive:!1,docExistsSpace:"DOC_RAW",idGenerator:function*(){let t=0;for(;;)yield Date.now()+"-"+t++}(),skipFields:[],name:"index",ngrams:{},replace:{},storeRawDocs:!0,stopwords:[],storeVectors:!0,tokenSplitRegex:/[\p{L}\d]+/gu,tokenizer:y,...t},this.INDEX=new T({...t,isLeaf:t=>Array.isArray(t)&&2===t.length&&t.every((t=>"string"==typeof t||"number"==typeof t||null===t))}),this.EVENTS=this.INDEX.EVENTS,this.EVENTS.on("ready",(()=>console.log("I AM READDY YO!"))),this._CACHE=new D({max:t.cacheLength}),this.r=new j(t,this._CACHE,this.INDEX),this.w=new K(t,this._CACHE,this.INDEX),(t=>{const e=["CREATED_WITH"];t.STORE.get(e).then((n=>{const r="search-index@5.2.0";return void 0===n?t.STORE.put(e,r):r!==n?new Error("This index was created with "+n+", you are running "+r):void 0}))})(this.INDEX)}ALL_DOCUMENTS=t=>this.r.ALL_DOCUMENTS(t);BUCKETS=(...t)=>this.INDEX.BUCKETS(...t);CREATED=()=>this.INDEX.CREATED();DELETE=(...t)=>this.w.DELETE(...t);DELETE_RAW=(...t)=>this.w.DELETE_RAW(...t);DICTIONARY=(t,e)=>this.r.DICTIONARY(t,e);DISTINCT=(...t)=>this.r.DISTINCT(...t);DOCUMENTS=(...t)=>this.r.DOCUMENTS(...t);DOCUMENT_COUNT=()=>this.r.DOCUMENT_COUNT();DOCUMENT_VECTORS=(...t)=>this.r.DOCUMENT_VECTORS(...t);EXPORT=()=>this.INDEX.EXPORT();FACETS=(...t)=>this.r.FACETS(...t);FIELDS=()=>this.INDEX.FIELDS();FLUSH=()=>this.w.FLUSH();IMPORT=t=>this.w.IMPORT(t);LAST_UPDATED=()=>this.INDEX.LAST_UPDATED();MAX=t=>this.INDEX.MAX(t);MIN=t=>this.INDEX.MIN(t);PUT=(t,e)=>this.w.PUT(t,e);PUT_RAW=(t,e,n)=>this.w.PUT_RAW(t,e,n);QUERY=(t,e)=>this.r.QUERY(t,e);SEARCH=(t,e)=>this.r.SEARCH(t,e);TOKENIZATION_PIPELINE_STAGES=p;_AND=(t,e)=>this.INDEX.AND(t,e);_BUCKET=t=>this.INDEX.BUCKET(t);_GET=(t,e)=>this.INDEX.GET(t,e);_NOT=(t,e)=>this.INDEX.NOT(t,e);_OR=(t,e)=>this.INDEX.OR(t,e);_PAGE=(t,e)=>this.r.PAGE(t,e);_SORT=(t,e)=>this.r.SORT(t,e)}var H=n(9148);class q{constructor({template:t=t=>`${t} hits`,elementId:e="count"}){this.template=t,this.el=document.getElementById(e)}update=t=>this.el.innerHTML=this.template(t)}class Y{constructor({template:t=t=>`<p>${JSON.stringify(t)}</p>`,elementId:e="hits"}){this.template=t,this.el=document.getElementById(e)}update=t=>this.el.innerHTML=t.map((({_doc:t})=>this.template(t))).join("\n")}class J{constructor({pageLinkTemplate:t=(t,e,n)=>`\n    <li class="page-item ${e===n?"active":""}">\n      <a class="page-link" data-page=${e} href="#">\n        ${t}\n      </a>\n    </li>`,navLinkTemplate:e=(t,e,n)=>`\n    <li class="page-item ${n?"disabled":""}">\n      <a class="page-link" data-page=${e} href="#">\n        ${t}\n      </a>\n    </li>`,elementId:n="paging"},r){this.pageLinkTemplate=t,this.navLinkTemplate=e,this.el=document.getElementById(n),this.search=r,this.page={NUMBER:0,SIZE:10}}template=t=>{let e=0,n=t.TOTAL;return t.TOTAL>7&&(e=t.NUMBER>3?t.NUMBER-3:0,n=7+e),n>t.TOTAL&&(e=t.TOTAL-6-1,n=t.TOTAL),`\n     <ul class="pagination">\n       ${this.navLinkTemplate("First",0,0===t.NUMBER)}\n       ${this.navLinkTemplate("‹",t.NUMBER-1,0===t.NUMBER)}\n       ${(()=>{let r="";for(let i=e;i<n;i++)r+=this.pageLinkTemplate(i+1,i,t.NUMBER);return r})()}\n       ${this.navLinkTemplate("›",t.NUMBER+1,t.NUMBER>=t.TOTAL-1)}\n       ${this.navLinkTemplate("Last",t.TOTAL-1,t.NUMBER>=t.TOTAL-1)}\n     </ul>`};update=t=>{if(console.log(t),t.TOTAL<=1)return void(this.el.innerHTML="");this.el.innerHTML=this.template(t);const e=document.getElementsByClassName("page-link");for(let t=0;t<e.length;t++)e[t].addEventListener("mousedown",(t=>{console.log("AYO!"),console.log(this.search()),this.page.NUMBER=+t.target.attributes["data-page"].value,this.search()}))}}class X{constructor({elementId:t="",facetOptionTemplate:e=(t,e)=>`\n    <input class="filter-select"\n           id=${t.FIELD+":"+t.VALUE}\n           name=${t.FIELD+":"+t.VALUE}\n           type="checkbox"\n           data-field=${t.FIELD}\n           data-value=${t.VALUE}\n           ${e?"checked":""}>\n    <label for=${t.FIELD+":"+t.VALUE}>${t.VALUE} (${t._id.length})</label>\n    <br>`,field:n=null,mode:r="OR",sort:i=(t,e)=>{t.VALUE.localeCompare(e.VALUE)},title:o="<p>"+n.toUpperCase()+"</p>"},s){this.activeFilters=[],this.el=document.getElementById(t),this.elementId=t,this.facetOptionTemplate=e,this.field=n,this.mode=r,this.search=s,this.sort=i,this.title=o}getActiveFilters=()=>this.activeFilters.length?[{[this.mode]:this.activeFilters}]:[];update=(t,e)=>{if("facet"===e&&"OR"===this.mode)return;const n=t.filter((t=>t.FIELD===this.field));this.el.innerHTML=n.length?this.title+n.sort(this.sort).reduce(((t,e)=>t+this.facetOptionTemplate(e,this.activeFilters.includes(e.FIELD+":"+e.VALUE))),""):"",this.activeFilters.forEach((t=>{if(!document.getElementById(t)){const[e,n]=t.split(":");this.el.innerHTML+=this.facetOptionTemplate({FIELD:e,VALUE:n,_id:[]},!0)}}));for(const t of document.querySelectorAll("#"+this.elementId+" > .filter-select"))t.addEventListener("input",(t=>{console.log(this.elementId),console.log(this.mode);const e=t.target.attributes["data-field"].value+":"+t.target.attributes["data-value"].value;t.target.checked?this.activeFilters.push(e):this.activeFilters=this.activeFilters.filter((t=>t!==e)),this.search("facet")}))}}class Q{constructor(t,e,n={}){this.autoCompleteFunction=n.autoCompleteFunction,this.currentFocus=-1,this.searchboxEl=t,this.search=e,this.limit=n.limit||20,this.threshold=n.threshold||2,this.autocompleteListId=t.id+"-autocomplete-list",this.suggestionsElementId=n.elementId,t.addEventListener("input",this.searchBoxInputListener),t.addEventListener("keydown",this.searchBoxKeydownListener),document.addEventListener("click",(t=>{this.closeAllLists(t.target)}))}closeAllLists=t=>{for(const e of document.getElementsByClassName("autocomplete-items"))t!==e&&t!==this.searchboxEl&&e.parentNode.removeChild(e)};searchBoxKeydownListener=t=>{let e=document.getElementById(this.autocompleteListId);e&&(e=e.getElementsByTagName("div")),40===t.keyCode?(this.currentFocus++,this.addActive(e)):38===t.keyCode?(this.currentFocus--,this.addActive(e)):13===t.keyCode||9===t.keyCode?(t.preventDefault(),this.currentFocus>-1?e&&e[this.currentFocus].click():this.closeAllLists()):27===t.keyCode&&this.closeAllLists()};searchBoxInputListener=async t=>{const e=(await this.autoCompleteFunction(t.target.value)).slice(0,this.limit);let n;const r=t.target.value;if(this.closeAllLists(),!r)return!1;if(r.length<this.threshold)return!1;this.currentFocus=-1;const i=document.createElement("DIV");i.setAttribute("id",this.autocompleteListId),i.setAttribute("class","autocomplete-items"),i.setAttribute("style","position: absolute; background-color:cyan;"),document.getElementById(this.suggestionsElementId).appendChild(i),e.forEach((t=>{n=document.createElement("DIV"),n.innerHTML="<strong>"+t.substr(0,r.length)+"</strong>",n.innerHTML+=t.substr(r.length),n.innerHTML+="<input type='hidden' value='"+t+"'>",n.addEventListener("click",(t=>{this.searchboxEl.value=t.target.getElementsByTagName("input")[0].value,this.closeAllLists(),this.search()})),i.appendChild(n)}))};addActive=t=>{if(!t)return!1;this.removeActive(t),this.currentFocus>=t.length&&(this.currentFocus=0),this.currentFocus<0&&(this.currentFocus=t.length-1),t[this.currentFocus].classList.add("autocomplete-active")};removeActive=t=>{for(let e=0;e<t.length;e++)t[e].classList.remove("autocomplete-active")}}class Z{constructor({elementId:t="searchInput",suggestions:e={}},n,r){this.el=document.getElementById(t),this.el.addEventListener("input",(t=>{r.page.NUMBER=0,n("searchInput")})),this.autocomplete=new Q(this.el,n,e)}}class tt{constructor({index:t=null,count:e={},hits:n={},facets:r=[],searchInput:i={},paging:o={},suggestions:s={}}){this.index=t,this.count=new q(e),this.paging=new J(o,this.search),this.hits=new Y(n),this.searchInput=new Z({...i,suggestions:{autoCompleteFunction:this.index.DICTIONARY,...i.suggestions}},this.search,this.paging),this.facets=r.map((t=>new X(t,this.search))),this.search()}queryOptions=()=>({FACETS:this.facets.map((t=>({FIELD:t.field}))),DOCUMENTS:!0,PAGE:this.paging.page});emptySearchQuery=()=>[{ALL_DOCUMENTS:!0},this.queryOptions()];searchQuery=()=>[[...this.searchInput.el.value.split(/\s+/).filter((t=>t)),...this.facets.map((t=>t.getActiveFilters())).flat(1/0)],this.queryOptions()];search=t=>(this.searchInput.el.value.length+this.facets.map((t=>t.getActiveFilters())).flat(1/0).length?this.index.SEARCH(...this.searchQuery()):this.index.QUERY(...this.emptySearchQuery())).then((e=>{this.hits.update(e.RESULT),this.count.update(e.RESULT_LENGTH),this.facets.forEach((n=>n.update(e.FACETS,t))),this.paging.update(e.PAGING)}))}class et{constructor(t={}){return new W({Level:H.Z,...t})}}class nt{constructor(t={}){return new tt(t)}}var rt=r.d,it=r.UI;export{rt as SearchIndex,it as UI};